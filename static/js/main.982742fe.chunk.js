(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{105:function(e,n,t){},173:function(e,n,t){"use strict";t.r(n);var l=t(1),s=t.n(l),a=t(80),c=t.n(a),i=(t(86),t(2)),r=t(9),o=t.n(r),u=(t(105),[[['"id"','"name"','"parent_id"','"position"','"comment"','"section_title"','"cond"','"check"','"color"','"pre_check"','"importance'],[1,'"Intubation Difficile ? "',-1,0,null,'"V\xe9rifications concernant l\'intubation difficile"','{"yes":[],"no":[],"num":[]}','["yes","no","idk"]',"[0,1,2]",'{"if":[[{"var":"difficult_intubation","op":"est","val":"vrai"}]],"then":"yes"}',0],[2,'"A confirmer l\'incubation difficile"',1,0,null,null,'{"yes":[],"no":[],"idk":[1],"num":[]}','["yes","no"]',"[1,0]",null,0],[3,'"2\xe8me Anesth\xe9siste"',1,1,null,null,'{"yes":[1],"no":[],"num":[]}','["yes","no"]',"[1,0]",null,0],[4,'"2\xe8me Infirmi\xe8re"',1,2,null,null,'{"yes":[1],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[5,'"Mat\xe9riel"',1,3,null,null,'{"yes":[1],"no":[],"num":[]}',"[]",null,null,0],[6,'"Glidescope"',5,0,null,null,'{"yes":[1],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[7,'"Laryngoscope"',5,1,null,null,'{"yes":[1],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[8,'"Set Trach\xe9o"',5,2,null,null,'{"yes":[1],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[9,'"Protocole"',1,4,null,null,'{"yes":[1],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[10,'"Est-elle susceptible d\'\xeatre enceinte ?"',-1,1,'"(Les donn\xe9es patient nous indiquent que la patiente est \xe2g\xe9e entre 15 et 60 ans)"','"V\xe9rifications concernant une possible grossesse"','{"yes":[],"no":[],"num":[{"var":"age","op":">","val":15},{"var":"age","op":"<","val":60},{"var":"gender","op":"=","val":"F"}]}','["yes","no"]',"[0,1]",null,0],[11,'"Arr\xeat des r\xeagles depuis ?"',10,0,null,null,'{"yes":[10],"no":[],"num":[]}','["text"]',null,null,0],[12,'"Test disponible ?"',10,1,null,null,'{"yes":[10],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[13,'"N\xe9gatif ?"',12,0,null,null,'{"yes":[12],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[14,'"Faire test maintenant ?"',12,1,null,null,'{"yes":[],"no":[12],"num":[]}','["yes","no"]',"[0,1]",null,0],[15,'"Postposer l\'intervention ?"',12,2,null,null,'{"yes":[],"no":[12],"num":[]}','["yes","no"]',"[0,1]",null,0],[16,'"Le patient est-il diab\xe9tique ?"',-1,2,null,'"V\xe9rifications concernant le diab\xe8te"','{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",'{"if":[[{"var":"diabetic","op":"est","val":"vrai"}]],"then":"yes"}',0],[17,'"Traitement Oral ?"',16,0,null,null,'{"yes":[16],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[18,'"Arr\xeat des m\xe9dicaments ?"',17,0,null,null,'{"yes":[17],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[19,'"Traitement par piqure \xe0 insuline ?"',16,1,null,null,'{"yes":[16],"no":[17],"num":[]}','["yes","no"]',"[0,1]",null,0],[20,'"Derni\xe8re piqure le ? "',19,0,null,null,'{"yes":[19],"no":[],"num":[]}','["text"]',null,null,0],[21,'"Glyc\xe9mie \xe0 l\'arriv\xe9e HJ ?"',16,2,null,null,'{"yes":[16],"no":[],"num":[]}','["normal","anormal"]',"[0,1]",null,0],[22,'"Consentement chirugicaux et an\xe9st\xe9siques de p\xe8re/m\xe8re"',-1,3,'"Enfant de <15 ans, n\xe9cessite les consentement des parents"','"V\xe9rifications concernant les consentements"','{"yes":[],"no":[],"num":[{"var":"age","op":"<","val":15}]}',"[]",null,null,0],[23,'"Consentement chirugical du p\xe8re"',22,0,null,null,'{"yes":[],"num":[{"var":"age","op":"<","val":15}]}','["yes","no"]',"[0,1]",null,0],[24,'"Consentement chirurgical de la m\xe8re"',22,1,null,null,'{"yes":[],"num":[{"var":"age","op":"<","val":15}]}','["yes","no"]',"[0,1]",null,0],[25,'"Consentement anest\xe9sique du p\xe8re"',22,2,null,null,'{"yes":[],"num":[{"var":"age","op":"<","val":15}]}','["yes","no"]',"[0,1]",null,0],[26,'"Consentement anest\xe9sique de la m\xe8re"',22,3,null,null,'{"yes":[],"num":[{"var":"age","op":"<","val":15}]}','["yes","no"]',"[0,1]",null,0],[27,'"Checks vernis \xe0 ongle"',-1,4,'"Ado/Adulte, n\xe9cessite v\xe9rification du vernis \xe0 ongle et des proth\xe8ses auditives/dentaires"','"Checks g\xe9n\xe9raux pour anest\xe9sie"','{"yes":[],"num":[{"var":"age","op":">","val":10}]}','["ok","not_ok"]',"[0,1]",null,0],[28,'"Check Proth\xe8ses dentaires"',27,0,null,null,'{"yes":[],"num":[{"var":"age","op":">","val":10}]}','["ok","not_ok"]',"[0,1]",null,0],[29,'"Check Proth\xe8ses auditives"',27,1,null,null,'{"yes":[],"num":[{"var":"age","op":">","val":10}]}','["ok","not_ok"]',"[0,1]",null,0],[30,'"Maladie transmissible ?"',-1,5,'"Si oui, l\'information sera consid\xe9r\xe9e dans les checklists suivantes (accueil du bloc, salle de r\xe9veil)"','"V\xe9rifications maladadies transmissibles"','{"yes":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[31,'"Par voie a\xe9rienne ? "',30,0,null,null,'{"yes":[30],"num":[]}','["yes","no"]',"[0,1]",'{"if":[[{"val":"yes","var":34},{"val":"yes","var":37}]],"then":"no"}',0],[32,'"EPI (Masque FFP2, Visi\xe8re)"',31,0,null,null,'{"yes":[31],"num":[]}','["yes","no"]',"[0,1]",null,0],[33,'"Protocole"',31,1,null,null,'{"yes":[31],"num":[]}','["ok","not_ok"]',"[0,1]",null,0],[34,'"Par voie sanguine ? "',30,1,null,null,'{"yes":[30],"no":[],"num":[]}','["yes","no"]',"[0,1]",'{"if":[[{"val":"yes","var":31},{"val":"yes","var":37}]],"then":"no"}',0],[35,'"EPI (Gants, blouses, lunettes)"',34,0,null,null,'{"yes":[34],"num":[]}','["yes","no"]',"[0,1]",null,0],[36,'"Protocole"',34,1,null,null,'{"yes":[34],"num":[]}','["ok","not_ok"]',"[0,1]",null,0],[37,'"Par contact ? "',30,2,null,null,'{"yes":[30],"no":[],"num":[]}','["yes","no"]',"[0,1]",'{"if":[[{"var":31,"val":"yes"},{"val":"yes","var":34}]],"then":"no"}',0],[38,'"EPI"',37,0,null,null,'{"yes":[37],"num":[]}','["yes","no"]',"[0,1]",null,0],[39,'"Protocole"',37,1,null,null,'{"yes":[37],"num":[]}','["ok","not_ok"]',"[0,1]",null,0],[40,'"Autre moyen de transmission"',30,3,null,null,'{"yes":[30],"no":[31,34,37],"num":[]}','["text"]',"[0,1]",null,0]],['"id"'],[['"id"','"name"','"parent_id"','"position"','"comment"','"section_title"','"cond"','"check"','"color"','"pre_check"','"importance'],[1,'"Intervention Urgente"',-1,0,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no"]',"[1,0,2]",null,1],[2,'"Dossier infirmier pr\xe9sent"',-1,1,null,'"Infirmi\xe8re de l\'unit\xe9 de soin qui pr\xe9pare le patient"','{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[3,'"Patient (A=conscient, B=inconscient, C=d\xe9ment, D=Discommunicant)"',-1,2,null,null,'{"yes":[],"no":[],"num":[]}','["a","b","c","d"]',"[0,1,1,1,2]",null,0],[4,'"Patient"',-1,3,null,null,'{"yes":[],"no":[],"num":[]}','["list_patient-states"]',"[0]",null,0],[5,'"Le patient d\xe9cline son nom"',-1,4,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no","na"]',"[0,1,2]",null,0],[6,'"Le patient d\xe9cline son pr\xe9nom "',-1,5,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no","na"]',"[0,1,2]",null,0],[7,'"Le patient d\xe9cline sa date de naissance"',-1,6,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no","na"]',"[0,1,2]",null,0],[8,'"V\xe9rifier la concordance entre le dossier et le bracelet d\'identit\xe9 du patient"',-1,7,null,null,'{"yes":[],"no":[],"num":[]}','["ok","not_ok"]',"[0,1]",null,0],[9,'"Consentement du patient"',-1,8,null,null,'{"yes":[],"no":[],"num":[{"var":"age","op":">","val":17}]}','["yes","no"]',"[0,1]",null,0],[10,'"Consentement du parent ( <18 ans ) "',-1,9,null,null,'{"yes":[],"no":[],"num":[{"var":"age","op":"<","val":18}]}','["yes","no"]',"[0,1]",null,0],[11,'"Le patient d\xe9cline le c\xf4t\xe9 \xe0 op\xe9rer"',-1,10,null,null,'{"yes":[],"no":[],"num":[]}','["left","right","idk","na"]',"[2,2,1,2,2]",null,0],[12,"\"L'infirmi\xe8re v\xe9rifie dans le dossier le type d'intervention\"",-1,11,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[13,'"Maladies transmissibles connues"',-1,12,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no"]',"[1,0,2]",null,0],[14,'"Lesquelles ?"',13,0,null,null,'{"yes":[13],"no":[],"num":[]}','["list_diseases"]',"[1]",null,0],[15,'"Patient(e) \xe0 jeun"',-1,13,null,'"\xc0 v\xe9rifier"','{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[16,'"Vernis \xe0 ongle \xf4t\xe9"',-1,14,null,null,'{"yes":[],"no":[],"num":[{"var":"age","op":">","val":11}]}','["yes","no"]',"[0,1]",null,0],[17,'"A urin\xe9"',-1,15,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[18,'"Proth. dentaire/auditives/lentilles \xf4t\xe9es"',-1,16,null,null,'{"yes":[],"no":[],"num":[{"var":"age","op":">","val":11}]}','["yes","no"]',"[0,1]",null,0],[19,'"Bijoux/piercings \xf4t\xe9s"',-1,17,null,null,'{"yes":[],"no":[],"num":[{"var":"age","op":">","val":11}]}','["yes","no"]',"[0,1]",null,0],[20,'"M\xe9dicamenteuses"',-1,18,null,'"Le patient d\xe9clare ses allergies"','{"yes":[],"no":[],"num":[]}','["yes","no","na"]',"[1,0,2]",null,0],[21,'"Lesquelles ?"',20,0,null,null,'{"yes":[20],"no":[],"num":[]}','["list_alergy-meds"]',"[1]",null,0],[22,'"Alimentaires"',-1,19,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no","na"]',"[1,0,2]",null,0],[23,'"Lesquelles ?"',22,0,null,null,'{"yes":[22],"no":[],"num":[]}','["list_alergy-aliments"]',"[1]",null,0],[24,'"Hygi\xe8ne du patient correcte"',-1,20,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[25,'"Propret\xe9 et int\xe9grit\xe9 du site op\xe9ratoire"',-1,21,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[26,'"D\xe9pilation"',-1,22,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[27,'"Pr\xe9sence de bas de contention"',-1,23,null,null,'{"yes":[],"no":[],"num":[{"var":"age","op":">","val":11}]}','["yes","no","na"]',"[0,1,2]",null,0],[28,'"Nom"',-1,24,null,'"Infirmi\xe8r(e) de l\'US qui a pr\xe9par\xe9 le patient pour le BO "','{"yes":[],"no":[],"num":[]}','["list_nurses"]',"[0]",null,0]],[['"id"','"name"','"parent_id"','"position"','"comment"','"section_title"','"cond"','"check"','"color"','"pre_check"','"importance'],[1,'"Intervention Urgente"',-1,0,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no"]',"[1,0,2]",null,1],[2,'"Dossier infirmier pr\xe9sent"',-1,1,null,'"Infirmi\xe8re BO qui accueille le patient"','{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[3,'"Patient (A=conscient, B=inconscient, C=d\xe9ment, D=Discommunicant)"',-1,2,null,null,'{"yes":[],"no":[],"num":[]}','["a","b","c","d"]',"[0,1,1,1,1]",null,0],[4,'"Le patient d\xe9cline son nom"',-1,3,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no","na"]',"[0,1,2]",null,0],[5,'"Le patient d\xe9cline son pr\xe9nom"',-1,4,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no","na"]',"[0,1,2]",null,0],[6,'"Le patient d\xe9cline sa date de naissance"',-1,5,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no","na"]',"[0,1,2]",null,0],[7,'"V\xe9rifier la concordance entre le dossier et le bracelet d\'identit\xe9 du patient "',-1,6,null,null,'{"yes":[],"no":[],"num":[]}','["ok","not_ok"]',"[0,1]",null,0],[8,'"Consentement du patient"',-1,7,null,null,'{"yes":[],"no":[],"num":[{"var":"age","op":">","val":17}]}','["yes","no"]',"[0,1]",null,0],[9,'"Consentement du parent ( <18 ans )"',-1,8,null,null,'{"yes":[],"no":[],"num":[{"var":"age","op":"<","val":18}]}','["yes","no"]',"[0,1]",null,0],[10,'"Le patient d\xe9cline le c\xf4t\xe9 \xe0 op\xe9rer"',-1,9,null,null,'{"yes":[],"no":[],"num":[]}','["left","right", "idk", "na"]',"[2,2,1,2]",null,0],[11,"\"L'infirmi\xe8re v\xe9rifie dans le dossier le type d'intervention\"",-1,10,null,null,'{"yes":[],"no":[],"num":[]}','["ok", "not_ok"]',"[0,1,2]",null,0],[12,'"Maladies transmissibles connues"',-1,11,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no"]',"[1,0]",null,0],[13,'"Lesquelles ?"',12,0,null,null,'{"yes":[12],"no":[],"num":[]}','["list_diseases"]',"[1]",null,0],[14,'"Patient(e) \xe0 jeun"',-1,12,null,'"\xc0 v\xe9rifier"','{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[15,'"Vernis \xe0 ongles \xf4t\xe9"',-1,13,null,null,'{"yes":[],"no":[],"num":[{"var":"age","op":">","val":11}]}','["yes","no"]',"[0,1]",null,0],[16,'"A urin\xe9"',-1,14,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[17,'"Proth. dentaires/auditives/lentilles \xf4t\xe9es"',-1,15,null,null,'{"yes":[],"no":[],"num":[{"var":"age","op":">","val":11}]}','["yes","no"]',"[0,1]",null,0],[18,'"Bijoux/piercings \xf4t\xe9s"',-1,16,null,null,'{"yes":[],"no":[],"num":[{"var":"age","op":">","val":11}]}','["yes","no"]',"[0,1]",null,0],[19,'"M\xe9dicamenteuses"',-1,17,null,'"Le patient d\xe9clare ses allergies :"','{"yes":[],"no":[],"num":[]}','["yes","no","na"]',"[1,0,2]",null,0],[20,'"Lesquelles ?"',19,0,null,null,'{"yes":[19],"no":[],"num":[]}','["list_alergy-meds"]',"[1]",null,0],[21,'"Alimentaires"',-1,18,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no","na"]',"[1,0,2]",null,0],[22,'"Lesquelles ?"',21,0,null,null,'{"yes":[21],"no":[],"num":[]}','["list_alergy-aliments"]',"[1]",null,0],[23,'"Hygi\xe8ne du patient correcte"',-1,19,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[24,'"Propret\xe9 et int\xe9grit\xe9 du site op\xe9ratoire"',-1,20,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[25,'"D\xe9pilation"',-1,21,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[26,'"Pr\xe9sence de bas de contention"',-1,22,null,null,'{"yes":[],"no":[],"num":[{"var":"age","op":">","val":11}]}','["yes","no","na"]',"[0,1,2]",null,0],[27,'"Nom"',-1,23,null,'"Infirmi\xe8re qui accueille le patient au BO :"','{"yes":[],"no":[],"num":[]}','["list_nurses"]',"[0]",null,0]],[['"id"','"name"','"parent_id"','"position"','"comment"','"section_title"','"cond"','"check"','"color"','"pre_check"','"importance'],[1,'"Date de l\'intervention"',-1,0,null,null,'{"yes":[],"no":[],"num":[]}','["date"]',"[0,1,2]",null,0],[2,'"Salle "',-1,1,null,null,'{"yes":[],"no":[],"num":[]}','["list_room"]',"[0,1]",null,0],[3,'"Pr\xe9sentation des personnes inhabituelles"',-1,2,null,'"Chirurgien / Inf. circul. / Instrumentaliste / Anesth\xe9siste"','{"yes":[],"no":[],"num":[]}','["yes","no","na"]',"[0,1,2]",null,0],[4,'"V\xe9rification identit\xe9 du patient"',-1,3,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[5,"\"Rappel de l'intitul\xe9 de l'intervention\"",-1,4,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[6,'"Site op\xe9ratoire"',-1,5,null,null,'{"yes":[],"no":[],"num":[]}','["left","right","na"]',"[2,2,2,2,2]",null,0],[7,'"Maladies transmissibles"',-1,6,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no"]',"[1,0]",null,0],[8,'"Lesquelles ?"',7,0,null,null,'{"yes":[7],"no":[],"num":[]}','["list_diseases"]',"[1]",null,0],[9,'"Risque de perte sanguine..."',-1,7,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no","na"]',"[1,0,2]",null,0],[10,'"Poches de sang..."',9,0,null,null,'{"yes":[9],"no":[],"num":[]}','["ok","not_ok"]',"[0,1]",null,0],[11,'"V\xe9rif. administr. AB Prophyl."',-1,8,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no","na"]',"[0,1,2]",null,0],[12,'"Heure"',-1,9,null,null,'{"yes":[],"no":[],"num":[]}','["hour"]',"[0,1]",null,0],[13,'"Mat\xe9riel d\'anesth\xe9sie disponible / ordre de marche"',-1,10,null,'"An\xe9sthesiste"','{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[14,'"Respirateur"',-1,11,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[15,'"Oxym. de pouls"',-1,12,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[16,'"Monitoring"',-1,13,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[17,'"Difficult\xe9s airways et/ou intubation"',-1,14,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no","na"]',"[1,0,2]",null,0],[18,'"Glydescope ou \xe9quivalent pr\xe9sent"',17,0,null,null,'{"yes":[17],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[19,'"Mat\xe9riel pour l\'infirmi\xe8re circulante disponible et en ordre de marche (laryngoscope, ...)"',-1,15,null,'"Infirmi\xe8re circulante"','{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[20,'"La st\xe9rilit\xe9 du mat\xe9riel disposable et non disposable a \xe9t\xe9 v\xe9rifi\xe9e (r\xe9sultats des indicateurs + v\xe9rification date p\xe9remption)"',-1,16,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[21,'"Induction - Nom "',-1,17,null,'"Anesth\xe9sistes"','{"yes":[],"no":[],"num":[]}','["list_anesthesists"]',"[0,1]",null,0],[22,'"R\xe9veil - Nom"',-1,18,null,null,'{"yes":[],"no":[],"num":[]}','["list_anesthesists"]',"[0,1]",null,0],[23,'"Si changement - Nom"',-1,19,null,null,'{"yes":[],"no":[],"num":[]}','["list_anesthesists"]',"[0,1]",null,0]]]),d=[{checklist_id:2,name:"Unit\xe9 de soin",person:"Inf. de l'US qui pr\xe9pare le patient ",type:"Chirurgie Majeure"},{checklist_id:3,name:"Accueil Patient BO",person:"Inf. BO qui accueille le patient",type:"Chirurgie Majeure"},{checklist_id:4,name:"Avant Induction An\xe9sth\xe9sique",person:"Chirurgien/Inf. \n Circul./Instrumentiste/An\xe9sth\xe9siste",type:"Chirurgie Majeure"},{checklist_id:0,name:"Principale",type:"Chirurgie Majeure"},{checklist_id:1,name:"Seconde",type:"Chirurgie Majeure"}],m=[{id:0,lastname:"Dubois",firstname:"Germaine",gender:"F",dateofbirth:"02/11/1940",diabetic:"faux",difficult_intubation:"vrai"},{id:1,lastname:"Vandamme",firstname:"Gilbert",gender:"M",dateofbirth:"08/25/1960",diabetic:"vrai",difficult_intubation:"vrai"},{id:2,lastname:"Perlot",firstname:"Claude",gender:"M",dateofbirth:"12/16/1975",diabetic:"faux",difficult_intubation:"faux"},{id:3,lastname:"Boulet",firstname:"Arnaud",gender:"M",dateofbirth:"03/17/1981",diabetic:"faux",difficult_intubation:"faux"},{id:4,lastname:"Charlier",firstname:"Emile",gender:"M",dateofbirth:"09/19/1953",diabetic:"faux",difficult_intubation:"vrai"},{id:5,lastname:"Nash",firstname:"Emilie",gender:"F",dateofbirth:"03/30/2015",diabetic:"vrai",difficult_intubation:"vrai"},{id:6,lastname:"Materne",firstname:"Marie",gender:"F",dateofbirth:"08/23/1982",diabetic:"faux",difficult_intubation:"faux"},{id:7,lastname:"Bernard",firstname:"Virginie",gender:"F",dateofbirth:"06/03/1986",diabetic:"faux",difficult_intubation:"faux"},{id:8,lastname:"Lemoine",firstname:"Karine",gender:"F",dateofbirth:"01/25/1977",diabetic:"vrai",difficult_intubation:"vrai"}],b={meds:["Mc","Lis","Kl","Eft","Aucun"],diseases:["H\xe9patite","Covid","HIV","Tuberculose","Grippe","Pneumonie","MRSA"],"patient-states":["Conscient","Inconscient","D\xe9ment","Discommunicant"],"alergy-meds":["Latex","Peniciline","Insuline","Ibuprof\xe8ne"],"alergy-aliments":["Gluten","Lactose","Arachides"],nurses:["Avril Charpentier"," Emilie Lachance","Camille Dupond","Alix Lefurgey","Bastien Bellerose","J\xe9r\xe9my Duchamps"],anesthesists:["Jean Dupond","Carole Marchal","Louis Libier","Charles Van Acker"],room:["A","B","C","D"]},h={meds:"M\xe9dicaments",diseases:"Maladies","patient-states":"Etats Patients","alergy-meds":"Allergies M\xe9dicamenteuses","alergy-aliments":"Allergies Alimentaires",nurses:"Infirmi\xe8res",anesthesists:"Anesth\xe9sistes",room:"Salle"},j=[],p=(t(106),["yes","no","idk","ok","not_ok","normal","anormal","left","right","na","a","b","c","d","text","list"]),v={yes:"Oui",no:"Non",idk:"?",ok:"OK",not_ok:"Non OK",normal:"Normal",anormal:"Anormal",na:"N.A.",left:"Gauche",right:"Droite",a:"A",b:"B",c:"C",d:"D",text:"Texte",list:"Liste"},g=["diabetic","age","yearofbirth","difficult_intubation","gender"],x={diabetic:"Diab\xe9tique",age:"\xc2ge",yearofbirth:"Ann\xe9e de naissance",difficult_intubation:"Intubation Difficile",gender:"Genre"},y=["<",">","="],f=function(e){return v[e]},O=function(e){return x[e]},N=function(e,n,t){switch(n){case">":return e>t;case"<":return e<t;case"=":case"est":return e===t;default:return!0}};function k(e,n,t,l){this.dataArray=e,this.fileName=n,this.separator=t||";",this.addQuotes=!!l,this.addQuotes&&(this.separator='"'+this.separator+'"'),this.getDownloadLink=function(){var e=this.separator,n=this.addQuotes,t="data:text/csv;charset=utf-8",l=this.dataArray.map((function(t){var l=t.join(e);return l.length&&n?'"'+l+'"':l})).join("\n");return"function"===typeof btoa?(t+=";base64",l=btoa(l)):l=encodeURIComponent(l),this.downloadLink=this.downloadLink||t+","+l},this.getLinkElement=function(e){var n=this.getDownloadLink(),t=this.fileName;return this.linkElement=this.linkElement||function(){var l=document.createElement("a");return l.innerHTML=e||"",l.href=n,l.download=t,l}(),this.linkElement},this.download=function(e){var n=this.getLinkElement();n.style.display="none",document.body.appendChild(n),n.click(),e&&document.body.removeChild(n)}}function w(e){var n=[["id","name","parent_id","position","comment","section_title","cond","check","color","pre_check"]];return n=_(e,n,0,0),console.log(n),function(e){var n="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(e,null,"\t"));console.log(n);var t=document.createElement("a");t.href=n,t.download="checklist.json",document.body.appendChild(t),t.click(),t.remove()}(n),n}function _(e,n,t,l){e.id>0&&(console.log(JSON.stringify(e.cond)),n.push([e.id,e.name,t,l,e.comment,e.section_title,JSON.stringify(e.cond),JSON.stringify(e.check),JSON.stringify(e.color),e.pre_check?JSON.stringify(e.pre_check):null]));for(var s=0;s<e.values.length;s++)n=_(e.values[s],n,e.id,s);return n}function C(e,n){return S({checklist_id:n,id:-1,num_values:[],values:[]},e)}function S(e,n){var t=n.filter((function(n){return n[2]===e.id}));if(t.sort((function(e,n){return e[3]-n[3]})),!t.length)return e;for(var l=0;l<t.length;l++){var s=t[l],a={id:s[0],name:JSON.parse(s[1]),comment:JSON.parse(s[4]),section_title:JSON.parse(s[5]),cond:JSON.parse(s[6]),check:JSON.parse(s[7]),color:JSON.parse(s[8]),pre_check:JSON.parse(s[9]),importance:JSON.parse(s[10]),values:[]};a=S(a,n),e.values.push(a)}return e}var q=t(0);function M(e){var n=e.props,t=n.creationMode,l=n.setCreationMode,s=(n.creditMode,n.setCreditMode),a=n.setCommentMode,c=n.commentMode,i=n.setDebugMode,r=n.debugMode,o=n.trimmedCanvasUrl,u=n.checklistList,d=n.swapchecklist,m=(n.reset,n.forceUpdate,n.import_csv_result),b=(n.result,n.setCurrentQuestion),h=n.checklist,j=function(){s(!1)};return Object(q.jsx)("div",{className:"iq-top-navbar h-auto ",children:Object(q.jsx)("div",{className:"iq-navbar-custom py-2",children:Object(q.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light p-0",children:[Object(q.jsx)("div",{className:"navbar-brand pl-4",children:Object(q.jsx)("a",{href:"#",onClick:j,children:Object(q.jsx)("span",{children:"SLS"})})}),Object(q.jsx)("label",{className:"navbar-toggler p-0 m-0","data-toggle":"collapse","data-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(q.jsx)("span",{className:"navbar-toggler-icon"})}),Object(q.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNavAltMarkup",children:Object(q.jsxs)("div",{className:"navbar-nav  p-2 pl-4",children:[Object(q.jsx)("label",{className:"nav-link active m-0","aria-current":"page","data-toggle":"collapse","data-target":".navbar-collapse.show",onClick:j,children:"Page d'accueil"}),Object(q.jsx)("label",{className:"nav-link m-0","data-toggle":"collapse","data-target":".navbar-collapse.show",onClick:m,children:"Importer la checklist"}),Object(q.jsx)("label",{className:"nav-link m-0","data-toggle":"collapse","data-target":".navbar-collapse.show",onClick:function(){o&&A(o,"image.png")},children:"Importer la signature"}),Object(q.jsxs)("li",{className:"nav-item dropdown",children:[Object(q.jsx)("label",{className:"nav-link dropdown-toggle m-0",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-expanded":"false",children:"Liste des checklists disponibles"}),Object(q.jsx)("ul",{className:"dropdown-menu","aria-labelledby":"navbarDropdown",children:u?u.map((function(e,n){return Object(q.jsx)("li",{children:Object(q.jsx)("label",{className:"dropdown-item m-0","data-toggle":"collapse","data-target":".navbar-collapse.show",onClick:function(){d(e.checklist_id)},children:e.name})},n)})):null})]}),Object(q.jsxs)("li",{className:"nav-item dropdown",children:[Object(q.jsx)("label",{className:"nav-link dropdown-toggle m-0",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-expanded":"false",children:"Options"}),Object(q.jsxs)("ul",{className:"dropdown-menu","aria-labelledby":"navbarDropdown",children:[Object(q.jsx)("li",{children:Object(q.jsxs)("label",{className:"dropdown-item m-0","data-toggle":"collapse","data-target":".navbar-collapse.show",children:[Object(q.jsx)("input",{type:"checkbox",checked:t,onClick:function(){t?(l(!1),b(h&&h.values.length?h.values[0]:null)):l(!0)}}),"\xa0 Mode cr\xe9ation"]})}),Object(q.jsx)("li",{children:Object(q.jsxs)("label",{className:"dropdown-item m-0","data-toggle":"collapse","data-target":".navbar-collapse.show",children:[Object(q.jsx)("input",{type:"checkbox",checked:!r,onClick:function(){i(!r)}}),"\xa0 Activer le dynamisme"]})}),Object(q.jsx)("li",{children:Object(q.jsxs)("label",{className:"dropdown-item m-0","data-toggle":"collapse","data-target":".navbar-collapse.show",children:[Object(q.jsx)("input",{type:"checkbox",checked:c,onClick:function(){a(!c)}}),"\xa0 Activer les commentaires"]})})]})]}),Object(q.jsx)("label",{className:"nav-link m-0","data-toggle":"collapse","data-target":".navbar-collapse.show",onClick:function(){s(!0)},children:"A propos"})]})})]})})})}var A=function(e,n){var t=document.createElement("a");t.href=e,t.download=n,document.body.appendChild(t),t.click()},I=t(81),L=t.n(I);function P(e){var n=e.props,t=n.sigpad,s=n.setTrimmedCanvasUrl;Object(l.useEffect)((function(){a()}),[]);var a=function(){t.clear(),s(null)};return Object(q.jsx)("div",{className:"container iq-card rounded-0-top border-bottom border-right border-left border-dark shadow",children:Object(q.jsxs)("div",{className:"row align-items-center p-0 m-0 h-100",children:[Object(q.jsx)("div",{className:"col-sm-3 m-0 p-0 text-center text-dark",children:"Veuillez rentrer votre signature :"}),Object(q.jsx)("div",{className:"col m-0 p-0 h-100 py-2 ",children:Object(q.jsx)("div",{className:"container iq-card m-0 bg-light border",children:Object(q.jsx)("div",{className:"sigContainer",children:Object(q.jsx)(L.a,{canvasProps:{className:"sigPad"},ref:function(e){t=e}})})})}),Object(q.jsxs)("div",{className:"col-sm-3 mx-2 p-0",children:[Object(q.jsx)("div",{className:"row align-items-center p-0 m-0 mb-2 mt-4 px-4",children:Object(q.jsx)("button",{type:"button",className:"btn btn-warning w-100",onClick:function(){var e=t.getTrimmedCanvas().toDataURL();s(e)},children:"Valider la signature"})}),Object(q.jsx)("div",{className:" row align-items-center p-0 m-0 mb-4 px-4",children:Object(q.jsx)("button",{type:"button",className:"btn btn-secondary w-100",onClick:a,children:"R\xe9initialiser"})})]})]})})}var E=t(50),D=t(49),K=t(3),Q=t.n(K);function B(e){var n=e.props,t=n.checklist,s=n.setChecklist,a=n.checklistList,c=(n.setChecklistList,n.checklistId),r=(n.setChecklistId,n.forceUpdate),u=(n.setResult,n.setIsDict,n.init_dict,n.setIsPreCheckDone,n.currentQuestion),d=n.setCurrentQuestion,m=n.swapchecklist,j=Object(l.useState)(t),v=Object(i.a)(j,2),x=v[0],N=v[1],k=Object(l.useState)(t&&t.values.length?t.values[0].name:" "),_=Object(i.a)(k,2),C=_[0],S=_[1],M=Object(l.useState)(t&&t.values[0].comment?t.values[0].comment:null),A=Object(i.a)(M,2),I=A[0],L=A[1],P=Object(l.useState)(t&&t.values[0].section_title?t.values[0].section_title:null),K=Object(i.a)(P,2),B=K[0],V=K[1],J=Object(l.useState)({}),F=Object(i.a)(J,2),U=F[0],T=F[1],R=Object(l.useState)({type:"and",then:t.values[0].pre_check&&t.values[0].pre_check.then?t.values[0].pre_check.then:null}),z=Object(i.a)(R,2),G=z[0],H=z[1],W=Object(l.useState)(0),Y=Object(i.a)(W,2),X=Y[0],Z=Y[1],$=Object(l.useState)(!1),ee=Object(i.a)($,2),ne=ee[0],te=ee[1];console.log("main",u),console.log("name",C);var le=[];t&&function e(n){n.id>0&&le.push(n.id);var t,l=Object(D.a)(n.values);try{for(l.s();!(t=l.n()).done;){e(t.value)}}catch(s){l.e(s)}finally{l.f()}}(t);var se=[],ae=[],ce=[];u&&(se=[],p.forEach((function(e){["text","list"].includes(e)?ce.push({labelKey:e,value:f(e)}):(se.push({labelKey:e,value:f(e),isSelected:u.check.includes(e)}),ae.push({labelKey:e,value:f(e)}))})));var ie=[];u&&(ie=[],g.forEach((function(e){ie.push({labelKey:e,value:O(e)})})));var re=JSON.parse(JSON.stringify(ie));u&&le.forEach((function(e){re.push({labelKey:e,value:"Question "+e})}));var oe=[];u&&(oe=[],y.forEach((function(e){oe.push({labelKey:e,value:e})})));var ue=[];u&&(ue=[],u.check.forEach((function(e){ue.push({labelKey:e,value:f(e)})})));var de=[];function me(e,n,t){if(e.id===t)return console.log("found",e),x=n,d(u=e),N(x),S(u.name),T({}),H({}),L(u.comment),V(u.section_title),Z(!X),te(!1),u;var l,s=null,a=Object(D.a)(e.values);try{for(a.s();!(l=a.n()).done;){s=me(l.value,e,t)||s}}catch(c){a.e(c)}finally{a.f()}return s}function be(){x&&(x.values=x.values.filter((function(e){return e.id!==u.id})),function(e){console.log("reinit",e),d(e&&e.values.length?e.values[0]:null),N(e),S(e&&e.values.length?e.values[0].name:""),L(e&&e.values.length?e.values[0].comment:""),V(e&&e.values[0].section_title?e.values[0].section_title:null),T({}),H({type:"and",then:e.values[0].pre_check&&e.values[0].pre_check.then?e.values[0].pre_check.then:null}),te(!1)}(t),r())}function he(e,n){return e.id===n||e.values.length&&e.values.every((function(e){return he(e)}))}function je(e){if(!he(u,e)){var n=Object(E.a)({},u);n.cond={yes:[],no:[],num:[]},be(),me(t,null,e),u.values.splice(0,0,n),me(t,null,n.id),r()}}u&&Object.keys(b).forEach((function(e){de.push({labelKey:e,value:h[e]})}));var pe=function(e){if(e.selectedKey.length)if(e.selectedKey.includes("list")||e.selectedKey.includes("text"))"list"===e.selectedKey[0]?u.check=["list_meds"]:u.check=e.selectedKey;else{u.check=e.selectedKey;var n=u.color;u.check.length>=n.length&&(n=n.concat(new Array(u.check.length-n.length).fill(2))),u.color=n}else u.check=[];d(u),xe(),r()},ve=function(e){U||(U={}),U.var&&["diabetic","difficult_intubation","gender"].includes(U.var)?U.val=e.selectedKey[0]:U.val=e.target.value,T(U),r()},ge=function(e){G.var&&!["age","yearofbirth"].includes(G.var)?G.val=e.selectedKey[0]:G.val=e.target.value,H(G),r()},xe=function(){X=(X+1)%4};return console.log(u),console.log(C),Object(q.jsxs)("div",{className:"container iq-card pt-2 border border-dark shadow",children:[Object(q.jsx)("div",{className:"iq-card bg-primary text-center mb-2",children:Object(q.jsxs)("div",{className:"card-body",children:[Object(q.jsx)("h4",{className:"card-title text-white",children:"Mode Cr\xe9ation "}),Object(q.jsx)("p",{className:"card-text  m-0",children:"Vous pouvez ajouter, supprimer, modifier des checklists et des questions ici."}),Object(q.jsx)("p",{className:"card-text ",children:"La checklist modifi\xe9e s'affiche en dessous."})]})}),Object(q.jsxs)("div",{className:"row align-items-center p-0 m-0 pb-2 border-bottom border-",children:[Object(q.jsx)("div",{className:"col align-items-center ",children:Object(q.jsxs)("div",{className:"dropright text-center",children:[Object(q.jsx)("button",{className:"btn btn-info dropdown-toggle ",type:"button",id:"dropdownMenuButton1","data-toggle":"dropdown","aria-expanded":"false",children:"S\xe9lectionnez la checklist"}),Object(q.jsxs)("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:[Object(q.jsx)("li",{children:Object(q.jsx)("label",{className:"dropdown-item ",onClick:function(e){!function(){var e=a.length?a[a.length-1].checklist_id+1:0;o.a.get("https://api.npms.io/v2/search?q=react").then((function(n){s(a),m(e),console.log("add checklist get call and set finished")}))}(),r()},children:"Nouvelle checklist"})}),a.map((function(e,n){return Object(q.jsx)("li",{children:Object(q.jsxs)("label",{className:"dropdown-item ",onClick:function(){m(e.checklist_id)},children:["Checklist ",e.name]})},n)}))]})]})}),Object(q.jsx)("div",{className:"col align-items-center p-2",children:Object(q.jsxs)("div",{className:"iq-card card-light text-dark text-center shadow-sm mb-0 ",children:["Checklist n\xb0",c]})}),Object(q.jsx)("div",{className:"col align-items-center p-2",children:Object(q.jsxs)("div",{className:"iq-card card-light text-dark text-center shadow-sm mb-0",children:["Question n\xb0",u?u.id:" -"]})}),Object(q.jsx)("div",{className:"col align-items-center ",children:Object(q.jsxs)("div",{className:"dropleft text-center",children:[Object(q.jsx)("button",{className:"btn btn-info dropdown-toggle  ",type:"button",id:"dropdownMenuButton1","data-toggle":"dropdown","aria-expanded":"false",children:"S\xe9lectionnez la question"}),Object(q.jsxs)("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:[Object(q.jsx)("li",{children:Object(q.jsx)("label",{className:"dropdown-item ",onClick:function(e){!function(){var e=le.length?le.length:0,n={id:e+1,name:"",cond:{yes:[],no:[],num:[]},check:["yes","no"],color:[0,1],values:[]};t.values.push(n),me(t,null,e+1)}(),r()},children:"Nouvelle question"})}),le.map((function(e,n){return Object(q.jsx)("li",{children:Object(q.jsxs)("label",{className:"dropdown-item ",onClick:function(){me(t,null,e)},children:["Question n\xb0",e]})},n)}))]})]})})]}),u?Object(q.jsxs)("div",{children:[Object(q.jsxs)("div",{className:"row align-items-center p-2 m-0 border-bottom",children:[Object(q.jsx)("div",{className:"col-sm-4 align-items-center text-dark ",children:"Nom de la question :"}),Object(q.jsx)("div",{className:"col-sm-4 align-items-center",children:Object(q.jsx)("input",{className:"form-control w-100 mb-0",type:"text ","aria-label":"text input",value:C,onChange:function(e){C=e.target.value,S(C)}},c)}),Object(q.jsx)("div",{className:"col-sm-4 align-items-center p-0 text-center ",children:Object(q.jsx)("button",{className:"btn btn-warning ",onClick:function(){return u.name=C,d(u),void r()},children:"Valider le nom"})})]}),Object(q.jsxs)("div",{className:"row align-items-center p-2 m-0 border-bottom",children:[Object(q.jsx)("div",{className:"col-sm-4 align-items-center text-dark  ",children:"Commentaire (optionnel) de la question :"}),Object(q.jsx)("div",{className:"col-sm-4 align-items-center ",children:Object(q.jsx)("textarea",{className:"form-control form-control-custom textarea",id:"exampleFormControlTextarea1",rows:"2",value:I||"",onChange:function(e){I=e.target.value,L(I)}})}),Object(q.jsx)("div",{className:"col-sm-4 align-items-center p-0 text-center",children:Object(q.jsx)("button",{className:"btn btn-warning ",onClick:function(e){I?u.comment=I:delete u.comment,r(),r()},children:"Valider le commentaire"})})]}),-1===x.id?Object(q.jsxs)("div",{className:"row align-items-center p-2 m-0 border-bottom",children:[Object(q.jsx)("div",{className:"col-sm-4 align-items-center text-dark  ",children:"Nom de section (optionnel) devant la question :"}),Object(q.jsx)("div",{className:"col-sm-4 align-items-center ",children:Object(q.jsx)("textarea",{className:"form-control form-control-custom textarea",id:"exampleFormControlTextarea1",rows:"2",value:B||"",onChange:function(e){B=e.target.value,V(B)}})}),Object(q.jsx)("div",{className:"col-sm-4 align-items-center p-0 text-center",children:Object(q.jsx)("button",{className:"btn btn-warning ",onClick:function(e){B?u.section_title=B:delete u.section_title,r(),r()},children:"Valider le titre"})})]}):null,Object(q.jsxs)("div",{className:"row align-items-center p-2 m-0 border-bottom",children:[Object(q.jsx)("div",{className:"col-sm-4 align-items-center text-dark",children:"Placer la question \xe0 la suite d'une autre :"}),Object(q.jsx)("div",{className:"col-sm-4 align-items-center"}),Object(q.jsx)("div",{className:"col-sm-4 align-items-center p-0 text-center",children:Object(q.jsxs)("div",{className:"dropleft text-center",children:[Object(q.jsx)("button",{className:"btn btn-warning dropdown-toggle ",type:"button",id:"dropdownMenuButton1","data-toggle":"dropdown","aria-expanded":"false",children:"Quelle question ?"}),Object(q.jsxs)("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:[Object(q.jsx)("li",{children:Object(q.jsx)("label",{className:"dropdown-item ",onClick:function(){return je(-1)},children:"Au d\xe9but"})}),le.map((function(e,n){return Object(q.jsx)("li",{children:Object(q.jsxs)("label",{className:"dropdown-item ",onClick:function(){return function(e){if(!he(u,e)){var n=Object(E.a)({},u);be(),me(t,null,e);var l=x.values.findIndex((function(n){return n.id===e}));n.cond={yes:[],no:[],num:[]},x.values.splice(l+1,0,n),me(t,null,n.id),r()}}(e)},children:["Question n\xb0",e]})},n)}))]})]})})]}),Object(q.jsxs)("div",{className:"row align-items-center p-2 m-0 border-bottom",children:[Object(q.jsx)("div",{className:"col-sm-4 align-items-center text-dark ",children:"Placer la question comme d\xe9coulant d'une autre :"}),Object(q.jsx)("div",{className:"col-sm-4 align-items-center"}),Object(q.jsx)("div",{className:"col-sm-4 align-items-center p-0 text-center",children:Object(q.jsxs)("div",{className:"dropleft text-center",children:[Object(q.jsx)("button",{className:"btn btn-warning dropdown-toggle ",type:"button",id:"dropdownMenuButton1","data-toggle":"dropdown","aria-expanded":"false",children:"Quelle question ?"}),Object(q.jsxs)("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:[Object(q.jsx)("li",{children:Object(q.jsx)("label",{className:"dropdown-item ",onClick:function(){return je(-1)},children:"Au d\xe9but"})}),le.map((function(e,n){return Object(q.jsx)("li",{children:Object(q.jsxs)("label",{className:"dropdown-item ",onClick:function(){return je(e)},children:["Question n\xb0",e]})},n)}))]})]})})]}),Object(q.jsxs)("div",{className:"row align-items-center p-2 m-0 border-bottom",children:[Object(q.jsx)("div",{className:"col-sm-4 align-items-center text-dark ",children:"Quelles r\xe9ponses possibles ? :"}),Object(q.jsx)("div",{className:"col-sm-4 align-items-center"}),Object(q.jsx)("div",{className:"col-sm-4 align-items-center p-0 text-center",children:Object(q.jsxs)("div",{className:"row",children:[ne?Object(q.jsx)(Q.a,{className:" col w-100 my-auto ",selectStyle:"btn-warning",options:ce,isMultiSelect:!1,placeholder:"Entrer Autres",onChange:pe},!X):Object(q.jsx)(Q.a,{className:" col w-100 my-auto ",selectStyle:"btn-warning",options:se,isMultiSelect:!0,placeholder:"Entrer checkboxs",onChange:pe},X),Object(q.jsx)("button",{className:"col-sm-2 btn btn-outline-info",onClick:function(){te(!ne)},children:Object(q.jsx)("div",{"data-icon":"\ue049",className:"icon mt-1"})})]})})]}),u.check[0]&&"list"===u.check[0].split("_")[0]?Object(q.jsxs)("div",{className:"row align-items-center p-2 m-0 border-bottom",children:[Object(q.jsx)("div",{className:"col-sm-4 align-items-center text-dark ",children:"Quelle liste ? :"}),Object(q.jsx)("div",{className:"col-sm-4 align-items-center"}),Object(q.jsx)("div",{className:"col-sm-4 align-items-center p-0 text-center",children:Object(q.jsx)("div",{className:"row",children:Object(q.jsx)(Q.a,{className:" col w-100 my-auto ",selectStyle:"btn-warning",options:de,isMultiSelect:!1,placeholder:"Aucune",onChange:function(e){e.selectedKey.length&&(u.check=[u.check[0].split("_")[0]+"_"+e.selectedKey[0]],console.log(u.check),d(u),r())}},X)})})]}):null,ne?null:Object(q.jsxs)("div",{className:"border-bottom m-0 py-2 text-center",children:[Object(q.jsxs)("button",{className:"btn btn-secondary m-auto p-2 my-2 ",type:"button","data-toggle":"collapse","data-target":"#collapseColors","aria-expanded":"false","aria-controls":"collapseExample",children:[Object(q.jsx)("i",{className:"las la-angle-down"})," Modifier les couleurs des questions ",Object(q.jsx)("i",{className:"las la-angle-down"})]}),Object(q.jsx)("div",{className:"collapse m-0 p-0",id:"collapseColors",children:Object(q.jsxs)("div",{className:"row align-items-center p-2 m-0 border-bottom",children:[Object(q.jsx)("div",{className:"col-sm-3 align-items-center text-dark ",children:"Avec quelles couleurs ? :"}),Object(q.jsx)("div",{className:"col-sm-9 align-items-center text-center",children:u.check.map((function(e,n){return Object(q.jsxs)("div",{className:"row",children:[Object(q.jsx)("div",{className:"col text-center justify-content-center my-4",children:Object(q.jsx)("div",{className:" iq-card card-grey text-center shadow-sm text-dark m-0",children:f(e)})}),Object(q.jsx)("div",{className:"col text-center justify-content-center my-4",children:Object(q.jsx)("div",{className:" iq-card card-grey text-center shadow-sm text-dark m-0",children:0===u.color[n]?"Vert":1===u.color[n]?"Rouge":"Gris"})}),Object(q.jsx)("div",{className:"col text-center justify-content-center my-3",children:Object(q.jsxs)("div",{className:"dropleft text-center",children:[Object(q.jsx)("button",{className:"btn btn-warning dropdown-toggle m-0 ",type:"button",id:"dropdownMenuButton1","data-toggle":"dropdown","aria-expanded":"false",children:"Quelle couleur ?"}),Object(q.jsx)("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:["Vert","Rouge","Gris"].map((function(n,t){return Object(q.jsx)("li",{children:Object(q.jsx)("label",{className:"dropdown-item ",onClick:function(){return function(e,n){u.color[u.check.indexOf(e)]=n,d(u),r()}(e,t)},children:n})},t)}))})]})})]},n)}))})]})})]}),Object(q.jsxs)("div",{className:"border-bottom m-0 py-2 text-center",children:[Object(q.jsxs)("button",{className:"btn btn-secondary m-auto p-2 my-2 ",type:"button","data-toggle":"collapse","data-target":"#collapseQuestionConditions","aria-expanded":"false","aria-controls":"collapseExample",children:[Object(q.jsx)("i",{className:"las la-angle-down"})," Ajouter/Supprimer des conditions sur les autres questions ",Object(q.jsx)("i",{className:"las la-angle-down"})]}),Object(q.jsx)("div",{className:"collapse m-0 p-0",id:"collapseQuestionConditions",children:Object(q.jsxs)("div",{className:"row align-items-center p-2 m-0",children:[Object(q.jsx)("div",{className:"col-sm-3 align-items-center text-dark ",children:"Quelles conditions sur les r\xe9ponses ? :"}),Object(q.jsx)("div",{className:"col-sm-9 align-items-center",children:p.map((function(e,n){return Object(q.jsxs)("div",{className:"row",children:[Object(q.jsx)("div",{className:"col align-items-center p-2 my-auto",children:Object(q.jsx)("div",{className:"iq-card card-grey text-center shadow-sm m-0 text-dark ",children:f(e)})}),Object(q.jsx)("div",{className:"col align-items-center p-2",children:Object(q.jsx)("div",{className:"list-group list-group-horizontal m-0",children:u&&u.cond[e]?u.cond[e].map((function(n,t){return Object(q.jsxs)("button",{className:" list-group-item list-group-item-custom btn btn-outline-secondary ",type:"button",onClick:function(){return function(e,n){u.cond[e]=u.cond[e].filter((function(e){return e!==n})),console.log(u),d(u),r()}(e,n)},children:[n," "]},t)})):null})}),Object(q.jsx)("div",{className:"col align-items-center p-2 my-auto",children:Object(q.jsxs)("div",{className:"dropleft text-center",children:[Object(q.jsx)("button",{className:"btn btn-warning dropdown-toggle ",type:"button",id:"dropdownMenuButton1","data-toggle":"dropdown","aria-expanded":"false",children:"Quelle question ?"}),Object(q.jsx)("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:le.map((function(n,t){return Object(q.jsx)("li",{children:Object(q.jsxs)("label",{className:"dropdown-item ",onClick:function(){return function(e,n){u.cond[e]?u.cond[e].push(n):u.cond[e]=[n],d(u),r()}(e,n)},children:["Question n\xb0",n]})},t)}))})]})})]},n)}))})]})})]}),Object(q.jsxs)("div",{className:"border-bottom m-0 py-2 text-center",children:[Object(q.jsxs)("button",{className:"btn btn-secondary m-auto p-2 my-2 ",type:"button","data-toggle":"collapse","data-target":"#collapseNumConditions","aria-expanded":"false","aria-controls":"collapseExample",children:[Object(q.jsx)("i",{className:"las la-angle-down"})," Ajouter/Supprimer des conditions num\xe9riques ",Object(q.jsx)("i",{className:"las la-angle-down"})]}),Object(q.jsx)("div",{className:"collapse m-0 p-0",id:"collapseNumConditions",children:Object(q.jsxs)("div",{className:"col align-items-center p-2 m-0",children:[u&&u.cond.num?u.cond.num.map((function(e,n){return Object(q.jsxs)("div",{className:"row justify-content-md-center py-2",children:[Object(q.jsx)("div",{className:"col-sm-3 align-items-center my-auto",children:Object(q.jsx)("div",{className:"iq-card card-grey shadow-sm text-center m-0 text-dark ",children:O(e.var)})}),Object(q.jsx)("div",{className:"col-sm-3 align-items-center my-auto ",children:Object(q.jsx)("div",{className:"iq-card card-grey shadow-sm text-center m-0 text-dark ",children:e.op})}),Object(q.jsx)("div",{className:"col-sm-3 align-items-center my-auto ",children:Object(q.jsx)("div",{className:"iq-card card-grey shadow-sm text-center m-0 text-dark",children:e.val})}),Object(q.jsx)("div",{className:"col-sm-3 align-items-center my-auto text-center",children:Object(q.jsx)("button",{className:"btn btn-danger ",onClick:function(){return function(e){console.log("supprimer",e),u.cond.num.splice(e,1),console.log(u.cond.num),d(u),r()}(n)},children:Object(q.jsx)("div",{"data-icon":"\ue053",className:"icon mt-1"})})})]},n)})):null,Object(q.jsx)("div",{children:Object(q.jsxs)("div",{className:"row justify-content-md-center py-2",children:[Object(q.jsx)("div",{className:"col-sm-3 align-items-center my-auto",children:Object(q.jsx)(Q.a,{className:"w-100 ",selectStyle:"btn border",placeholder:"Quelle variable ?",options:ie,onChange:function(e){U||(U={}),(U={}).var=e.selectedKey[0],T(U),r()}},X)}),Object(q.jsx)("div",{className:"col-sm-3 align-items-center my-auto",children:["diabetic","difficult_intubation","gender"].includes(U.var)?Object(q.jsx)("div",{children:"est"}):Object(q.jsx)(Q.a,{className:"w-100 ",selectStyle:"btn border",placeholder:"Quel op\xe9rateur ?",options:oe,onChange:function(e){U||(U={}),U.op=e.selectedKey[0],T(U),r()}},X)}),Object(q.jsx)("div",{className:"col-sm-3 align-items-center my-auto ",children:["diabetic","difficult_intubation"].includes(U.var)?Object(q.jsx)(Q.a,{className:"w-100 ",selectStyle:"btn border",placeholder:"Quelle valeur ?",options:[{labelKey:"vrai",value:"Vrai"},{labelKey:"faux",value:"Faux"}],onChange:ve},U.var):Object(q.jsxs)("div",{children:[" ","gender"===U.var?Object(q.jsx)(Q.a,{className:"w-100 ",selectStyle:"btn border",placeholder:"Quelle valeur ?",options:[{labelKey:"F",value:"F"},{labelKey:"M",value:"M"}],onChange:ve},U.var):Object(q.jsx)("input",{type:"number",className:"form-control ",placeholder:"Quelle valeur ?",onChange:ve})," "]})}),Object(q.jsx)("div",{className:"col-sm-3 align-items-center text-center my-auto",children:Object(q.jsx)("button",{className:"btn btn-warning w-100 ",onClick:function(){U.var&&U.val&&["diabetic","difficult_intubation","gender"].includes(U.var)?(u.cond.num.push({var:U.var,op:"est",val:U.val}),d(u),r()):U.var&&U.op&&U.val&&(u.cond.num.push({var:U.var,op:U.op,val:U.val}),d(u),r())},children:"Valider"})})]})})]})})]}),Object(q.jsxs)("div",{className:"border-bottom m-0 py-2 text-center",children:[Object(q.jsxs)("button",{className:"btn btn-secondary m-auto p-2 my-2 ",type:"button","data-toggle":"collapse","data-target":"#collapsePreCheck","aria-expanded":"false","aria-controls":"collapseExample",children:[Object(q.jsx)("i",{className:"las la-angle-down"})," Ajouter/Supprimer des conditions pour que la question soit pr\xe9-check\xe9e ",Object(q.jsx)("i",{className:"las la-angle-down"})]}),Object(q.jsx)("div",{className:"collapse m-0 p-0",id:"collapsePreCheck",children:Object(q.jsxs)("div",{className:"col align-items-center p-2 m-0",children:[u&&u.pre_check?u.pre_check.if.map((function(e,n){return Object(q.jsxs)("div",{children:[n?Object(q.jsx)("div",{className:"mx-auto w-50 border-top border-bottom border-light",children:"et"}):Object(q.jsx)("div",{className:"mx-auto w-50 border-top border-light"}),e.map((function(e,t){return Object(q.jsxs)("div",{children:[t?Object(q.jsx)("div",{children:"ou"}):null,Object(q.jsxs)("div",{className:"row justify-content-md-center py-2",children:[Object(q.jsx)("div",{className:"col-sm-3 align-items-center my-auto",children:Object(q.jsx)("div",{className:"iq-card card-grey shadow-sm text-center m-0 text-dark ",children:g.includes(e.var)?O(e.var):"Question "+e.var})}),Object(q.jsx)("div",{className:"col-sm-3 align-items-center my-auto ",children:Object(q.jsx)("div",{className:"iq-card card-grey shadow-sm text-center m-0 text-dark",children:e.op?e.op:"est"})}),Object(q.jsx)("div",{className:"col-sm-3 align-items-center my-auto ",children:Object(q.jsx)("div",{className:"iq-card card-grey shadow-sm text-center m-0 text-dark",children:g.includes(e.var)?e.val:f(e.val)})}),Object(q.jsx)("div",{className:"col-sm-3 align-items-center my-auto text-center",children:Object(q.jsx)("button",{className:"btn btn-danger ",onClick:function(){return function(e,n){u.pre_check.if[e].splice(n,1),u.pre_check.if[e].length||u.pre_check.if.splice(e,1),u.pre_check.if.length||(u.pre_check=null),d(u),r()}(n,t)},children:Object(q.jsx)("div",{"data-icon":"\ue053",className:"icon mt-1"})})})]},n)]})}))]})})):null,u&&u.pre_check?Object(q.jsx)("div",{className:"row mx-auto w-50 justify-content-md-center py-2 border-top",children:Object(q.jsx)("div",{className:"col-sm-2 align-items-center my-auto",children:Object(q.jsx)("div",{className:"iq-card card-grey shadow-sm text-center m-0 text-dark",children:f(u.pre_check.then)})})}):null,Object(q.jsx)("div",{children:Object(q.jsxs)("div",{children:[Object(q.jsxs)("div",{className:"row justify-content-md-center py-2",children:[Object(q.jsx)("div",{className:"col-sm-3 align-items-center my-auto",children:Object(q.jsx)(Q.a,{className:"w-100 ",selectStyle:"btn border",placeholder:"Et/Ou",options:[{labelKey:"and",value:"Et",isSelected:!0},{labelKey:"or",value:"Ou"}],onChange:function(e){e.selectedKey[0]&&(G.type=e.selectedKey[0]),H(G),r()}},X)}),Object(q.jsx)("div",{className:"col-sm-3 align-items-center my-auto",children:Object(q.jsx)(Q.a,{className:"w-100 ",selectStyle:"btn border",placeholder:"Quelle variable ?",options:re,onChange:function(e){(G={type:G.type,then:u.pre_check&&u.pre_check.then?u.pre_check.then:null}).var=e.selectedKey[0],H(G),r()}},X)}),Object(q.jsx)("div",{className:"col-sm-3 align-items-center my-auto ",children:["age","yearofbirth"].includes(G.var)?Object(q.jsx)(Q.a,{className:"w-100 ",selectStyle:"btn border",placeholder:"Quel op\xe9rateur ?",options:oe,onChange:function(e){G.op=e.selectedKey[0],H(G),r()}},G.var):Object(q.jsx)("div",{children:"est"})}),Object(q.jsx)("div",{className:"col-sm-3 align-items-center my-auto",children:["diabetic","difficult_intubation"].includes(G.var)?Object(q.jsx)(Q.a,{className:"w-100 ",selectStyle:"btn border",placeholder:"Quelle valeur ?",options:[{labelKey:"vrai",value:"Vrai"},{labelKey:"faux",value:"Faux"}],onChange:ge},G.var):Object(q.jsxs)("div",{children:[" ","gender"===G.var?Object(q.jsx)(Q.a,{className:"w-100 ",selectStyle:"btn border",placeholder:"Quelle valeur ?",options:[{labelKey:"F",value:"F"},{labelKey:"M",value:"M"}],onChange:ge},G.var):Object(q.jsxs)("div",{children:[" ",Number.isInteger(G.var)?Object(q.jsx)(Q.a,{className:"w-100 ",selectStyle:"btn border",placeholder:"Quelle valeur ?",options:ae,onChange:ge},G.var):Object(q.jsx)("input",{type:"number",className:"form-control ",placeholder:"Quelle valeur ?",onChange:ge},G.var)]})]})})]}),Object(q.jsxs)("div",{className:"row justify-content-md-center py-2",children:[Object(q.jsx)("div",{className:"col-sm-3 align-items-center my-auto ",children:Object(q.jsx)(Q.a,{className:"w-100 ",selectStyle:"btn border",placeholder:"Quel pre-check ?",options:ue,onChange:function(e){e.selectedKey[0]&&(G.then=e.selectedKey[0]),H(G),r()}},G.var+u.check.length)}),Object(q.jsx)("div",{className:"col-sm-3 align-items-center ",children:Object(q.jsx)("button",{className:"btn btn-warning w-100  ",onClick:function(){u.pre_check&&(u.pre_check.then=G.then,d(u),r())},children:"Modifier le precheck"})}),Object(q.jsx)("div",{className:"col-sm-3 align-items-center text-center my-auto",children:Object(q.jsx)("button",{className:"btn btn-warning w-100  ",onClick:function(){return console.log(G),void(G.var&&G.val&&G.then&&(!["age","yearofbirth"].includes(G.var)||G.op)&&(u.pre_check||(u.pre_check={if:[],then:null}),u.pre_check.then=G.then,G.op||(g.includes(G.var)?G.op="est":G.op=null),"and"!==G.type&&u.pre_check.if.length?"or"===G.type&&(console.log(u.pre_check.if.length),u.pre_check.if[u.pre_check.if.length-1].push({var:G.var,val:G.val,op:G.op})):u.pre_check.if.push([{var:G.var,val:G.val,op:G.op}]),d(u),r()))},children:"Valider"})})]})]})})]})})]})]},u.id):null,Object(q.jsxs)("div",{className:"row align-items-center p-2 m-0",children:[Object(q.jsx)("div",{className:"col-sm-4 align-items-center text-center",children:Object(q.jsx)("button",{className:"btn btn-danger  ",onClick:function(){var e=a.length?a[0].checklist_id:0;o.a.get("https://api.npms.io/v2/search?q=react").then((function(n){s(a),m(e),console.log("remove checklist get call and set finished")}))},children:"Supprimer la checklist"})}),Object(q.jsx)("div",{className:"col-sm-4 align-items-center text-center",children:Object(q.jsx)("button",{className:"btn btn-warning  ",onClick:function(){return w(t)},children:"Sauvegarder la checklist"})}),Object(q.jsx)("div",{className:"col-sm-4 align-items-center text-center",children:Object(q.jsx)("button",{className:"btn btn-danger ",onClick:be,children:"Supprimer la question"})})]})]})}function V(e){e.props;return Object(q.jsx)("div",{className:"",children:Object(q.jsx)("div",{className:"card-inv text-center",children:Object(q.jsxs)("div",{className:"card-body",children:[Object(q.jsx)("h5",{className:"card-title m-0 text-custom",children:"SLS Checklist App"}),Object(q.jsx)("p",{className:"card-text text-custom m-0",children:"v0.10.2"}),Object(q.jsx)("p",{className:"card-text text-custom m-0",children:"D\xe9velopp\xe9 par Th\xe9o Stassen"}),Object(q.jsx)("p",{className:"card-text text-custom",children:"theo.stassen@protonmail.com"})]})})})}function J(e){var n=e.props,t=n.patientList,l=n.currentPatient,s=n.setCurrentPatient,a=n.setIsDict,c=n.setResult,i=n.setIsPreCheckDone,r=n.forceUpdate;return Object(q.jsx)("div",{className:"container iq-card p-2 py-3 my-0 border border-dark shadow rounded-0-bottom",children:Object(q.jsxs)("div",{className:"row align-items-center m-0",children:[Object(q.jsx)("div",{className:"col-sm-4 align-items-center text-dark",children:"Patient Actuel :"}),Object(q.jsx)("div",{className:"col-sm-4 align-items-center ",children:Object(q.jsxs)("div",{className:"card  text-center bg-info text-dark  m-0 rounded",children:[l.firstname,"\xa0",l.lastname]})}),Object(q.jsx)("div",{className:"col-sm-4 align-items-center",children:Object(q.jsxs)("div",{className:"dropdown text-center",children:[Object(q.jsx)("button",{className:"btn btn-secondary btn-round dropdown-toggle",type:"button",id:"dropdownMenuButton1","data-toggle":"dropdown","aria-expanded":"false",children:"S\xe9lectionnez le patient"}),Object(q.jsx)("ul",{className:"dropdown-menu dropdown-menu-custom","aria-labelledby":"dropdownMenuButton1",children:t.map((function(e,n){return Object(q.jsx)("li",{children:Object(q.jsxs)("label",{className:"dropdown-item ",onClick:function(){return function(e){var n=t.filter((function(n){return n.id===e}))[0];s(n),c({});var l={};p.forEach((function(e){l[e]={0:!0}})),a(l),i([]),r()}(e.id)},children:[e.firstname,"\xa0",e.lastname]})},n)}))})]})})]})})}function F(e){var n=e.init_items,t=e.item,s=e.dicts,a=e.forceUpdate,c=e.values_filter_cond,r=e.creationMode,o=e.currentId,u=e.warningId,d=e.precheckMode,m=e.is_root,h=Object(i.a)(s,13),j=h[0],v=h[1],g=h[2],x=h[3],y=h[4],O=h[5],k=h[6],w=h[7],_=h[8],C=h[9],S=(h[10],h[11]),M=h[12],A=Object(l.useState)(!1),I=Object(i.a)(A,2),L=I[0],P=I[1],E=function(e){console.log("handle change",t);var l=!j[e][t.id];console.log(l);var s=p.filter((function(n){return n!==e}));l?(x[t.id]={name:t.name,answer:e},delete y[t.id],1===t.color[t.check.indexOf(e)]&&(y[t.id]={name:t.name,answer:e}),U(n,n,t.id,j,v,x,y,s)):(delete x[t.id],delete y[t.id],U(n,n,t.id,j,v,x,y,[e])),O(x),k(y),j[e][t.id]=l,s.forEach((function(e){j[e][t.id]=!1})),v(j)},D=function(e){var n=e.target.value;x[t.id]={name:t.name,answer:n},O(x),1===t.color[0]&&(y[t.id]={name:t.name,answer:n},k(y))};d&&t.pre_check&&!w.includes(t.id)&&t.pre_check.if.every((function(e){return e.some((function(e){return e.op?N(g[e.var],e.op,e.val):j[e.val][e.var]}))}))&&(E(t.pre_check.then),w.push(t.id),_(w));var K=null,B=null;return t.values&&(B=c(t.values,j,g,r,S)).forEach((function(e){return!C.includes(e.id)&&e.check.length?C.push(e.id):null})),B&&B.length&&(K=Object(q.jsx)("ul",{className:"mb-0",children:B.map((function(e,t){return Object(q.jsx)(F,{init_items:n,item:e,dicts:s,forceUpdate:a,values_filter_cond:c,creationMode:r,currentId:o,warningId:u,is_root:!1},t)}))})),Object(q.jsxs)("div",{className:"container p-0 mx-auto "+(m?"":"mt-3"),children:[u===t.id?Object(q.jsxs)("div",{className:" alert text-white bg-warning rounded",role:"alert",children:[Object(q.jsx)("div",{className:"iq-alert-icon",children:Object(q.jsx)("i",{className:"ri-alert-fill"})}),Object(q.jsx)("div",{className:"iq-alert-text",children:"Vous n'avez pas r\xe9pondu \xe0 cette question"})]}):null,Object(q.jsxs)("div",{id:"question"+t.id,className:"row align-items-center m-0 p-0"+(r&&o===t.id?" border border-danger ":" "),children:[Object(q.jsxs)("div",{className:"col list-group list-group-horizontal m-0 p-0 w-auto",children:[Object(q.jsx)("div",{className:"list-group-item m-0 p-0 text-center shadow-sm my-auto "+(t.importance?"bg-danger":"bg-primary"),children:Object(q.jsx)("h5",{className:"card-body p-auto text-white",children:t.id})}),Object(q.jsxs)("div",{className:"list-group-item m-0 p-0 w-100 shadow-sm h-auto text-dark bg- ",children:[t.comment&&M?Object(q.jsx)("div",{className:"alert alert-light m-0 mt-0 border-0 text-primary my-auto",role:"alert",children:t.comment}):null,Object(q.jsx)("div",{className:"card-body my-auto",children:t.name})]})]}),t.check.length?Object(q.jsx)("div",{className:"col-sm-auto p-0 pl-3",children:Object(q.jsxs)("div",{className:"list-group list-group-horizontal ",children:[t.check.map((function(e,n){return["text","list","date","hour"].includes(e.split("_")[0])?null:Object(q.jsxs)("label",{className:"list-group-item list-group-item-custom btn m-0"+(t.color&&0===t.color[n]?" btn-outline-success":t.color&&1===t.color[n]?" btn-outline-danger":" btn-outline-secondary"),children:[Object(q.jsx)("input",{type:"checkbox","aria-label":"Checkbox",checked:j[e]&&j[e][t.id]?1:0,onChange:function(n){E(e),a()}}),"\xa0",f(e)]},n)})),t.check.includes("text")?Object(q.jsx)("input",{className:"form-control w-100 mb-0 bg-white",type:"text ","aria-label":"text input",placeholder:"Ins\xe9rez ici",onChange:D}):null,t.check.includes("date")?Object(q.jsx)("input",{className:"form-control w-100 mb-0 bg-white",type:"date","aria-label":"text input",defaultValue:function(){var e=(new Date).toISOString().split("T")[0];return x[t.id]={name:t.name,answer:e},O(x),console.log(e),e}(),placeholder:"Ins\xe9rez ici",onChange:D}):null,t.check.includes("hour")?Object(q.jsx)("input",{className:"form-control w-100 mb-0 bg-white",type:"time","aria-label":"text input",defaultValue:function(){var e=(new Date).toTimeString().split(" ")[0].substring(0,5);return x[t.id]={name:t.name,answer:e},O(x),console.log(e),e}(),placeholder:"Ins\xe9rez ici",onChange:D}):null,t.check[0].split("_").includes("list")?Object(q.jsx)(Q.a,{className:" my-auto ",selectStyle:"py-2  btn btn-outline-dark bg-white text-dark ",options:function(e){var n=[];return b[e].forEach((function(e){n.push({labelKey:e,value:e})})),n.push({labelKey:"other",value:"Autre"}),n}(t.check[0].split("_")[1]),isMultiSelect:!0,placeholder:"-",onChange:function(e){var n=JSON.parse(JSON.stringify(e.selectedValue));e.selectedKey.includes("other")?P(!0):P(!1),x[t.id]={name:t.name,answer:n},O(x),1!==t.color[0]||e.selectedKey.includes("Aucune")||e.selectedKey.includes("Aucun")?(delete y[t.id],k(y)):(y[t.id]={name:t.name,answer:n},k(y))},menuSize:10},t.check[0].split("_")[1]):null,L?Object(q.jsx)("input",{className:"form-control w-100 ml-2 mb-0 bg-white",type:"text ","aria-label":"text input",placeholder:"Ins\xe9rez ici",onChange:function(e){var n=e.target.value,l=x[t.id].answer;l.pop(),l.push(n),x[t.id]={name:t.name,answer:l},O(x)}}):null]})}):Object(q.jsxs)("div",{className:"col-sm-6",children:[" ",null," "]})]}),K]})}function U(e,n,t,l,s,a,c,i){var r=!1;n.cond&&i.forEach((function(e){n.cond[e]&&n.cond[e].includes(t)&&(console.log("delete",n),p.forEach((function(e){l[e][n.id]=!1})),delete a[n.id],delete c[n.id],r=!0)})),n.values&&n.values.length&&n.values.forEach((function(n){U(e,n,t,l,s,a,c,i)})),t!==n.id&&r&&U(e,e,n.id,l,s,a,c,i)}function T(e){var n=e.section_title,t=e.index;return Object(q.jsx)("div",{className:"card p-2 px-4  mb-0 bg-dark shadow-sm border-bottom border-dark text-center "+(t?"border-top":"rounded rounded-0-bottom"),children:Object(q.jsx)("h5",{className:"text-white ",children:n})})}t(174);function R(e){var n=e.visibleList,t=e.result,l=e.import_csv_result,s=(e.checklist,e.setWarningId);function a(e,n,t){for(var l=e.sort((function(e,n){return e>n})),a=0;a<l.length;a+=1)if(!n[l[a]])return t&&s(l[a]),a?"question"+l[a-1]:"title";return t&&s(0),""}return Object(q.jsx)("div",{className:"container iq-card  mt-5 text-center p-2 shadow border border-dark",children:Object(q.jsx)("a",{onClick:function(){return""===a(n,t,!0)?l():null},href:"#"+a(n,t,!1),className:"",children:Object(q.jsx)("div",{className:"btn-group btn-group-lg w-100 ",role:"group","aria-label":"Basic example",children:Object(q.jsx)("button",{type:"button",className:"btn btn-warning w-100",children:"Valider la checklist"})})})})}function z(e){var n=e.alertList;console.log("enter alert box",n);var t=n,l=t?Math.ceil(t.length/2):0,s=t?t.slice(0,l):[],a=t&&t.length>1?t.length%2===0?t.slice(-l):t.slice(1-l):[];return Object(q.jsx)("div",{className:"container iq-card pt-3 pb-1 border-bottom border-left border-right border-dark shadow rounded-0-top",children:Object(q.jsxs)("div",{className:"row align-items-center",children:[Object(q.jsx)("div",{className:"col-sm-6 pr-2",children:s.map((function(e,n){return Object(q.jsxs)("div",{className:"col-sm-12 alert rounded "+(0===e.gravity?"bg-danger":1===e.gravity?"bg-warning":"bg-light text-dark"),role:"alert",children:[Object(q.jsxs)("div",{className:"iq-alert-text",children:["Alerte ",Object(q.jsxs)("b",{children:["Question ",e.question_id]})," : ",e.info]}),Object(q.jsx)("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close",children:Object(q.jsx)("i",{className:"ri-close-line text-dark"})})]})}))}),Object(q.jsx)("div",{className:"col-sm-6 pl-2",children:a.map((function(e,n){return Object(q.jsxs)("div",{className:"col-sm-12 alert rounded "+(0===e.gravity?"bg-danger":1===e.gravity?"bg-warning":"bg-light text-dark"),role:"alert",children:[Object(q.jsxs)("div",{className:"iq-alert-text",children:["Alerte ",Object(q.jsxs)("b",{children:["Question ",e.question_id]})," : ",e.info]}),Object(q.jsx)("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close",children:Object(q.jsx)("i",{className:"ri-close-line text-dark"})})]})}))})]})})}function G(e){var n=e.checklistList,t=e.checklistId,l=e.numDict;console.log(l.age);var s=n?n.filter((function(e){return e.checklist_id===t}))[0]:null;return Object(q.jsx)("div",{className:"container iq-card bg-primary  mt-4 text-center p-2 shadow border border-dark",children:Object(q.jsxs)("div",{className:"card-body",children:[Object(q.jsxs)("h3",{className:"card-title text-white",children:[s?"Checklist "+s.name:null," "]}),Object(q.jsx)("h4",{className:"card-text text-white m-0",children:s?s.type+(l.age<19?" Enfant":" Adulte"):null}),Object(q.jsx)("h4",{className:"card-text text-dark m-0",children:s?s.person:null})]})})}function H(){var e=Object(l.useReducer)((function(e){return e+1}),0),n=Object(i.a)(e,2)[1],t=Object(l.useState)(2),s=Object(i.a)(t,2),a=s[0],c=s[1],r=Object(l.useState)(null),b=Object(i.a)(r,2),h=b[0],g=b[1],x=Object(l.useState)(null),y=Object(i.a)(x,2),f=y[0],O=y[1],N=Object(l.useState)(null),w=Object(i.a)(N,2),_=w[0],S=w[1],A=Object(l.useState)(null),I=Object(i.a)(A,2),L=I[0],E=I[1];Object(l.useEffect)((function(){o.a.get("http://checklists.metoui.be/api/checklists").then((function(e){console.log("call response",e),console.log(d),g(d),console.log("initial get checklist list call and set finished")})),o.a.get("http://checklists.metoui.be/api/checklists/1").then((function(e){console.log("call response",e),console.log(u[2]);var n=C(u[2],0);O(n),S(n&&n.values.length?n.values[0]:null),console.log("initial get first checklist call and set finished")})),o.a.get("https://api.npms.io/v2/search?q=react").then((function(e){console.log("call response",e),console.log(j),E(j),console.log("initial get alert list call and set finished")}))}),[]);var D=Object(l.useState)(m),K=Object(i.a)(D,1)[0],Q=Object(l.useState)(K[0]),U=Object(i.a)(Q,2),H=U[0],Y=U[1],X=Object(l.useState)({}),Z=Object(i.a)(X,2),$=Z[0],ee=Z[1],ne=Object(l.useState)({}),te=Object(i.a)(ne,2),le=te[0],se=te[1],ae=Object(l.useState)([]),ce=Object(i.a)(ae,2),ie=ce[0],re=ce[1],oe=Object(l.useState)([]),ue=Object(i.a)(oe,2),de=ue[0],me=ue[1],be=Object(l.useState)(0),he=Object(i.a)(be,2),je=he[0],pe=he[1],ve=Object(l.useState)(!0),ge=Object(i.a)(ve,2),xe=ge[0],ye=(ge[1],Object(l.useState)(!1)),fe=Object(i.a)(ye,2),Oe=fe[0],Ne=fe[1],ke=Object(l.useState)(!1),we=Object(i.a)(ke,2),_e=we[0],Ce=we[1],Se=Object(l.useState)(!0),qe=Object(i.a)(Se,2),Me=qe[0],Ae=qe[1],Ie=Object(l.useState)(!1),Le=Object(i.a)(Ie,2),Pe=Le[0],Ee=Le[1],De=Object(l.useState)(null),Ke=Object(i.a)(De,2),Qe=Ke[0],Be=Ke[1],Ve={};p.forEach((function(e){Ve[e]={0:!0}}));var Je=Object(l.useState)(Ve),Fe=Object(i.a)(Je,2),Ue=Fe[0],Te=Fe[1],Re=f?f.num_values:[],ze={};Re.forEach((function(e){ze[e.var]=e.val}));for(var Ge=0,He=Object.entries(H);Ge<He.length;Ge++){var We=Object(i.a)(He[Ge],2),Ye=We[0],Xe=We[1];ze[Ye]=Xe}ze.age=function(e){var n=e.split("/");return(new Date).getFullYear()-n[2]}(ze.dateofbirth);var Ze=null;ie=[],f&&f.values&&(Ze=W(f.values,Ue,ze,Oe)).forEach((function(e){return e.check.length?ie.push(e.id):null}));var $e=[Ue,Te,ze,$,le,ee,se,de,me,ie,re,Pe,Me];function en(){pe(0),ee({}),se({});var e={};p.forEach((function(n){e[n]={0:!0}})),Te(e),me([])}var nn=function(e){return o.a.get("https://api.npms.io/v2/search?q=react").then((function(n){console.log("swap call response",n),console.log(u[e]);var t=[];Object.keys(le).forEach((function(e,n){return t.push({id:n,question_id:e,info:"R\xe9ponse pr\xe9cedente ("+le[e].name+" -> "+(v[le[e].answer]?v[le[e].answer]:le[e].answer)+" ) probl\xe9matique",gravity:0})})),E(t);var l=Oe;(f=C(u[e],e)).name=h.filter((function(n){return n.checklist_id===e}))[0].name,f.person=h.filter((function(n){return n.checklist_id===e}))[0].person,O(f),Ne(0),c(e),S(f&&f.values.length?f.values[0]:null),Ne(l),en(),console.log("switch checklist get call and set finished")})),f};function tn(){for(var e=[["id","name","answer"]],n=0,t=Object.entries($);n<t.length;n++){var l=Object(i.a)(t[n],2),s=l[0],a=l[1];e.push([s,a.name,a.answer])}new k(e,"my_csv.csv").download(!0)}return console.log(le),Object(q.jsxs)("div",{className:"min-vh-100 content-page iq-bg-info",children:[Object(q.jsxs)("div",{children:[Object(q.jsx)(M,{props:{creationMode:Oe,setCreationMode:Ne,creditMode:_e,setCreditMode:Ce,setCommentMode:Ae,commentMode:Me,setDebugMode:Ee,debugMode:Pe,trimmedCanvasUrl:Qe,checklistList:h,swapchecklist:nn,reset:en,forceUpdate:n,import_csv_result:tn,result:$,setCurrentQuestion:S,checklist:f}}),_e?Object(q.jsx)(V,{props:null}):Object(q.jsxs)("div",{id:"title",children:[Object(q.jsx)(G,{checklistList:h,checklistId:a,numDict:ze}),Oe?Object(q.jsx)(B,{props:{checklist:f,setChecklist:O,checklistList:h,setChecklistList:g,checklistId:a,setChecklistId:c,forceUpdate:n,setResult:ee,setIsDict:Te,init_dict:Ve,setIsPreCheckDone:me,currentQuestion:_,setCurrentQuestion:S,swapchecklist:nn}},a):Object(q.jsxs)("div",{children:[Object(q.jsx)(J,{props:{patientList:K,currentPatient:H,setCurrentPatient:Y,setIsDict:Te,setResult:ee,setIsPreCheckDone:me,init_dict:Ve,forceUpdate:n}}),Object(q.jsx)(z,{alertList:L})]}),Object(q.jsx)("div",{className:"container p-0 border-bottom border border-dark  shadow rounded rounded-0-bottom ",children:Ze?Ze.map((function(e,t){return Object(q.jsxs)("div",{children:[e.section_title?Object(q.jsx)(T,{section_title:e.section_title,index:t}):Object(q.jsx)("div",{className:"bg-primary "+(t?"border-dark border-top":"")}),Object(q.jsx)("div",{className:"pb-3 px-3 pt-3 "+(t||e.section_title?"":" rounded rounded-0-bottom ")+(e.importance?"iq-bg-danger":"iq-bg-info"),children:Object(q.jsx)(F,{init_items:f,item:e,dicts:$e,forceUpdate:n,values_filter_cond:W,creationMode:Oe,currentId:_?_.id:null,warningId:je,precheckMode:xe,is_root:!0},JSON.stringify(a)+e.id)})]})})):null}),Oe?null:Object(q.jsx)(P,{props:{sigpad:{},setTrimmedCanvasUrl:Be}},a),Oe?null:Object(q.jsx)(R,{visibleList:ie,result:$,import_csv_result:tn,checklist:f,setWarningId:pe})]})]}),Object(q.jsx)("div",{children:Object(q.jsx)("nav",{className:"navbar",children:Object(q.jsx)("label",{className:"navbar-brand",children:null})})})]})}function W(e,n,t,l,s){return s?e:e.filter((function(e){return Object.keys(e.cond).every((function(t){return"num"===t||!e.cond[t]||e.cond[t].every((function(e){return n[t][e]}))}))&&(l||e.cond.num.every((function(e){return!t[e.var]||N(t[e.var],e.op,e.val)})))}))}var Y=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,175)).then((function(n){var t=n.getCLS,l=n.getFID,s=n.getFCP,a=n.getLCP,c=n.getTTFB;t(e),l(e),s(e),a(e),c(e)}))};c.a.render(Object(q.jsx)(s.a.StrictMode,{children:Object(q.jsx)(H,{})}),document.getElementById("root")),Y()},86:function(e,n,t){}},[[173,1,2]]]);
//# sourceMappingURL=main.982742fe.chunk.js.map