{"version":3,"sources":["axios.js","utils/temporary_data.js","utils/utils.js","calls.js","components/navbar.js","components/creation_box.js","components/credits.js","components/patient_box.js","components/qrcodescanner.js","components/signature.js","components/item.js","components/section_title.js","components/validation_button.js","components/alerts_box.js","components/title.js","components/review.js","components/home.js","components/couting_table.js","components/user_box.js","App.js","generated/reportWebVitals.js","Main.js","index.js"],"names":["Axios","axios","create","headers","Accept","withCredentials","ApiService","url","a","get","Authorization","window","localStorage","getItem","body","post","put","delete","checklist_arrays","path_list","path_id","patient_id","date","paths","1","checklists","id","title","person","fill","type","2","3","4","5","6","users","user_code","lastname","firstname","role_name","role_id","role_cross_type","patient_list","patients","optional_data","photo","lists","lists_trad","list_possible_answer","list_possible_answer_trad","list_possible_num_var","list_possible_num_var_trad","list_possible_op","trad_answer","answer","trad_num_var","num_var","simple_operation","val1","string_op","val2","checklist_tree_to_flat","checklist_tree","checklist_array","checklist_tree_to_flat_rec","console","log","checklist","dataStr","encodeURIComponent","JSON","stringify","b","document","createElement","href","download","appendChild","click","remove","checklist_to_json","item","array","parent_id","position","cond","push","name","parent_itemId","comment","section_title","check","color","pre_check","i","values","length","checklist_flat_to_tree","checklist_id","checklist_flat_to_tree_rec","num_values","child_array","filter","elm","sort","new_item","itemId","parse","importance","postconnection","is_local","loginInfo","setLoginInfo","setIsLogin","setLoginErrorCode","switchUser","setCurrentUser","login_info","email","username","password","then","response","setItem","data","token","catch","error","message","process","removeItem","getwaitingpatients","setPatientList","setErrorCode","setIsWaitingList","temp_data","forEach","journey","current_date","Date","setHours","scheduledDateTime","patient","intervention_name","surgery","denomination","getchecklist_creation_mode","setChecklist","checklistList","setChecklistId","setCurrentQuestion","reset","setCurrentParentQuestion","setCurrentName","setCurrentComment","setCurrentSectionTitle","setTempPreCheck","items","utils","checklist_info","counter","getjourney","currentPatient","setCurrentPatient","setPathId","setChecklistList","setJourneyErrorCode","checklist_list","evaluation","find","getevaluation","setCurrentEvals","setIsWaitingReview","alertList","setAlertList","current_checklist_array","index","answers","corresp_question_prev","item_id","corresp_question_current","includes","is_pb","question_id","checklist_name","gravity","AppNavbar","props","creationMode","setCreationMode","setCreditMode","creditMode","setCommentMode","commentMode","setDebugMode","debugMode","trimmedCanvasUrl","forceUpdate","swapchecklist","import_csv_result","result","homeMode","setHomeMode","setScanValue","setScanValueError","setUserValidated","deactivatecreatemode","changecreationmode","gotohome","main_menu","calls","useState","show","setShow","handleClose","setProblemName","setProblemDescription","problemName","problemDescription","className","onClick","src","PUBLIC_BASE_URL","data-toggle","data-target","aria-controls","aria-expanded","aria-label","role","aria-labelledby","checked","Button","variant","Modal","onHide","Header","closeButton","Title","Body","indesirable_event_dropdowns","indesirable_event_dict","Object","keys","map","nb","splice","handleName","rows","value","onChange","event","target","Footer","description","CreateBox","checklistId","currentQuestion","currentParentQuestion","currentName","currentComment","currentSectionTitle","tempNums","setTempNums","tempPreCheck","pairIndicator","setPairIndicator","isAltAnswers","setIsAltAnswers","useEffect","questionList","enumquestions","possible_answers","possible_answers_single","alt_possible_answers","possible_vars","possible_vars_extended","question","possible_op","op","possible_pre_check","possible_lists","searchquestion","parent_item","current_question","removequestion","e","reinit_current_question","check_id","every","movecurrentquestion_child","currentQuestionCopy","num","temp","changecheck","selectedOptions","selectedKey","current_colors","concat","Array","switchpairindicator","updatechecklist","updated_checklist","slice","addtempnumval","var","val","addtempprecheckval","addchecklist","last_id","new_empty_question","addnewquestion","chosen_question_position","findIndex","movecurrentquestion_sibling","selectStyle","options","isMultiSelect","placeholder","data-icon","split","color_id","indexOf","changecolor","deletecond","addcond","removenum","if","pre_checks","index1","index2","removeprecheck","Number","isInteger","Credits","setTest","to","PatientBox","setIsDict","setResult","setIsPreCheckDone","patientList","switchPatient","onNewScanResult","numDict","errorCode","isWaitingList","isWaitingJourney","setIsWaitingJourney","dateofbirth","width","height","alt","aria-hidden","patient_code","qrcodeRegionId","QrcodeScanner","is_home","input","getElementById","focus","select","config","fps","qrbox","aspectRatio","undefined","disableFlip","createConfig","verbose","qrCodeSuccessCallback","html5QrcodeScanner","Html5QrcodeScanner","render","qrCodeErrorCallback","clear","codeValue","setCodeValue","scanValue","scanValueError","onKeyPress","key","AppSignature","sigpad","reinit_canvas","setTrimmedCanvasUrl","is_end_sign","canvasProps","ref","dataUrl","getTrimmedCanvas","toDataURL","ChecklistItem","init_items","dicts","values_filter_cond","currentId","warningId","precheckMode","is_root","scan_bookmark","isDict","pbresult","setPbResult","isPreCheckDone","visibleList","isOther","setIsOther","current_result","handleOnChangeIs","is_check","list_other_answer","clean_children_rec","handleOnChangeText","input_text","elms","some","children","consent_pdf","defaultValue","current_date_str","toISOString","handleOnChangeCurrentDate","current_time_str","toTimeString","substring","handleOnChangeCurrentTime","handleOnChangedDefaultText","list_possible_answers","create_possible_list_answers","input_answer","selectedValue","menuSize","pop","decodedText","decodedResult","init_item","is_remove","SectionTitle","ValidationButton","import_result","setWarningId","forceValidationMode","search_question_not_answered","is_set","visibleListsorted","elm1","elm2","handlevalidation","AlertsBox","list_alert","half","Math","ceil","first_half_list","second_half_list","alert","data-dismiss","setForceValidationMode","age","Review","pathId","setReviewId","currentEvals","isWaitingReview","current_eval","check_is_danger","correspond_answers","Home","currentUser","journeyErrorCode","forceMode","setForceMode","reviewId","filtered_checklist_list","list_length","isWaitingChecklist","setIsWaitingChecklist","check_if_fillable","scrollTo","open_checklist","CountingTable","generateButton","pos","incr","state","_","assign","cellUpdate","setState","expr","readOnly","parseInt","onCellsChanged","bind","switchMode","addAdditional","subElement","this","grid","colSpan","col","j","number_additional","trailKeys","valid","match","validateExp","scope","charAt","mathjs","changeCell","mapValues","isNaN","parseFloat","updatedCell","computeExpr","each","cell","changes","numb_array","letter_array","mode","row","cols","generateGrid","valueRenderer","dataRenderer","React","Component","UserBox","loginErrorCode","isLogin","isWaitingLogin","setIsWaitingLogin","App","useReducer","x","setVisibleList","init_dict","0","entries","key_","value_","getFullYear","init_dict_","navigator","checklistErrorCode","setChecklistErrorCode","current_creation_mode","result_table_csv","result_table","is_blocking","final_result","journey_id","user_id","next_scan_item","next_scan_item_id","corresp_patients","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","Main","test","path","element","ReactDOM","StrictMode"],"mappings":"mTAEMA,EAAQC,IAAMC,OAAO,CAEzBC,QAAS,CACPC,OAAQ,mBACRC,iBAAiB,KAIAC,E,WACnB,aAAe,oB,8EACf,WAAUC,GAAV,SAAAC,EAAA,sEACeR,EAAMS,IAAIF,EAAK,CAC1BJ,QAAS,CACPO,cACE,UAAWC,OAAOC,aAAaC,QAAQ,YAJ/C,mF,gHASA,WAAWN,EAAKO,GAAhB,SAAAN,EAAA,sEACeR,EAAMe,KAAKR,EAAKO,EAAM,CACjCX,QAAS,CACPO,cAAe,UAAWC,OAAOC,aAAaC,QAAQ,YAH5D,mF,iHAQA,WAAUN,EAAKO,GAAf,SAAAN,EAAA,sEACeR,EAAMgB,IAAIT,EAAKO,EAAM,CAChCX,QAAS,CACPO,cAAe,UAAWC,OAAOC,aAAaC,QAAQ,YAH5D,mF,oHAQA,WAAaN,GAAb,SAAAC,EAAA,sEACeR,EAAMiB,OAAOV,EAAK,CAC7BJ,QAAS,CACPO,cAAe,UAAWC,OAAOC,aAAaC,QAAQ,YAH5D,mF,8DClCIK,G,OAAmB,CACvB,CACE,CACE,OACA,SACA,cACA,aACA,YACA,kBACA,SACA,UACA,UACA,cACA,eAEF,CACE,EACA,kCACC,EACD,EACA,KACA,mEACA,8BACA,eACA,QACA,KACA,GAEF,CACE,EACA,aACC,EACD,EACA,KACA,KACA,8BACA,0BACA,MACA,KACA,GAEF,CACE,EACA,mCACC,EACD,EACA,KACA,KACA,8BACA,oBACA,UACA,KACA,GAEF,CACE,EACA,yCACC,EACD,EACA,KACA,KACA,8BACA,oBACA,UACA,KACA,GAEF,CACE,EACA,gDACC,EACD,EACA,KACA,KACA,8BACA,oBACA,UACA,KACA,GAEF,CACE,EACA,0FACC,EACD,EACA,KACA,KACA,8BACA,kBACA,QACA,KACA,GAEF,CACE,EACA,6BACC,EACD,EACA,wBACA,KACA,6DACA,eACA,QACA,KACA,GAEF,CACE,EACA,+CACC,EACD,EACA,wBACA,KACA,6DACA,eACA,QACA,KACA,GAEF,CACE,EACA,wDACC,EACD,EACA,KACA,KACA,8BACA,0CACA,cACA,KACA,GAEF,CACE,GACA,8BACC,EACD,EACA,KACA,KACA,8BACA,eACA,QACA,KACA,GAEF,CACE,GACA,0CACC,EACD,GACA,KACA,KACA,8BACA,kBACA,QACA,KACA,GAEF,CACE,GACA,yEACC,EACD,GACA,KACA,KACA,8BACA,eACA,QACA,KACA,GAEF,CACE,GACA,qCACC,EACD,GACA,KACA,KACA,8BACA,eACA,UACA,KACA,GAEF,CACE,GACA,0BACA,GACA,EACA,KACA,KACA,gCACA,oBACA,MACA,KACA,GAEF,CACE,GACA,wDACC,EACD,GACA,KACA,KACA,qEACA,eACA,QACA,KACA,GAEF,CACE,GACA,2EACC,EACD,GACA,KACA,KACA,qEACA,eACA,QACA,KACA,GAEF,CACE,GACA,0BACC,EACD,GACA,KACA,qBACA,8BACA,eACA,QACA,KACA,GAEF,CACE,GACA,kCACC,EACD,GACA,KACA,KACA,6DACA,eACA,QACA,KACA,GAEF,CACE,GACA,gBACC,EACD,GACA,KACA,KACA,8BACA,eACA,QACA,KACA,GAEF,CACE,GACA,qEACC,EACD,GACA,KACA,KACA,6DACA,eACA,QACA,KACA,GAEF,CACE,GACA,iCACC,EACD,GACA,KACA,KACA,6DACA,eACA,QACA,KACA,GAGF,CACE,GACA,wCACC,EACD,GACA,KACA,wCACA,8BACA,oBACA,UACA,KACA,GAEF,CACE,GACA,gCACA,GACA,EACA,KACA,KACA,gCACA,uBACA,MACA,KACA,GAEF,CACE,GACA,kCACC,EACD,GACA,KACA,KACA,8BACA,oBACA,UACA,KACA,GAEF,CACE,GACA,gCACA,GACA,EACA,KACA,KACA,gCACA,2BACA,MACA,KACA,GAEF,CACE,GACA,oCACC,EACD,GACA,KACA,eACA,8BACA,eACA,QACA,KACA,GAEF,CACE,GACA,0DACC,EACD,GACA,KACA,KACA,8BACA,eACA,QACA,KACA,GAEF,CACE,GACA,sCACC,EACD,GACA,KACA,KACA,6DACA,oBACA,UACA,KACA,GAEF,CACE,GACA,YACC,EACD,GACA,KACA,wEACA,8BACA,WACA,MACA,KACA,IAGJ,CACE,CACE,OACA,SACA,cACA,aACA,YACA,kBACA,SACA,UACA,UACA,cACA,eAEF,CACE,EACA,kCACC,EACD,EACA,KACA,8CACA,8BACA,eACA,QACA,KACA,GAEF,CACE,EACA,aACC,EACD,EACA,KACA,KACA,8BACA,0BACA,MACA,KACA,GAEF,CACE,EACA,mCACC,EACD,EACA,KACA,KACA,8BACA,oBACA,UACA,KACA,GAEF,CACE,EACA,yCACC,EACD,EACA,KACA,KACA,8BACA,oBACA,UACA,KACA,GAEF,CACE,EACA,gDACC,EACD,EACA,KACA,KACA,8BACA,oBACA,UACA,KACA,GAEF,CACE,EACA,0FACC,EACD,EACA,KACA,KACA,8BACA,kBACA,QACA,KACA,GAEF,CACE,EACA,6BACC,EACD,EACA,wBACA,KACA,6DACA,eACA,QACA,KACA,GAEF,CACE,EACA,0CACC,EACD,EACA,wBACA,KACA,6DACA,eACA,QACA,KACA,GAEF,CACE,EACA,wDACC,EACD,EACA,KACA,KACA,8BACA,0CACA,cACA,KACA,GAEF,CACE,GACA,8BACC,EACD,EACA,KACA,KACA,8BACA,eACA,QACA,KACA,GAEF,CACE,GACA,0CACC,EACD,GACA,KACA,KACA,8BACA,kBACA,QACA,KACA,GAEF,CACE,GACA,yEACC,EACD,GACA,KACA,KACA,8BACA,eACA,QACA,KACA,GAEF,CACE,GACA,qCACC,EACD,GACA,KACA,KACA,8BACA,eACA,UACA,KACA,GAEF,CACE,GACA,0BACA,GACA,EACA,KACA,KACA,gCACA,oBACA,MACA,KACA,GAEF,CACE,GACA,0BACC,EACD,GACA,KACA,KACA,8BACA,eACA,QACA,KACA,GAEF,CACE,GACA,0BACC,EACD,GACA,KACA,qBACA,8BACA,eACA,QACA,KACA,GAEF,CACE,GACA,kCACC,EACD,GACA,KACA,KACA,6DACA,eACA,QACA,KACA,GAEF,CACE,GACA,gBACC,EACD,GACA,KACA,KACA,8BACA,eACA,QACA,KACA,GAEF,CACE,GACA,qDACC,EACD,GACA,KACA,KACA,6DACA,eACA,QACA,KACA,GAEF,CACE,GACA,iCACC,EACD,GACA,KACA,KACA,6DACA,eACA,QACA,KACA,GAEF,CACE,GACA,wDACC,EACD,GACA,KACA,KACA,qEACA,eACA,QACA,KACA,GAEF,CACE,GACA,2EACC,EACD,GACA,KACA,KACA,qEACA,eACA,QACA,KACA,GAEF,CACE,GACA,wCACC,EACD,GACA,KACA,wCACA,8BACA,oBACA,UACA,KACA,GAEF,CACE,GACA,gCACA,GACA,EACA,KACA,KACA,gCACA,uBACA,MACA,KACA,GAEF,CACE,GACA,kCACC,EACD,GACA,KACA,KACA,8BACA,oBACA,UACA,KACA,GAEF,CACE,GACA,gCACA,GACA,EACA,KACA,KACA,gCACA,2BACA,MACA,KACA,GAEF,CACE,GACA,oCACC,EACD,GACA,KACA,eACA,8BACA,eACA,QACA,KACA,GAEF,CACE,GACA,0DACC,EACD,GACA,KACA,KACA,8BACA,eACA,QACA,KACA,GAEF,CACE,GACA,sCACC,EACD,GACA,KACA,KACA,6DACA,oBACA,UACA,KACA,GAEF,CACE,GACA,YACC,EACD,GACA,KACA,mDACA,8BACA,WACA,MACA,KACA,IAGJ,CACE,CACE,OACA,SACA,cACA,aACA,YACA,kBACA,SACA,UACA,UACA,cACA,eAEF,CACE,EACA,6BACC,EACD,EACA,KACA,KACA,8BACA,WACA,UACA,KACA,GAEF,CACE,EACA,WACC,EACD,EACA,KACA,KACA,8BACA,WACA,MACA,KACA,GAEF,CACE,EACA,YACC,EACD,EACA,KACA,KACA,8BACA,gBACA,MACA,KACA,GAEF,CACE,EACA,iDACC,EACD,EACA,KACA,mEACA,8BACA,oBACA,UACA,KACA,GAEF,CACE,EACA,4CACC,EACD,EACA,KACA,KACA,8BACA,eACA,QACA,KACA,GAEF,CACE,EACA,iDACC,EACD,EACA,KACA,KACA,8BACA,eACA,QACA,KACA,GAEF,CACE,EACA,wBACC,EACD,EACA,KACA,KACA,8BACA,0CACA,cACA,KACA,GAEF,CACE,EACA,6BACC,EACD,EACA,KACA,KACA,8BACA,eACA,QACA,KACA,GAEF,CACE,EACA,0BACA,EACA,EACA,KACA,KACA,+BACA,oBACA,MACA,KACA,GAEF,CACE,GACA,kCACC,EACD,EACA,8CACA,KACA,8BACA,aACA,MACA,KACA,GAEF,CACE,GACA,2BACC,EACD,EACA,KACA,KACA,mEACA,eACA,UACA,KACA,GAEF,CACE,GACA,mCACC,EACD,GACA,KACA,KACA,mEACA,eACA,QACA,KACA,GAEF,CACE,GACA,iBACC,EACD,GACA,KACA,oCACA,8BACA,eACA,QACA,KACA,GAEF,CACE,GACA,4BACA,GACA,EACA,KACA,KACA,gCACA,uBACA,MACA,KACA,GAEF,CACE,GACA,+BACC,EACD,GACA,KACA,oBACA,8BACA,sBACA,MACA,KACA,GAEF,CACE,GACA,+DACC,EACD,GACA,KACA,KACA,8BACA,eACA,QACA,KACA,GAEF,CACE,GACA,iBACC,EACD,GACA,KACA,KACA,8BACA,eACA,QACA,KACA,GAEF,CACE,GACA,oBACC,EACD,GACA,KACA,KACA,8BACA,eACA,QACA,KACA,GAEF,CACE,GACA,gBACC,EACD,GACA,KACA,KACA,8BACA,eACA,QACA,KACA,GAEF,CACE,GACA,sFACC,EACD,GACA,KACA,KACA,mEACA,eACA,QACA,KACA,GAEF,CACE,GACA,oEACC,EACD,GACA,KACA,KACA,8BACA,oBACA,UACA,KACA,GAEF,CACE,GACA,yDACA,GACA,EACA,KACA,KACA,gCACA,eACA,QACA,KACA,GAEF,CACE,GACA,kCACA,GACA,EACA,KACA,KACA,gCACA,eACA,QACA,KACA,GAEF,CACE,GACA,oCACA,GACA,EACA,KACA,KACA,gCACA,eACA,QACA,KACA,GAEF,CACE,GACA,oFACC,EACD,GACA,KACA,6BACA,8BACA,eACA,QACA,KACA,GAEF,CACE,GACA,0BACC,EACD,GACA,KACA,KACA,8BACA,eACA,QACA,KACA,GAEF,CACE,GACA,yCACC,EACD,GACA,KACA,KACA,8BACA,eACA,QACA,KACA,GAEF,CACE,GACA,mKACC,EACD,GACA,KACA,KACA,8BACA,eACA,QACA,KACA,IAGJ,CACE,CACE,OACA,SACA,cACA,aACA,YACA,kBACA,SACA,UACA,UACA,cACA,eAEF,CACE,EACA,6BACC,EACD,EACA,KACA,KACA,8BACA,WACA,UACA,KACA,GAEF,CACE,EACA,WACC,EACD,EACA,KACA,KACA,8BACA,WACA,MACA,KACA,GAEF,CACE,EACA,YACC,EACD,EACA,KACA,KACA,8BACA,gBACA,QACA,KACA,GAEF,CACE,EACA,iDACC,EACD,EACA,KACA,mEACA,8BACA,oBACA,UACA,KACA,GAEF,CACE,EACA,4CACC,EACD,EACA,KACA,KACA,8BACA,eACA,QACA,KACA,GAEF,CACE,EACA,iDACC,EACD,EACA,KACA,KACA,8BACA,eACA,QACA,KACA,GAEF,CACE,EACA,wBACC,EACD,EACA,KACA,KACA,8BACA,oCACA,cACA,KACA,GAEF,CACE,EACA,6BACC,EACD,EACA,KACA,KACA,8BACA,eACA,QACA,KACA,GAEF,CACE,EACA,0BACA,EACA,EACA,KACA,KACA,+BACA,oBACA,MACA,KACA,GAEF,CACE,GACA,gCACC,EACD,EACA,KACA,KACA,mEACA,oBACA,UACA,KACA,GAEF,CACE,GACA,iCACA,GACA,EACA,KACA,KACA,gCACA,aACA,MACA,KACA,GAEF,CACE,GACA,mDACC,EACD,EACA,KACA,KACA,8BACA,oBACA,UACA,KACA,GAEF,CACE,GACA,qCACC,EACD,GACA,KACA,KACA,mEACA,oBACA,UACA,KACA,GAEF,CACE,GACA,sCACC,EACD,GACA,KACA,KACA,mEACA,oBACA,UACA,KACA,GAEF,CACE,GACA,iEACC,EACD,GACA,KACA,eACA,8BACA,oBACA,UACA,KACA,GAEF,CACE,GACA,iFACC,EACD,GACA,KACA,KACA,8BACA,oBACA,UACA,KACA,GAEF,CACE,GACA,uEACC,EACD,GACA,KACA,KACA,8BACA,eACA,UACA,KACA,GAEF,CACE,GACA,6CACC,EACD,GACA,KACA,oBACA,8BACA,eACA,QACA,KACA,IAGJ,GACA,CACE,CACE,OACA,SACA,cACA,aACA,YACA,kBACA,SACA,UACA,UACA,cACA,eAEF,CACE,EACA,wBACC,EACD,EACA,KACA,kEACA,8BACA,oBACA,UACA,KACA,GAEF,CACE,EACA,8BACA,EACA,EACA,KACA,KACA,+BACA,oBACA,UACA,KACA,GAEF,CACE,EACA,8BACA,EACA,EACA,KACA,KACA,+BACA,oBACA,UACA,KACA,GAEF,CACE,EACA,eACC,EACD,EACA,KACA,KACA,8BACA,gBACA,MACA,KACA,GAEF,CACE,EACA,iHACC,EACD,EACA,KACA,KACA,8BACA,oBACA,UACA,KACA,GAEF,CACE,EACA,oGACC,EACD,EACA,KACA,mEACA,8BACA,oBACA,UACA,KACA,GAEF,CACE,EACA,wEACC,EACD,EACA,KACA,2GACA,8BACA,qBACA,UACA,KACA,GAEF,CACE,EACA,eACC,EACD,EACA,KACA,kBACA,8BACA,eACA,QACA,KACA,GAEF,CACE,EACA,wCACA,EACA,EACA,KACA,KACA,+BACA,oBACA,MACA,KACA,IAGJ,CACE,CACE,OACA,SACA,cACA,aACA,YACA,kBACA,SACA,UACA,UACA,cACA,eAEF,CACE,EACA,4BACC,EACD,EACA,KACA,qBACA,8BACA,WACA,QACA,KACA,GAEF,CACE,EACA,eACC,EACD,EACA,KACA,KACA,8BACA,gBACA,QACA,KACA,GAEF,CACE,EACA,sCACC,EACD,EACA,KACA,KACA,8BACA,WACA,QACA,KACA,GAEF,CACE,EACA,eACC,EACD,EACA,KACA,KACA,8BACA,gBACA,QACA,KACA,GAEF,CACE,EACA,uBACC,EACD,EACA,KACA,gBACA,8BACA,WACA,QACA,KACA,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","file":"static/js/main.a52b7af2.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst Axios = axios.create({\n  // baseURL: process.env.REACT_APP_BASE_URL,\n  headers: {\n    Accept: \"application/json\",\n    withCredentials: false,\n  }\n});\n\nexport default class ApiService {\n  constructor() {}\n  async get(url) {\n    return await Axios.get(url, {\n      headers: {\n        Authorization:\n          'Bearer '+ window.localStorage.getItem(\"token\"),\n      }\n    });\n  }\n\n  async post(url, body) {\n    return await Axios.post(url, body, {\n      headers: {\n        Authorization: 'Bearer '+ window.localStorage.getItem(\"token\"),\n      }\n    });\n  }\n\n  async put(url, body) {\n    return await Axios.put(url, body, {\n      headers: {\n        Authorization: 'Bearer '+ window.localStorage.getItem(\"token\"),\n      }\n    });\n  }\n\n  async delete(url) {\n    return await Axios.delete(url, {\n      headers: {\n        Authorization: 'Bearer '+ window.localStorage.getItem(\"token\"),\n      }\n    });\n  }\n}","/* Data that will be obtain by call to backend\n* */\n\nconst checklist_arrays = [\n  [\n    [\n      '\"id\"',\n      '\"name\"',\n      '\"parent_id\"',\n      '\"position\"',\n      '\"comment\"',\n      '\"section_title\"',\n      '\"cond\"',\n      '\"check\"',\n      '\"color\"',\n      '\"pre_check\"',\n      '\"importance'\n    ],\n    [\n      1,\n      '\"Dossier infirmier présent\"',\n      -1,\n      0,\n      null,\n      '\"Infirmière de l\\'unité de soin qui prépare le patient\"',\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"yes\",\"no\"]',\n      '[0,1]',\n      null,\n      0\n    ],\n    [\n      2,\n      '\"Patient\"',\n      -1,\n      1,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"list_patient-states\"]',\n      '[0]',\n      null,\n      0\n    ],\n    [\n      3,\n      '\"Le patient décline son nom\"',\n      -1,\n      2,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"yes\",\"no\",\"na\"]',\n      '[0,1,2]',\n      null,\n      0\n    ],\n    [\n      4,\n      '\"Le patient décline son prénom\"',\n      -1,\n      3,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"yes\",\"no\",\"na\"]',\n      '[0,1,2]',\n      null,\n      0\n    ],\n    [\n      5,\n      '\"Le patient décline sa date de naissance\"',\n      -1,\n      4,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"yes\",\"no\",\"na\"]',\n      '[0,1,2]',\n      null,\n      0\n    ],\n    [\n      6,\n      '\"Vérifier la concordance entre le dossier et le bracelet d\\'identité du patient\"',\n      -1,\n      5,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"ok\",\"not_ok\"]',\n      '[0,1]',\n      null,\n      0\n    ],\n    [\n      7,\n      '\"Consentement du patient\"',\n      -1,\n      6,\n      '\"Pdf du Consentement\"',\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[{\"var\":\"age\",\"op\":\">\",\"val\":17}]}',\n      '[\"yes\",\"no\"]',\n      '[0,1]',\n      null,\n      0\n    ],\n    [\n      8,\n      '\"Consentement des deux parents ( <18 ans )\"',\n      -1,\n      7,\n      '\"Pdf du Consentement\"',\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[{\"var\":\"age\",\"op\":\"<\",\"val\":18}]}',\n      '[\"yes\",\"no\"]',\n      '[0,1]',\n      null,\n      0\n    ],\n    [\n      9,\n      '\"Le patient décline le côté à opérer\"',\n      -1,\n      8,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"left\",\"right\",\"bilateral\",\"idk\",\"na\"]',\n      '[2,2,2,1,2]',\n      null,\n      0\n    ],\n    [\n      10,\n      '\"Marquage réalisé ?\"',\n      -1,\n      9,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"yes\",\"no\"]',\n      '[0,1]',\n      null,\n      0\n    ],\n    [\n      11,\n      '\"Préparation du site opératoire\"',\n      -1,\n      10,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"ok\",\"not_ok\"]',\n      '[0,1]',\n      null,\n      0\n    ],\n    [\n      12,\n      '\"L\\'infirmière vérifie dans le dossier le type d\\'intervention\"',\n      -1,\n      11,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"yes\",\"no\"]',\n      '[0,1]',\n      null,\n      0\n    ],\n    [\n      13,\n      '\"Maladies transmissibles connues\"',\n      -1,\n      12,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"yes\",\"no\"]',\n      '[1,0,2]',\n      null,\n      0\n    ],\n    [\n      14,\n      '\"Lesquelles ?_Maladies\"',\n      13,\n      0,\n      null,\n      null,\n      '{\"yes\":[13],\"no\":[],\"num\":[]}',\n      '[\"list_diseases\"]',\n      '[1]',\n      null,\n      0\n    ],\n    [\n      15,\n      '\"Patient(e) sous Xarelto. Arrêté depuis 48h ?\"',\n      -1,\n      13,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[{\"var\":\"xarelto\",\"op\":\"=\",\"val\":\"vrai\"}]}',\n      '[\"yes\",\"no\"]',\n      '[0,1]',\n      null,\n      1\n    ],\n    [\n      16,\n      '\"Patient(e) sous Insuline. Pas d’injection personnelle ce matin ?\"',\n      -1,\n      14,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[{\"var\":\"insulin\",\"op\":\"=\",\"val\":\"vrai\"}]}',\n      '[\"yes\",\"no\"]',\n      '[1,0]',\n      null,\n      1\n    ],\n    [\n      17,\n      '\"Patient(e) à jeun\"',\n      -1,\n      15,\n      null,\n      '\"À vérifier\"',\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"yes\",\"no\"]',\n      '[0,1]',\n      null,\n      0\n    ],\n    [\n      18,\n      '\"Vernis à ongles ôté\"',\n      -1,\n      16,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[{\"var\":\"age\",\"op\":\">\",\"val\":11}]}',\n      '[\"yes\",\"no\"]',\n      '[0,1]',\n      null,\n      0\n    ],\n    [\n      19,\n      '\"A uriné\"',\n      -1,\n      17,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"yes\",\"no\"]',\n      '[0,1]',\n      null,\n      0\n    ],\n    [\n      20,\n      '\"Prothèses retirées (dentier, appareil auditif, lentilles)\"',\n      -1,\n      18,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[{\"var\":\"age\",\"op\":\">\",\"val\":11}]}',\n      '[\"yes\",\"no\"]',\n      '[0,1]',\n      null,\n      0\n    ],\n    [\n      21,\n      '\"Bijoux/piercings ôtés\"',\n      -1,\n      19,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[{\"var\":\"age\",\"op\":\">\",\"val\":11}]}',\n      '[\"yes\",\"no\"]',\n      '[0,1]',\n      null,\n      0\n    ],\n\n    [\n      22,\n      '\"Médicamenteuses déclarées\"',\n      -1,\n      20,\n      null,\n      '\"Le patient déclare ses allergies\"',\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"yes\",\"no\",\"na\"]',\n      '[1,0,2]',\n      null,\n      0\n    ],\n    [\n      23,\n      '\"Lesquelles ?_Allergies_Meds\"',\n      22,\n      0,\n      null,\n      null,\n      '{\"yes\":[22],\"no\":[],\"num\":[]}',\n      '[\"list_alergy-meds\"]',\n      '[1]',\n      null,\n      0\n    ],\n    [\n      24,\n      '\"Alimentaires déclarées\"',\n      -1,\n      21,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"yes\",\"no\",\"na\"]',\n      '[1,0,2]',\n      null,\n      0\n    ],\n    [\n      25,\n      '\"Lesquelles ?_Allergies_Alim\"',\n      24,\n      0,\n      null,\n      null,\n      '{\"yes\":[24],\"no\":[],\"num\":[]}',\n      '[\"list_alergy-aliments\"]',\n      '[1]',\n      null,\n      0\n    ],\n    [\n      26,\n      '\"Hygiène du patient correcte\"',\n      -1,\n      22,\n      null,\n      '\"Hygiène\"',\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"yes\",\"no\"]',\n      '[0,1]',\n      null,\n      0\n    ],\n    [\n      27,\n      '\"Propreté et intégrité du site opératoire\"',\n      -1,\n      23,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"yes\",\"no\"]',\n      '[0,1]',\n      null,\n      0\n    ],\n    [\n      28,\n      '\"Présence de bas de contention\"',\n      -1,\n      24,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[{\"var\":\"age\",\"op\":\">\",\"val\":11}]}',\n      '[\"yes\",\"no\",\"na\"]',\n      '[0,1,2]',\n      null,\n      0\n    ],\n    [\n      29,\n      '\"Scan :\"',\n      -1,\n      25,\n      null,\n      '\"Infirmièr(e) de l\\'US qui a préparé le patient pour le BO \"',\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"scan\"]',\n      '[0]',\n      null,\n      0\n    ]\n  ],\n  [\n    [\n      '\"id\"',\n      '\"name\"',\n      '\"parent_id\"',\n      '\"position\"',\n      '\"comment\"',\n      '\"section_title\"',\n      '\"cond\"',\n      '\"check\"',\n      '\"color\"',\n      '\"pre_check\"',\n      '\"importance'\n    ],\n    [\n      1,\n      '\"Dossier infirmier présent\"',\n      -1,\n      0,\n      null,\n      '\"Infirmière BO qui accueille le patient\"',\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"yes\",\"no\"]',\n      '[0,1]',\n      null,\n      0\n    ],\n    [\n      2,\n      '\"Patient\"',\n      -1,\n      1,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"list_patient-states\"]',\n      '[0]',\n      null,\n      0\n    ],\n    [\n      3,\n      '\"Le patient décline son nom\"',\n      -1,\n      2,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"yes\",\"no\",\"na\"]',\n      '[0,1,2]',\n      null,\n      0\n    ],\n    [\n      4,\n      '\"Le patient décline son prénom\"',\n      -1,\n      3,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"yes\",\"no\",\"na\"]',\n      '[0,1,2]',\n      null,\n      0\n    ],\n    [\n      5,\n      '\"Le patient décline sa date de naissance\"',\n      -1,\n      4,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"yes\",\"no\",\"na\"]',\n      '[0,1,2]',\n      null,\n      0\n    ],\n    [\n      6,\n      '\"Vérifier la concordance entre le dossier et le bracelet d\\'identité du patient\"',\n      -1,\n      5,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"ok\",\"not_ok\"]',\n      '[0,1]',\n      null,\n      0\n    ],\n    [\n      7,\n      '\"Consentement du patient\"',\n      -1,\n      6,\n      '\"Pdf du Consentement\"',\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[{\"var\":\"age\",\"op\":\">\",\"val\":17}]}',\n      '[\"yes\",\"no\"]',\n      '[0,1]',\n      null,\n      0\n    ],\n    [\n      8,\n      '\"Consentement des parents ( <18 ans )\"',\n      -1,\n      7,\n      '\"Pdf du Consentement\"',\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[{\"var\":\"age\",\"op\":\"<\",\"val\":18}]}',\n      '[\"yes\",\"no\"]',\n      '[0,1]',\n      null,\n      0\n    ],\n    [\n      9,\n      '\"Le patient décline le côté à opérer\"',\n      -1,\n      8,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"left\",\"right\",\"bilateral\",\"idk\",\"na\"]',\n      '[2,2,2,1,2]',\n      null,\n      0\n    ],\n    [\n      10,\n      '\"Marquage réalisé ?\"',\n      -1,\n      9,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"yes\",\"no\"]',\n      '[0,1]',\n      null,\n      0\n    ],\n    [\n      11,\n      '\"Préparation du site opératoire\"',\n      -1,\n      10,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"ok\",\"not_ok\"]',\n      '[0,1]',\n      null,\n      0\n    ],\n    [\n      12,\n      '\"L\\'infirmière vérifie dans le dossier le type d\\'intervention\"',\n      -1,\n      11,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"yes\",\"no\"]',\n      '[0,1]',\n      null,\n      0\n    ],\n    [\n      13,\n      '\"Maladies transmissibles connues\"',\n      -1,\n      12,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"yes\",\"no\"]',\n      '[1,0,2]',\n      null,\n      0\n    ],\n    [\n      14,\n      '\"Lesquelles ?_Maladies\"',\n      13,\n      0,\n      null,\n      null,\n      '{\"yes\":[13],\"no\":[],\"num\":[]}',\n      '[\"list_diseases\"]',\n      '[1]',\n      null,\n      0\n    ],\n    [\n      15,\n      '\"Arrêt coagulant ?\"',\n      -1,\n      13,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"yes\",\"no\"]',\n      '[0,1]',\n      null,\n      0\n    ],\n    [\n      16,\n      '\"Patient(e) à jeun\"',\n      -1,\n      14,\n      null,\n      '\"À vérifier\"',\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"yes\",\"no\"]',\n      '[0,1]',\n      null,\n      0\n    ],\n    [\n      17,\n      '\"Vernis à ongles ôté\"',\n      -1,\n      15,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[{\"var\":\"age\",\"op\":\">\",\"val\":11}]}',\n      '[\"yes\",\"no\"]',\n      '[0,1]',\n      null,\n      0\n    ],\n    [\n      18,\n      '\"A uriné\"',\n      -1,\n      16,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"yes\",\"no\"]',\n      '[0,1]',\n      null,\n      0\n    ],\n    [\n      19,\n      '\"Proth. dentaire/auditives/lentilles ôtées\"',\n      -1,\n      17,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[{\"var\":\"age\",\"op\":\">\",\"val\":11}]}',\n      '[\"yes\",\"no\"]',\n      '[0,1]',\n      null,\n      0\n    ],\n    [\n      20,\n      '\"Bijoux/piercings ôtés\"',\n      -1,\n      18,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[{\"var\":\"age\",\"op\":\">\",\"val\":11}]}',\n      '[\"yes\",\"no\"]',\n      '[0,1]',\n      null,\n      0\n    ],\n    [\n      21,\n      '\"Patient(e) sous Xarelto. Arrêté depuis 48h ?\"',\n      -1,\n      19,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[{\"var\":\"xarelto\",\"op\":\"=\",\"val\":\"vrai\"}]}',\n      '[\"yes\",\"no\"]',\n      '[0,1]',\n      null,\n      0\n    ],\n    [\n      22,\n      '\"Patient(e) sous Insuline. Pas d’injection personnelle ce matin ?\"',\n      -1,\n      20,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[{\"var\":\"insulin\",\"op\":\"=\",\"val\":\"vrai\"}]}',\n      '[\"yes\",\"no\"]',\n      '[0,1]',\n      null,\n      0\n    ],\n    [\n      23,\n      '\"Médicamenteuses déclarées\"',\n      -1,\n      21,\n      null,\n      '\"Le patient déclare ses allergies\"',\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"yes\",\"no\",\"na\"]',\n      '[1,0,2]',\n      null,\n      0\n    ],\n    [\n      24,\n      '\"Lesquelles ?_Allergies_Meds\"',\n      23,\n      0,\n      null,\n      null,\n      '{\"yes\":[23],\"no\":[],\"num\":[]}',\n      '[\"list_alergy-meds\"]',\n      '[1]',\n      null,\n      0\n    ],\n    [\n      25,\n      '\"Alimentaires déclarées\"',\n      -1,\n      22,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"yes\",\"no\",\"na\"]',\n      '[1,0,2]',\n      null,\n      0\n    ],\n    [\n      26,\n      '\"Lesquelles ?_Allergies_Alim\"',\n      25,\n      0,\n      null,\n      null,\n      '{\"yes\":[25],\"no\":[],\"num\":[]}',\n      '[\"list_alergy-aliments\"]',\n      '[1]',\n      null,\n      0\n    ],\n    [\n      27,\n      '\"Hygiène du patient correcte\"',\n      -1,\n      23,\n      null,\n      '\"Hygiène\"',\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"yes\",\"no\"]',\n      '[0,1]',\n      null,\n      0\n    ],\n    [\n      28,\n      '\"Propreté et intégrité du site opératoire\"',\n      -1,\n      24,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"yes\",\"no\"]',\n      '[0,1]',\n      null,\n      0\n    ],\n    [\n      29,\n      '\"Présence de bas de contention\"',\n      -1,\n      25,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[{\"var\":\"age\",\"op\":\">\",\"val\":11}]}',\n      '[\"yes\",\"no\",\"na\"]',\n      '[0,1,2]',\n      null,\n      0\n    ],\n    [\n      30,\n      '\"Scan :\"',\n      -1,\n      26,\n      null,\n      '\"Infirmière qui accueille le patient au BO :\"',\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"scan\"]',\n      '[0]',\n      null,\n      0\n    ]\n  ],\n  [\n    [\n      '\"id\"',\n      '\"name\"',\n      '\"parent_id\"',\n      '\"position\"',\n      '\"comment\"',\n      '\"section_title\"',\n      '\"cond\"',\n      '\"check\"',\n      '\"color\"',\n      '\"pre_check\"',\n      '\"importance'\n    ],\n    [\n      1,\n      '\"Date de l\\'intervention\"',\n      -1,\n      0,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"date\"]',\n      '[0,1,2]',\n      null,\n      0\n    ],\n    [\n      2,\n      '\"Heure\"',\n      -1,\n      1,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"hour\"]',\n      '[0]',\n      null,\n      0\n    ],\n    [\n      3,\n      '\"Salle \"',\n      -1,\n      2,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"list_room\"]',\n      '[0]',\n      null,\n      0\n    ],\n    [\n      4,\n      '\"Présentation des personnes inhabituelles\"',\n      -1,\n      3,\n      null,\n      '\"Chirurgien / Inf. circul. / Instrumentaliste / Anesthésiste\"',\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"yes\",\"no\",\"na\"]',\n      '[0,1,2]',\n      null,\n      0\n    ],\n    [\n      5,\n      '\"Vérification identité du patient\"',\n      -1,\n      4,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"yes\",\"no\"]',\n      '[0,1]',\n      null,\n      0\n    ],\n    [\n      6,\n      '\"Rappel de l\\'intitulé de l\\'intervention\"',\n      -1,\n      5,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"yes\",\"no\"]',\n      '[0,1]',\n      null,\n      0\n    ],\n    [\n      7,\n      '\"Site opératoire\"',\n      -1,\n      6,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"left\",\"right\",\"bilateral\",\"idk\",\"na\"]',\n      '[2,2,2,1,2]',\n      null,\n      0\n    ],\n    [\n      8,\n      '\"Maladies transmissibles\"',\n      -1,\n      7,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"yes\",\"no\"]',\n      '[1,0]',\n      null,\n      0\n    ],\n    [\n      9,\n      '\"Lesquelles ?_Maladies\"',\n      8,\n      0,\n      null,\n      null,\n      '{\"yes\":[8],\"no\":[],\"num\":[]}',\n      '[\"list_diseases\"]',\n      '[1]',\n      null,\n      0\n    ],\n    [\n      10,\n      '\"Poches de sang disponibles ?\"',\n      -1,\n      8,\n      '\"Poches de sang commandées : _bloodbags\"',\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"number\"]',\n      '[1]',\n      null,\n      0\n    ],\n    [\n      11,\n      '\"Cell saver disponible\"',\n      -1,\n      9,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[{\"var\":\"type\",\"op\":\"=\",\"val\":\"major\"}]}',\n      '[\"yes\",\"no\"]',\n      '[0,1,2]',\n      null,\n      0\n    ],\n    [\n      12,\n      '\"Cell saver en ordre de marche\"',\n      -1,\n      10,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[{\"var\":\"type\",\"op\":\"=\",\"val\":\"major\"}]}',\n      '[\"yes\",\"no\"]',\n      '[0,1]',\n      null,\n      0\n    ],\n    [\n      13,\n      '\"AB Prophyl.\"',\n      -1,\n      11,\n      null,\n      '\"Vérifications administration\"',\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"yes\",\"no\"]',\n      '[2,2]',\n      null,\n      0\n    ],\n    [\n      14,\n      '\"Lesquels ?_Antibotiques\"',\n      13,\n      0,\n      null,\n      null,\n      '{\"yes\":[13],\"no\":[],\"num\":[]}',\n      '[\"list_antibiotics\"]',\n      '[0]',\n      null,\n      0\n    ],\n    [\n      15,\n      '\"Type d\\'anésthésie \"',\n      -1,\n      12,\n      null,\n      '\"Anésthesiste\"',\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"list_anesthesia\"]',\n      '[0]',\n      null,\n      0\n    ],\n    [\n      16,\n      '\"Matériel d\\'anesthésie disponible / ordre de marche\"',\n      -1,\n      13,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"yes\",\"no\"]',\n      '[0,1]',\n      null,\n      0\n    ],\n    [\n      17,\n      '\"Respirateur\"',\n      -1,\n      14,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"yes\",\"no\"]',\n      '[0,1]',\n      null,\n      0\n    ],\n    [\n      18,\n      '\"Oxym. de pouls\"',\n      -1,\n      15,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"yes\",\"no\"]',\n      '[0,1]',\n      null,\n      0\n    ],\n    [\n      19,\n      '\"Monitoring\"',\n      -1,\n      16,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"yes\",\"no\"]',\n      '[0,1]',\n      null,\n      0\n    ],\n    [\n      20,\n      '\"Matériel de monitorage invasif disponible (cathé artériel, VVC,…) \"',\n      -1,\n      17,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[{\"var\":\"type\",\"op\":\"=\",\"val\":\"major\"}]}',\n      '[\"yes\",\"no\"]',\n      '[0,1]',\n      null,\n      0\n    ],\n    [\n      21,\n      '\"Possibilité de difficultés d’intubation signalée\"',\n      -1,\n      18,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"yes\",\"no\",\"na\"]',\n      '[1,0,2]',\n      null,\n      1\n    ],\n    [\n      22,\n      '\"Matériel d’intubation difficile disponible ?\"',\n      21,\n      0,\n      null,\n      null,\n      '{\"yes\":[21],\"no\":[],\"num\":[]}',\n      '[\"yes\",\"no\"]',\n      '[0,1]',\n      null,\n      0\n    ],\n    [\n      23,\n      '\"Fibroscope en ordre de marche\"',\n      21,\n      1,\n      null,\n      null,\n      '{\"yes\":[21],\"no\":[],\"num\":[]}',\n      '[\"yes\",\"no\"]',\n      '[0,1]',\n      null,\n      0\n    ],\n    [\n      24,\n      '\"2e anesthésiste disponible ?\"',\n      21,\n      2,\n      null,\n      null,\n      '{\"yes\":[21],\"no\":[],\"num\":[]}',\n      '[\"yes\",\"no\"]',\n      '[0,1]',\n      null,\n      0\n    ],\n    [\n      25,\n      '\"Matériel pour l\\'infirmière circulante disponible et en ordre de marche \"',\n      -1,\n      19,\n      null,\n      '\"Infirmière circulante\"',\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"yes\",\"no\"]',\n      '[0,1]',\n      null,\n      0\n    ],\n    [\n      26,\n      '\"Imagerie disponible \"',\n      -1,\n      20,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"yes\",\"no\"]',\n      '[0,1]',\n      null,\n      0\n    ],\n    [\n      27,\n      '\"Implants stériles et adaptés \"',\n      -1,\n      21,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"yes\",\"no\"]',\n      '[0,1]',\n      null,\n      0\n    ],\n    [\n      28,\n      '\"La stérilité du matériel disposable et non disposable a été vérifiée (résultats des indicateurs + vérification date péremption)\"',\n      -1,\n      22,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"yes\",\"no\"]',\n      '[0,1]',\n      null,\n      0\n    ],\n  ],\n  [\n    [\n      '\"id\"',\n      '\"name\"',\n      '\"parent_id\"',\n      '\"position\"',\n      '\"comment\"',\n      '\"section_title\"',\n      '\"cond\"',\n      '\"check\"',\n      '\"color\"',\n      '\"pre_check\"',\n      '\"importance'\n    ],\n    [\n      1,\n      '\"Date de l\\'intervention\"',\n      -1,\n      0,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"date\"]',\n      '[0,1,2]',\n      null,\n      0\n    ],\n    [\n      2,\n      '\"Heure\"',\n      -1,\n      1,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"hour\"]',\n      '[0]',\n      null,\n      0\n    ],\n    [\n      3,\n      '\"Salle \"',\n      -1,\n      2,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"list_room\"]',\n      '[0,1]',\n      null,\n      0\n    ],\n    [\n      4,\n      '\"Présentation des personnes inhabituelles\"',\n      -1,\n      3,\n      null,\n      '\"Chirurgien / Inf. circul. / Instrumentaliste / Anesthésiste\"',\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"yes\",\"no\",\"na\"]',\n      '[0,1,2]',\n      null,\n      0\n    ],\n    [\n      5,\n      '\"Vérification identité du patient\"',\n      -1,\n      4,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"yes\",\"no\"]',\n      '[0,1]',\n      null,\n      0\n    ],\n    [\n      6,\n      '\"Rappel de l\\'intitulé de l\\'intervention\"',\n      -1,\n      5,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"yes\",\"no\"]',\n      '[0,1]',\n      null,\n      0\n    ],\n    [\n      7,\n      '\"Site opératoire\"',\n      -1,\n      6,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"left\",\"right\",\"bilateral\",\"na\"]',\n      '[2,2,2,2,2]',\n      null,\n      0\n    ],\n    [\n      8,\n      '\"Maladies transmissibles\"',\n      -1,\n      7,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"yes\",\"no\"]',\n      '[1,0]',\n      null,\n      0\n    ],\n    [\n      9,\n      '\"Lesquelles ?_Maladies\"',\n      8,\n      0,\n      null,\n      null,\n      '{\"yes\":[8],\"no\":[],\"num\":[]}',\n      '[\"list_diseases\"]',\n      '[1]',\n      null,\n      0\n    ],\n    [\n      10,\n      '\"Risque de perte sanguine ?\"',\n      -1,\n      8,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[{\"var\":\"type\",\"op\":\"=\",\"val\":\"major\"}]}',\n      '[\"yes\",\"no\",\"na\"]',\n      '[1,0,2]',\n      null,\n      0\n    ],\n    [\n      11,\n      '\"Poches de sang disponibles ?\"',\n      10,\n      0,\n      null,\n      null,\n      '{\"yes\":[10],\"no\":[],\"num\":[]}',\n      '[\"number\"]',\n      '[1]',\n      null,\n      0\n    ],\n    [\n      12,\n      '\"Vérification installation patient correcte\"',\n      -1,\n      9,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"yes\",\"no\",\"na\"]',\n      '[0,1,2]',\n      null,\n      0\n    ],\n    [\n      13,\n      '\"Vérification plaque bistouri\"',\n      -1,\n      10,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[{\"var\":\"type\",\"op\":\"=\",\"val\":\"major\"}]}',\n      '[\"yes\",\"no\",\"na\"]',\n      '[0,1,2]',\n      null,\n      0\n    ],\n    [\n      14,\n      '\"Vérification position patient\"',\n      -1,\n      11,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[{\"var\":\"type\",\"op\":\"=\",\"val\":\"major\"}]}',\n      '[\"yes\",\"no\",\"na\"]',\n      '[0,1,2]',\n      null,\n      0\n    ],\n    [\n      15,\n      '\"Documents nécessaires disponibles (RX, Imagerie, CD, ..)\"',\n      -1,\n      12,\n      null,\n      '\"Chirurgien\"',\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"yes\",\"no\",\"na\"]',\n      '[0,1,2]',\n      null,\n      0\n    ],\n    [\n      16,\n      '\"Particularité de l\\'intervention liée à la chirurgie énoncée\"',\n      -1,\n      13,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"yes\",\"no\",\"na\"]',\n      '[0,1,2]',\n      null,\n      0\n    ],\n    [\n      17,\n      '\"Matériel pour le chirurgien et/ou l\\'instrumentiste disponible\"',\n      -1,\n      14,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"yes\",\"no\"]',\n      '[0,1,2]',\n      null,\n      0\n    ],\n    [\n      18,\n      '\"Vérif. compte initial des compresses\"',\n      -1,\n      15,\n      null,\n      '\"Anésthesiste\"',\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"yes\",\"no\"]',\n      '[0,1]',\n      null,\n      0\n    ],\n  ],\n  [], // Compte des compresses\n  [\n    [\n      '\"id\"',\n      '\"name\"',\n      '\"parent_id\"',\n      '\"position\"',\n      '\"comment\"',\n      '\"section_title\"',\n      '\"cond\"',\n      '\"check\"',\n      '\"color\"',\n      '\"pre_check\"',\n      '\"importance'\n    ],\n    [\n      1,\n      '\"Prélévements\"',\n      -1,\n      0,\n      null,\n      '\"Confirmation orale par le personnel auprès de l\\'équipe\"',\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"yes\",\"no\",\"na\"]',\n      '[1,0,2]',\n      null,\n      0\n    ],\n    [\n      2,\n      '\"Etiquetés correctement\"',\n      1,\n      0,\n      null,\n      null,\n      '{\"yes\":[1],\"no\":[],\"num\":[]}',\n      '[\"yes\",\"no\",\"na\"]',\n      '[0,1,2]',\n      null,\n      0\n    ],\n    [\n      3,\n      '\"Acheminés correctement\"',\n      1,\n      1,\n      null,\n      null,\n      '{\"yes\":[1],\"no\":[],\"num\":[]}',\n      '[\"yes\",\"no\",\"na\"]',\n      '[0,1,2]',\n      null,\n      0\n    ],\n    [\n      4,\n      '\"Signature\"',\n      -1,\n      1,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"signature\"]',\n      '[0]',\n      null,\n      0\n    ],\n    [\n      5,\n      '\"Signalement/notification écrite des dysfonctionnements matériels majeurs au responsable BO présent\"',\n      -1,\n      2,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"yes\",\"no\",\"na\"]',\n      '[0,1,2]',\n      null,\n      0\n    ],\n    [\n      6,\n      '\"Dysfonctionnement/ Disponibilité du matériel implantable (Vis, prothèse, greffe, ...)\"',\n      -1,\n      3,\n      null,\n      '\"Chirurgien / Inf. circul. / Instrumentaliste / Anesthésiste\"',\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"yes\",\"no\",\"na\"]',\n      '[1,0,2]',\n      null,\n      0\n    ],\n    [\n      7,\n      '\"Drains, sonde urinaire, tamponnement, méchage, traitements, ...\"',\n      -1,\n      4,\n      null,\n      '\"Les prescriptions pour les suites opératoires sont vérfiées de manière conjointe (post op)\"',\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"yes\",\"no\", \"na\"]',\n      '[0,1,2]',\n      null,\n      0\n    ],\n    [\n      8,\n      '\"Tout OK ?\"',\n      -1,\n      5,\n      null,\n      '\"Débriefing\"',\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"yes\",\"no\"]',\n      '[0,1]',\n      null,\n      0\n    ],\n    [\n      9,\n      '\"Quels problèmes rencontrés ? \"',\n      8,\n      0,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[8],\"num\":[]}',\n      '[\"list_problems\"]',\n      '[0]',\n      null,\n      0\n    ],\n  ],\n  [\n    [\n      '\"id\"',\n      '\"name\"',\n      '\"parent_id\"',\n      '\"position\"',\n      '\"comment\"',\n      '\"section_title\"',\n      '\"cond\"',\n      '\"check\"',\n      '\"color\"',\n      '\"pre_check\"',\n      '\"importance'\n    ],\n    [\n      1,\n      '\"Anesthésiste : Scan\"',\n      -1,\n      0,\n      null,\n      '\"Anesthésistes\"',\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"scan\"]',\n      '[0,1]',\n      null,\n      0\n    ],\n    [\n      2,\n      '\"Signature\"',\n      -1,\n      1,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"signature\"]',\n      '[0,1]',\n      null,\n      0\n    ],\n    [\n      3,\n      '\"Assistant Anesthésiste : Scan\"',\n      -1,\n      2,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"scan\"]',\n      '[0,1]',\n      null,\n      0\n    ],\n    [\n      4,\n      '\"Signature\"',\n      -1,\n      3,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"signature\"]',\n      '[0,1]',\n      null,\n      0\n    ],\n    [\n      5,\n      '\"Chirurgien : Scan\"',\n      -1,\n      4,\n      null,\n      '\"Chirurgiens\"',\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"scan\"]',\n      '[0,1]',\n      null,\n      0\n    ],\n    [\n      6,\n      '\"Signature\"',\n      -1,\n      5,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"signature\"]',\n      '[0,1]',\n      null,\n      0\n    ],\n    [\n      7,\n      '\"Assistant Chirurgien : Scan\"',\n      -1,\n      6,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"scan\"]',\n      '[0,1]',\n      null,\n      0\n    ],\n    [\n      8,\n      '\"Signature\"',\n      -1,\n      7,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"signature\"]',\n      '[1,0,2]',\n      null,\n      0\n    ],\n    [\n      9,\n      '\"Infirmière Circulante: Scan\"',\n      -1,\n      8,\n      null,\n      '\"Infirmières\"',\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"scan\"]',\n      '[0]',\n      null,\n      0\n    ],\n    [\n      10,\n      '\"Signature\"',\n      -1,\n      9,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"signature\"]',\n      '[0]',\n      null,\n      0\n    ],\n    [\n      11,\n      '\"Infirmière Instrumentiste : Scan\"',\n      -1,\n      10,\n      null,\n      null,\n      '{\"yes\":[],\"no\":[],\"num\":[]}',\n      '[\"scan\"]',\n      '[0]',\n      null,\n      0\n    ],\n    [\n      12,\n      '\"Signature\"',\n      -1,\n      11,\n      null,\n      null,\n      '{\"yes\":[0],\"no\":[],\"num\":[]}',\n      '[\"signature\"]',\n      '[0]',\n      null,\n      0\n    ],\n  ]\n]\n\nconst path_list = [\n  {\n    path_id: 1,\n    patient_id: 1,\n    date : \"01/01/2022\",\n  },\n  {\n    path_id: 2,\n    patient_id:2,\n    date : \"01/01/2022\",\n  },\n  {\n    path_id: 3,\n    patient_id:3,\n    date : \"01/01/2022\",\n  },\n  {\n    path_id: 4,\n    patient_id:4,\n    date : \"01/01/2022\",\n  },\n  {\n    path_id: 5,\n    patient_id:5,\n    date : \"01/01/2022\",\n  },\n  {\n    path_id: 6,\n    patient_id:6,\n    date : \"01/01/2022\",\n  }\n]\n\nconst paths = {\n  1: {\n    path_id: 1,\n    patient_id: 1,\n    date : \"01/01/2022\",\n    checklists: [\n      {id: 1, title: \"Unité de soins\", person: \"Inf. de l'US qui prépare le patient \", fill: false,  type:2},\n      {id: 2, title: \"Accueil Patient BO\", person: \"Inf. BO qui accueille le patient\", fill: false,  type:2 },\n      {id: 3, title: \"Avant Induction Anésthésique\", person: \"Chirurgien/Inf. \\n Circul./Instrumentiste/Anést.\", fill: false ,  type:1},\n      {id: 4, title: \"Avant Incision chirurgicale\", person: \"Chirurgien/Inf. \\n Circul./Instrumentiste/Anest.\", fill: false,  type:1 },\n      {id: 5, title: \"Compte des compresses\", person: \"Chirurgien/Inf. \\n Circul./Instrumentiste/Anest.\", fill: false, type:0 },\n      {id: 6, title: \"Avant la sortie de la salle d'opération\", person: \"Chirurgien/Inf. \\n Circul./Instrumentiste/Anest.\", fill: false,  type:1 },\n      {id: 7, title: \"Signatures\", person: \"Chirurgiens/Anésthésistes/Infirmières\", fill: false,  type:1 },\n    ]},\n  2: {\n    path_id: 2,\n    patient_id:2,\n    date : \"01/01/2022\",\n    checklists: [\n      {id: 1, title: \"Unité de soins\", person: \"Inf. de l'US qui prépare le patient \", fill: true,  type:2 },\n      {id: 2, title: \"Accueil Patient BO\", person: \"Inf. BO qui accueille le patient\", fill: true,  type:2 },\n      {id: 3, title: \"Avant Induction Anésthésique\", person: \"Chirurgien/Inf. \\n Circul./Instrumentiste/Anést.\", fill: false,  type:1 },\n      {id: 4, title: \"Avant Incision chirurgicale\", person: \"Chirurgien/Inf. \\n Circul./Instrumentiste/Anest.\", fill: false,  type:1 },\n      {id: 5, title: \"Compte des compresses\", person: \"Chirurgien/Inf. \\n Circul./Instrumentiste/Anest.\", fill: false, type:0 },\n      {id: 6, title: \"Avant la sortie de la salle d'opération\", person: \"Chirurgien/Inf. \\n Circul./Instrumentiste/Anest.\", fill: false,  type:1 },\n      {id: 7, title: \"Signatures\", person: \"Chirurgiens/Anésthésistes/Infirmières\", fill: false,  type:1 },\n\n    ]},\n  3: {\n    path_id: 3,\n    patient_id:3,\n    date : \"01/01/2022\",\n    checklists: [\n      {id: 1, title: \"Unité de soins\", person: \"Inf. de l'US qui prépare le patient \", fill: true,  type:2 },\n      {id: 2, title: \"Accueil Patient BO\", person: \"Inf. BO qui accueille le patient\", fill: false,  type:2 },\n      {id: 3, title: \"Avant Induction Anésthésique\", person: \"Chirurgien/Inf. \\n Circul./Instrumentiste/Anést.\", fill: false,  type:1 },\n      {id: 4, title: \"Avant Incision chirurgicale\", person: \"Chirurgien/Inf. \\n Circul./Instrumentiste/Anest.\", fill: false,  type:1 },\n      {id: 5, title: \"Compte des compresses\", person: \"Chirurgien/Inf. \\n Circul./Instrumentiste/Anest.\", fill: false, type:0 },\n      {id: 6, title: \"Avant la sortie de la salle d'opération\", person: \"Chirurgien/Inf. \\n Circul./Instrumentiste/Anest.\", fill: false,  type:1 },\n      {id: 7, title: \"Signatures\", person: \"Chirurgiens/Anésthésistes/Infirmières\", fill: false,  type:1 },\n    ]},\n  4: {\n    path_id: 4,\n    patient_id:4,\n    date : \"01/01/2022\",\n    checklists: [\n      {id: 1, title: \"Unité de soins\", person: \"Inf. de l'US qui prépare le patient \", fill: true,  type:2 },\n      {id: 2, title: \"Accueil Patient BO\", person: \"Inf. BO qui accueille le patient\", fill: false,  type:2 },\n      {id: 3, title: \"Avant Induction Anésthésique\", person: \"Chirurgien/Inf. \\n Circul./Instrumentiste/Anést.\", fill: false,  type:1 },\n      {id: 4, title: \"Avant Incision chirurgicale\", person: \"Chirurgien/Inf. \\n Circul./Instrumentiste/Anest.\", fill: false,  type:1 },\n      {id: 5, title: \"Compte des compresses\", person: \"Chirurgien/Inf. \\n Circul./Instrumentiste/Anest.\", fill: false, type:0 },\n      {id: 6, title: \"Avant la sortie de la salle d'opération\", person: \"Chirurgien/Inf. \\n Circul./Instrumentiste/Anest.\", fill: false,  type:1 },\n      {id: 7, title: \"Signatures\", person: \"Chirurgiens/Anésthésistes/Infirmières\", fill: false,  type:1 },\n    ]},\n  5: {\n    path_id: 5,\n    patient_id:5,\n    date : \"01/01/2022\",\n    checklists: [\n      {id: 1, title: \"Unité de soins\", person: \"Inf. de l'US qui prépare le patient \", fill: true,  type:2 },\n      {id: 2, title: \"Accueil Patient BO\", person: \"Inf. BO qui accueille le patient\", fill: false,  type:2 },\n      {id: 3, title: \"Avant Induction Anésthésique\", person: \"Chirurgien/Inf. \\n Circul./Instrumentiste/Anést.\", fill: false,  type:1 },\n      {id: 4, title: \"Avant Incision chirurgicale\", person: \"Chirurgien/Inf. \\n Circul./Instrumentiste/Anest.\", fill: false,  type:1 },\n      {id: 5, title: \"Compte des compresses\", person: \"Chirurgien/Inf. \\n Circul./Instrumentiste/Anest.\", fill: false, type:0 },\n      {id: 6, title: \"Avant la sortie de la salle d'opération\", person: \"Chirurgien/Inf. \\n Circul./Instrumentiste/Anest.\", fill: false,  type:1 },\n      {id: 7, title: \"Signatures\", person: \"Chirurgiens/Anésthésistes/Infirmières\", fill: false,  type:1 },\n    ]},\n  6: {\n    path_id: 6,\n    patient_id:6,\n    date : \"01/01/2022\",\n    checklists: [\n      {id: 1, title: \"Unité de soins\", person: \"Inf. de l'US qui prépare le patient \", fill: true,  type:2 },\n      {id: 2, title: \"Accueil Patient BO\", person: \"Inf. BO qui accueille le patient\", fill: false,  type:2 },\n      {id: 3, title: \"Avant Induction Anésthésique\", person: \"Chirurgien/Inf. \\n Circul./Instrumentiste/Anést.\", fill: false,  type:1 },\n      {id: 4, title: \"Avant Incision chirurgicale\", person: \"Chirurgien/Inf. \\n Circul./Instrumentiste/Anest.\", fill: false,  type:1 },\n      {id: 5, title: \"Compte des compresses\", person: \"Chirurgien/Inf. \\n Circul./Instrumentiste/Anest.\", fill: false, type:0 },\n      {id: 6, title: \"Avant la sortie de la salle d'opération\", person: \"Chirurgien/Inf. \\n Circul./Instrumentiste/Anest.\", fill: false,  type:1 },\n      {id: 7, title: \"Signatures\", person: \"Chirurgiens/Anésthésistes/Infirmières\", fill: false,  type:1 },\n    ]}\n}\n\nconst user_list = [\n  {\"id\":1, user_code:\"1234567\", lastname: \"Jonas\", firstname: \"Michel\"},\n  {\"id\":2, user_code:\"7654321\", lastname: \"Van Acker\", firstname: \"Denise\"}\n]\n\nconst users = {\n  1: {\"id\":1, user_code:\"1234567\", lastname: \"Jonas\", firstname: \"Michel\", role_name: \"Assistant Anést.\", role_id: 1},\n  2: {\"id\":2, user_code:\"7654321\", lastname: \"Van Acker\", firstname: \"Denise\", role_name: \"Infirmière US\", role_id: 2}\n}\n\n// Roles (de users) : 1 (rôle étendu), 2 (rôle plus limité)\n// Types (de checklist) : 0 (Comptage), 1 (Classique), 2 (étendue)\nconst role_cross_type = {\n  1 : [0,1,2],\n  2 : [0,1]\n}\n\nconst patient_list = [\n  {\"id\": 1, \"patient_code\":\"12345678\", \"lastname\": \"Dubois\", \"firstname\": \"Germaine\", },\n  {\"id\": 2, \"patient_code\":\"65464684\", \"lastname\": \"Vandamme\", \"firstname\": \"Gilbert\", },\n  {\"id\": 3, \"patient_code\":\"54875149\", \"lastname\": \"Franklin\", \"firstname\": \"Rachel\", },\n  {\"id\": 4, \"patient_code\":\"56892134\", \"lastname\": \"Leroy\", \"firstname\": \"Michel\", },\n  {\"id\": 5, \"patient_code\":\"96587412\", \"lastname\": \"Girard\", \"firstname\": \"Alexandra\", },\n  {\"id\": 6, \"patient_code\":\"78451236\", \"lastname\": \"Van den Broucke\", \"firstname\": \"Kevin\", },\n]\n\n/*List of all patients*/\nconst patients = {\n  1: {\"id\": 1, \"patient_code\":\"12345678\", \"lastname\": \"Dubois\", \"firstname\": \"Germaine\", \"gender\": \"F\", \"dateofbirth\": \"01/01/1940\",\n    optional_data: {\"diabetic\":\"faux\", \"difficult_intubation\":\"vrai\", \"insulin\":\"faux\", \"xarelto\":\"faux\"}, photo: \"photos/photo1.jpg\", \"consent_pdf\":\"photos/pdf1.jpg\",\n    \"type\":\"major\", \"intervention_name\":\"PTG\"},\n  2: {\"id\": 2, \"patient_code\":\"65464684\", \"lastname\": \"Vandamme\", \"firstname\": \"Gilbert\", \"gender\": \"M\", \"dateofbirth\": \"01/01/2017\",\n    optional_data: {\"diabetic\":\"vrai\", \"difficult_intubation\":\"vrai\", \"insulin\":\"faux\", \"xarelto\":\"faux\"}, photo: \"photos/photo2.jpg\", \"consent_pdf\":\"photos/pdf1.jpg\",\n    \"type\":\"minor\", \"intervention_name\":\"Ablation Végétations\"},\n  3: {\"id\": 3, \"patient_code\":\"54875149\", \"lastname\": \"Franklin\", \"firstname\": \"Rachel\", \"gender\": \"F\", \"dateofbirth\": \"01/01/1986\",\n    optional_data: {\"diabetic\":\"faux\", \"difficult_intubation\":\"faux\", \"insulin\":\"faux\", \"xarelto\":\"faux\"}, photo: \"photos/photo3.jpg\", \"consent_pdf\":\"photos/pdf1.jpg\",\n    \"type\":\"minor\", \"intervention_name\":\"Varice bilatérale\"},\n  4: {\"id\": 4, \"patient_code\":\"56892134\", \"lastname\": \"Leroy\", \"firstname\": \"Michel\", \"gender\": \"M\", \"dateofbirth\": \"01/01/1958\",\n    optional_data: {\"diabetic\":\"vrai\", \"difficult_intubation\":\"vrai\", \"insulin\":\"vrai\", \"xarelto\":\"vrai\", \"bloodbags\":3}, photo: \"photos/photo4.jpg\", \"consent_pdf\":\"photos/pdf1.jpg\",\n    \"type\":\"major\", \"intervention_name\":\"Anévrisme Aorte Abdominale\"},\n  5: {\"id\": 5, \"patient_code\":\"96587412\", \"lastname\": \"Girard\", \"firstname\": \"Alexandra\", \"gender\": \"F\", \"dateofbirth\": \"01/01/1986\",\n    optional_data: {\"diabetic\":\"faux\", \"difficult_intubation\":\"faux\", \"insulin\":\"faux\", \"xarelto\":\"faux\"}, photo: \"photos/photo5.jpg\", \"consent_pdf\":\"photos/pdf1.jpg\",\n    \"type\":\"minor\", \"intervention_name\":\"Varices\"},\n  6: {\"id\": 6, \"patient_code\":\"78451236\", \"lastname\": \"Van den Broucke\", \"firstname\": \"Kevin\", \"gender\": \"M\", \"dateofbirth\": \"01/01/1970\",\n    optional_data: {\"diabetic\":\"faux\", \"difficult_intubation\":\"faux\", \"insulin\":\"faux\", \"xarelto\":\"faux\"}, photo: \"photos/photo6.jpg\", \"consent_pdf\":\"photos/pdf1.jpg\",\n    \"type\":\"minor\", \"intervention_name\":\"Varices\"},\n}\n\nconst lists = {\n  \"meds\": [\"Mc\",\"Lis\",\"Kl\",\"Eft\", \"Aucun\"],\n  \"diseases\": [\"Hépatite A\", \"Hépatite B\", \"Hépatite C\",\"Covid\", \"HIV\", \"Tuberculose\", \"MRSA\", ],\n  \"patient-states\" : [\"Conscient\",\"Inconscient\",\"Dément\", \"Dyscommunicant\"],\n  \"alergy-meds\" : [\"Latex\",\"Peniciline\",\"Insuline\", \"Ibuprofène\", ],\n  \"alergy-aliments\" : [\"Gluten\",\"Lactose\",\"Arachides\", \"Banane\", \"Kiwi\", \"Noix\", \"Fruits secs\" ],\n  \"nurses\" : [\"Avril Charpentier\",\" Emilie Lachance\",\"Camille Dupond\", \"Alix Lefurgey\", \"Bastien Bellerose\", \"Jérémy Duchamps\",],\n  \"anesthesists\": [\"Jean Dupond\", \"Carole Marchal\", \"Louis Libier\", \"Charles Van Acker\"],\n  \"room\" : [\"N1\",\"N2\",\"N3\",\"N4\",\"N5\",\"N6\",\"U1\",\"U2\",\"U3\",\"U4\",\"U5\",\"U6\",\"U7\",\"U8\",\"U9\",\"U10\",\"I1\",\"I2\",\"I3\",\"I4\"],\n  \"antibiotics\" : [\"Cefazoline\",\"Zinacef\",\"Flagyl\"],\n  \"anesthesia\" : [\"AG\", \"AG + épidurale\", \"épidurale\" , \"rachi\", \"bloc\" ],\n  \"problems\" : [\"Complications médicales\", \"Dysfonct. matér. : Préparation incorrecte\", \"Dysfonct. matér. : Problème de prothèse\", \"Dysfonct. matér. : Problème de stérilisation\",]\n}\n\nconst lists_trad = {\"meds\":\"Médicaments\", \"diseases\":\"Maladies\", \"patient-states\":\"Etats Patients\",\n  \"alergy-meds\":\"Allergies Médicamenteuses\", \"alergy-aliments\":\"Allergies Alimentaires\", \"nurses\": \"Infirmières\",\n  \"anesthesists\": \"Anesthésistes\", \"room\": \"Salle\", \"antibiotics\": \"Antibiotiques\"}\n\nconst alerts = [\n]\n\nexport {checklist_arrays, path_list, paths, patient_list, patients, user_list, users, role_cross_type, lists, lists_trad, alerts}","/*Diverse utility elements*/\nimport { Series, DataFrame } from 'pandas-js';\n\n\n\n/*We consider a constant list of all possible answers to a question*/\nconst list_possible_answer = [\"yes\",\"no\",\"idk\",\"ok\",\"not_ok\", \"normal\", \"anormal\",  \"left\", \"right\",\"na\", \"a\", \"b\", \"c\", \"d\", \"text\", \"list\", \"date\", \"hour\", \"scan\", \"signature\", \"bilateral\", \"number\"]\nconst list_possible_answer_trad = {\"yes\":\"Oui\",\"no\":\"Non\",\"idk\":\"?\",\"ok\":\"OK\",\"not_ok\":\"Non OK\",\n  \"normal\":\"Normal\", \"anormal\":\"Anormal\", \"na\": \"N.A.\", \"left\": \"Gauche\", \"right\": \"Droite\",\n  \"a\":\"A\", \"b\":\"B\", \"c\":\"C\", \"d\":\"D\", \"text\":\"Texte\", \"list\":\"Liste\", \"date\":\"Date\", \"hour\":\"Hour\", \"scan\":\"Scan\", \"signature\":\"Signature\", \"bilateral\": \"Bilatéral\", \"number\"  :\"Nombre\"}\n\nconst list_possible_num_var = [\"diabetic\",\"age\",\"yearofbirth\",\"difficult_intubation\", \"gender\", \"xarelto\", \"insulin\"]\nconst list_possible_num_var_trad = {\"diabetic\":\"Diabétique\",\"age\":\"Âge\",\"yearofbirth\":\"Année de naissance\",\"difficult_intubation\":\"Intubation Difficile\", \"gender\":\"Genre\", \"xarelto\":\"Patient sous Xarelto\", \"insulin\":\"Patient sous Insuline\"}\n\nconst list_possible_op = [\"<\",\">\",\"=\"]\n\n\n/*Function to translate an answer into mountable french version*/\nconst trad_answer = (answer) => {\n  return list_possible_answer_trad[answer]\n}\n\nconst trad_num_var = (num_var) => {\n    return list_possible_num_var_trad[num_var]\n}\n\n/*List of possible options (answers), used in the multiselect component to choose the question answers*/\n\n\nfunction date_to_age (date){\n  let result = date.split(\"-\")\n  let current_year = new Date()\n  return current_year.getFullYear() - result[0] //TODO : is_local\n}\n\n/*Function that make the operation of type \"is val1 op val2 ?' with op the operator in string input*/\nconst simple_operation = (val1, string_op, val2) => {\n  switch (string_op) {\n    case \">\" : return val1 > val2;\n    case \"<\" : return val1 < val2;\n    case \"=\" : return val1 === val2 ;\n    case \"est\" : return val1 === val2;\n    default: return true;\n  }\n}\n\n/*Function that take the list of checklist, transform it in json format and export as .json file*/\nconst checklist_to_json = (checklist) => {\n    var dataStr = \"data:text/json;charset=utf-8,\" + encodeURIComponent(JSON.stringify(checklist, null, '\\t'));\n    console.log(dataStr)\n    var b = document.createElement('a');\n    b.href = dataStr ;\n    b.download = \"checklist.json\";\n    document.body.appendChild(b);\n    b.click();\n    b.remove()\n}\n\n/*Function to take a data array and put in a .csv file, with some characteristics*/\nfunction CsvGenerator(dataArray, fileName, separator, addQuotes) {\n    this.dataArray = dataArray;\n    this.fileName = fileName;\n    this.separator = separator || ';';\n    this.addQuotes = !!addQuotes;\n\n    if (this.addQuotes) {\n        this.separator = '\"' + this.separator + '\"';\n    }\n\n    this.getDownloadLink = function () {\n        var separator = this.separator;\n        var addQuotes = this.addQuotes;\n\n        var rows = this.dataArray.map(function (row) {\n            var rowData = row.join(separator);\n\n            if (rowData.length && addQuotes) {\n                return '\"' + rowData + '\"';\n            }\n\n            return rowData;\n        });\n\n        var type = 'data:text/csv;charset=utf-8';\n        var data = rows.join('\\n');\n\n        if (typeof btoa === 'function') {\n            type += ';base64';\n            data = btoa(data);\n        } else {\n            data = encodeURIComponent(data);\n        }\n\n        return this.downloadLink = this.downloadLink || type + ',' + data;\n    };\n\n    this.getLinkElement = function (linkText) {\n        var downloadLink = this.getDownloadLink();\n        var fileName = this.fileName;\n        this.linkElement = this.linkElement || (function() {\n            var a = document.createElement('a');\n            a.innerHTML = linkText || '';\n            a.href = downloadLink;\n            a.download = fileName;\n            return a;\n        }());\n        return this.linkElement;\n    };\n\n    // call with removeAfterDownload = true if you want the link to be removed after downloading\n    this.download = function (removeAfterDownload) {\n        var linkElement = this.getLinkElement();\n        linkElement.style.display = 'none';\n        document.body.appendChild(linkElement);\n        linkElement.click();\n        if (removeAfterDownload) {\n            document.body.removeChild(linkElement);\n        }\n    };\n}\n\n// function checklist_tree_to_flat(checklist_tree ) {\n//     let checklist_array = [[\"id\", \"name\", \"parent_id\", \"position\", \"comment\", \"section_title\", \"cond\", \"check\", \"color\", \"pre_check\"]]\n//     checklist_array = checklist_tree_to_flat_rec(checklist_tree, checklist_array, 0, 0);\n//     console.log(checklist_array)\n//     // let csvGenerator = new CsvGenerator(checklist_array, 'my_csv.csv', \";\");\n//     // csvGenerator.download(true);\n//     checklist_to_json(checklist_array)\n//\n//     return checklist_array\n// }\n//\n// function checklist_tree_to_flat_rec(item, array, parent_id, position){\n//     if (item.id > 0){\n//       console.log(JSON.stringify(item.cond))\n//       array.push([item.id, item.name, parent_id, position, item.comment, item.section_title, JSON.stringify(item.cond), JSON.stringify(item.check), JSON.stringify(item.color), item.pre_check ? JSON.stringify(item.pre_check) : null])\n//     }\n//     for (let i=0; i<item.values.length; i++){\n//         array = checklist_tree_to_flat_rec(item.values[i], array, item.id, i)\n//     }\n//     return array\n// }\n\nfunction checklist_tree_to_flat(checklist_tree ) {\n  let checklist_array = [{}]\n  checklist_array = checklist_tree_to_flat_rec(checklist_tree, checklist_array, 0, 0);\n  console.log(checklist_array)\n  // let csvGenerator = new CsvGenerator(checklist_array, 'my_csv.csv', \";\");\n  // csvGenerator.download(true);\n  checklist_to_json(checklist_array)\n\n  return checklist_array\n}\n\nfunction checklist_tree_to_flat_rec(item, array, parent_id, position){\n  if (item.id > 0){\n    console.log(JSON.stringify(item.cond))\n    array.push({id: item.id, name: item.name, parent_itemId: parent_id, position: position, comment: item.comment, section_title: item.section_title, cond: JSON.stringify(item.cond), check : JSON.stringify(item.check), color: JSON.stringify(item.color), pre_check: item.pre_check ? JSON.stringify(item.pre_check) : null})\n  }\n  for (let i=0; i<item.values.length; i++){\n    array = checklist_tree_to_flat_rec(item.values[i], array, item.id, i)\n  }\n  return array\n}\n\n\n// function checklist_flat_to_tree(checklist_array, checklist_id){\n//   let root_item = {\n//     checklist_id:checklist_id,\n//     id:-1,\n//     num_values:[],\n//     values:[]\n//   }\n//   return checklist_flat_to_tree_rec(root_item, checklist_array)\n// }\n//\n// function checklist_flat_to_tree_rec(item, array){\n//   let child_array = array.filter(elm => elm[2] === item.id)\n//   child_array.sort(function(a, b){return a[3] - b[3]})\n//   // console.log(array)\n//   // console.log(child_array)\n//   if (!child_array.length){\n//     return item\n//   }\n//   for (let i=0; i< child_array.length; i++){\n//     const elm = child_array[i]\n//     let new_item = {\n//       id: elm[0],\n//       name : JSON.parse(elm[1]),\n//       comment : JSON.parse(elm[4]),\n//       section_title : JSON.parse(elm[5]),\n//       cond : JSON.parse(elm[6]),\n//       check : JSON.parse(elm[7]),\n//       color : JSON.parse(elm[8]),\n//       pre_check : JSON.parse(elm[9]),\n//       importance : JSON.parse(elm[10]),\n//       values:[]\n//     }\n//     new_item = checklist_flat_to_tree_rec(new_item, array)\n//     item.values.push(new_item)\n//   }\n//   return item\n// }\n\n\nfunction checklist_flat_to_tree(checklist_array, checklist_id){\n  let root_item = {\n    checklist_id:checklist_id,\n    id:-1,\n    num_values:[],\n    values:[]\n  }\n  return checklist_flat_to_tree_rec(root_item, checklist_array)\n}\n\nfunction checklist_flat_to_tree_rec(item, array){\n  let child_array = array.filter(elm => elm.parent_itemId === item.id)\n  child_array.sort(function(a, b){return a.position - b.position})\n  // console.log(array)\n  // console.log(child_array)\n  if (!child_array.length){\n    return item\n  }\n  for (let i=0; i< child_array.length; i++){\n    const elm = child_array[i]\n    console.log(elm)\n    let new_item = {\n      id: elm.itemId,\n      name : elm.name,\n      comment : elm.comment,\n      section_title : elm.section_title,\n      cond :  JSON.parse(elm.cond),\n      check : JSON.parse(elm.check),\n      color : JSON.parse(elm.color),\n      pre_check : JSON.parse(elm.pre_check),\n      importance : JSON.parse(elm.importance),\n      values:[]\n    }\n    new_item = checklist_flat_to_tree_rec(new_item, array)\n    item.values.push(new_item)\n    console.log(\"new item\", new_item)\n  }\n  return item\n}\n\n\nexport {list_possible_answer_trad, list_possible_answer, list_possible_num_var_trad, list_possible_num_var, list_possible_op, trad_answer, trad_num_var, date_to_age, CsvGenerator, simple_operation, checklist_to_json, checklist_tree_to_flat, checklist_flat_to_tree}","import ApiService from \"./axios\";\nimport * as temp_data from \"./utils/temporary_data\";\nimport * as utils from \"./utils/utils\";\nimport axios from \"axios\";\nimport {useState} from \"react\";\n\nconst postconnection = (is_local, loginInfo, setLoginInfo, setIsLogin, setLoginErrorCode, switchUser, setCurrentUser) => {\n  if (!is_local){\n    const current_token = window.localStorage.getItem(\"token\")\n    if (current_token === null){\n\n      let login_info = {email:loginInfo.username, password:loginInfo.password}\n      new ApiService().post( 'https://checklists.metoui.be/api' + '/' + \"login\", login_info )\n        .then(function(response){\n          console.log(\" login\" , response)\n          // window.localStorage.setItem(\"token\", response.data.token)\n          window.localStorage.setItem(\"token\", response.data.token)\n          setIsLogin(true)\n          switchUser(1)\n        }).catch(error => {console.error(error); setLoginErrorCode(error.message)})\n    }\n    else{\n      new ApiService().get( process.env.REACT_APP_BASE_URL + '/' + \"session\")\n      // new ApiService().post( \"#\")\n        .then(function (response){\n          console.log(\" session connection succeed\", response)\n          window.localStorage.setItem(\"token\", response.data.token)\n          setIsLogin(true)\n          switchUser(1)\n        }).catch(function(error){\n          console.log(\"Session connection failed\", error)\n          window.localStorage.removeItem(\"token\")\n          postconnection(is_local, loginInfo, setLoginInfo, setIsLogin)\n      })\n    }\n  }\n}\n\nconst getusers = (is_local, setUserList, setErrorCode) => {\n  /*Get user list from database*/\n  // axios.get('http://checklists.metoui.be/api/users')\n  new ApiService().get(true ? '#' : process.env.REACT_APP_BASE_URL + '/' + \"users\")\n    .then(function(response){\n\n      //Must handle incoming data\n      console.log(\"user list call response\", response)\n      console.log(\"user list call temp\", temp_data.user_list)\n      const user_list = temp_data.user_list// temporary\n      setUserList(user_list);\n      console.log(\"initial get user list call and set finished\")\n    }).catch((error) => {\n      console.error(error.message)\n      setErrorCode(error.message)\n    });\n  return true\n}\n\nconst getuser = (is_local, id, setCurrentUser, setScanValueError) => {\n  new ApiService().get(true ? '#': process.env.REACT_APP_BASE_URL + '/' + 'users/'+id)\n    .then(function(response) {\n      console.log(\"get user at id response\", response.data)\n      console.log(\"get user at id temp\", temp_data.users[id])\n      let corresp_users = true ? temp_data.users[id] : response.data // temporary\n      // let corresp_patients = response.data\n      setCurrentUser(corresp_users ? corresp_users : null)\n      setScanValueError(null)\n    })\n}\n\nconst getpatients = (is_local, setPatientList) => {\n  /*Get patient list from database*/\n  new ApiService().get(is_local ? '#' : process.env.REACT_APP_BASE_URL + '/' + 'patient')\n    .then(function(response){\n\n      //Must handle incoming data\n      console.log(\"patient call response \", response.data)\n      console.log(\"patient call temp\", temp_data.patient_list)\n\n      // const patient_list = temp_data.patient_list // temporary\n      const patient_list = is_local ? temp_data.patient_list : response.data\n\n      setPatientList(patient_list);\n      console.log(\"initial get patient list call and set finished\")\n    });\n}\n\nconst getpatient = (is_local, id, setCurrentPatient, setScanValueError, patientList) => {\n  new ApiService().get(is_local ? '#': process.env.REACT_APP_BASE_URL + '/' + 'patient/'+id)\n    .then(function(response) {\n      console.log(\"get patient at id response\", response.data)\n      console.log(\"get patient at id temp\", temp_data.patients[id])\n      let corresp_patients = is_local ? temp_data.patients[id] : response.data // temporary\n      // let corresp_patients = response.data\n      corresp_patients.intervention_name = patientList.filter(elm => elm.id === id)[0].intervention_name\n      setCurrentPatient(corresp_patients ? corresp_patients : null)\n      setScanValueError(null)\n    })\n}\n\nconst getwaitingpatients = (is_local, setPatientList, setErrorCode, setIsWaitingList) => {\n  new ApiService().get(is_local ? '#': process.env.REACT_APP_BASE_URL + '/' + 'journey')\n    .then(function(response) {\n      //Must handle incoming data\n      console.log(\"patient call response \", response.data)\n      console.log(\"patient call temp\", temp_data.patient_list)\n\n      // const patient_list = temp_data.patient_list // temporary\n      let patient_list = []\n      if (is_local){\n        patient_list = temp_data.patient_list\n      }\n      else{\n        response.data.data.forEach(function (journey){\n          const current_date = new Date().setHours(0)\n          if (journey.scheduledDateTime === null || new Date(journey.scheduledDateTime) > current_date ) {\n            patient_list.push(journey.patient)\n            patient_list[patient_list.length - 1].intervention_name = journey.surgery.denomination\n            console.log(patient_list)\n          }\n        })\n      }\n      if (patient_list.length === 0) setErrorCode(\"empty\")\n      setPatientList(patient_list);\n      console.log(\"initial get patient list call and set finished\")\n      setIsWaitingList(false)\n    }).catch((error) =>{\n      console.error(error)\n      setErrorCode(error.message)\n      setIsWaitingList(false)\n    })\n}\n\nconst getchecklist = (is_local, checklist_id, creationMode, checklist, setChecklist, checklistList, alertList, setAlertList, pbresult, result, checklistId, setCreationMode, setChecklistId, setCurrentQuestion, setHomeMode, reset, pathId, currentEvals, setCurrentEvals, setChecklistErrorCode ) => {\n  // Get the checklist from database\n\n  new ApiService().get(is_local ? \"#\" : process.env.REACT_APP_BASE_URL + '/' + \"checklist/\"+ checklist_id)\n    .then(function(response){\n\n      console.log(\"checklist swap call response\", response)\n\n      const current_creation_mode = creationMode // we use this variable to reset the creation mode after switching\n      let checklist_array = is_local ? temp_data.checklist_arrays[checklist_id-1] : response.data.data.items\n      // let checklist_array = response.data.data.items\n\n      console.log(\"checklist_array\", checklist_array)\n\n      // Transform the checklist array to checklist tree and add info from checklist list\n      checklist = utils.checklist_flat_to_tree(checklist_array,checklist_id)\n\n      console.log(\"checklist\", checklist)\n      let checklist_info = checklistList.filter(elm => elm.id === checklist_id)[0]\n      checklist.name = checklist_info.title\n      checklist.person = checklist_info.person\n      checklist.counter = checklist_info.counter\n      checklist.type = checklist_info.type\n\n      setChecklist(checklist)\n\n      /**** Alert gestion section, will be replaced by a get call when the db will handle alert gestion*/\n\n      alertList = {}\n      getevaluation(setCurrentEvals, pathId, null, alertList, setAlertList, checklist_array)\n\n      setCreationMode(false)\n      setChecklistId(checklist_id);\n      setCurrentQuestion(checklist && checklist.values.length ? checklist.values[0] : null)\n      setCreationMode(current_creation_mode)\n      setHomeMode(false)\n      reset()\n\n      console.log(\"switch checklist get call and set finished\")\n    }).catch(error => {setChecklistErrorCode(error.message); setHomeMode(false)})\n}\n\nconst getchecklists = (is_local, checklist, setChecklist,\n                       setChecklistId, setCurrentQuestion, reset, setCurrentParentQuestion,\n                       setCurrentName, setCurrentComment, setCurrentSectionTitle, setTempPreCheck, setChecklistList ) => {\n  new ApiService().get(is_local ? '#' : process.env.REACT_APP_BASE_URL + '/' + \"checklist\") //Random url, just to simulate the fact that we need to make get call before set checklistList\n    .then(function(response) {\n      console.log(response)\n      let checklist_list = is_local ? temp_data.paths[1].checklists : response.data\n      let checklist_id = checklist_list[0].id\n\n\n      if (checklist_list && checklist_list.length) {\n        setChecklistList(checklist_list, checklist_list)\n        getchecklist_creation_mode(is_local, checklist_id, checklist, setChecklist, checklist_list,\n          setChecklistId, setCurrentQuestion, reset, setCurrentParentQuestion,\n          setCurrentName, setCurrentComment, setCurrentSectionTitle, setTempPreCheck)\n      }\n    })\n}\n\nconst getchecklist_creation_mode = (is_local, checklist_id, checklist, setChecklist, checklistList,\n                                    setChecklistId, setCurrentQuestion, reset, setCurrentParentQuestion,\n                                    setCurrentName, setCurrentComment, setCurrentSectionTitle, setTempPreCheck ) => {\n  // Get the checklist from database\n  new ApiService().get(is_local ? \"#\" : process.env.REACT_APP_BASE_URL + '/' + \"checklist/\"+ checklist_id)\n    .then(function(response){\n\n      let checklist_array = is_local ? temp_data.checklist_arrays[checklist_id-1] : response.data.data.items\n      console.log(\"get checklist creation mode\", checklist_array)\n\n      // Transform the checklist array to checklist tree and add info from checklist list\n      checklist = utils.checklist_flat_to_tree(checklist_array,checklist_id)\n      let checklist_info = checklistList.filter(elm => elm.id === checklist_id)[0]\n\n      checklist.name = checklist_info.title\n      checklist.person = checklist_info.person\n      checklist.counter = checklist_info.counter\n      checklist.type = checklist_info.type\n      setChecklist(checklist)\n      setChecklistId(checklist_id)\n      setCurrentQuestion(checklist.values[0])\n      reset()\n      setCurrentParentQuestion(checklist)\n      setCurrentName(checklist.values[0].name)\n      setCurrentComment(checklist.values[0].comment)\n      setCurrentSectionTitle(checklist.values[0].section_title ? checklist.values[0].section_title : null)\n      setTempPreCheck({type:\"and\", then: checklist.values[0].pre_check && checklist.values[0].pre_check.then ? checklist.values[0].pre_check.then : null})\n\n      console.log(\"switch checklist get call and set finished\")\n    })\n}\n\nconst putchecklist = (swapchecklist, checklistList, checklist_id, updated_checklist) => {\n  // Inform that we want to add a new checklist and receive in response the new checklist list\n  new ApiService().put('http://checklists.metoui.be/api/checklists/'+checklist_id, updated_checklist) //Random url, just to simulate the fact that we need to make get call to add checklist\n    .then(function(response){\n\n      console.log(\"put checklist\")\n      //Must handle incoming data\n      swapchecklist(checklistList, checklist_id) // Pour l'instant n'a pas de sens puisqu'on ne rajoute rien\n      console.log(\"add checklist get call and set finished\")\n    });\n}\n\nconst getjourney = (is_local, currentPatient, setCurrentPatient, setPathId,setChecklistList, setJourneyErrorCode) => {\n  // First call to ask the journey id corrsesponding to the last journey of the current patient\n  new ApiService().get(is_local ? '#' : process.env.REACT_APP_BASE_URL + '/' + 'journey?patient_id='+currentPatient.id) //Random url, just to simulate the fact that we need to make get call before set checklistList\n    .then(function (response) {\n\n      console.log(\"get journey id for the patient id response\", response.data.data ? response.data.data[0].id: null)\n      console.log(\"get journey id for the patient id temp\", temp_data.path_list.filter(elm => elm.patient_id === currentPatient.id)[0].path_id)\n      const path_id = is_local ? temp_data.path_list.filter(elm => elm.patient_id === currentPatient.id)[0].path_id : response.data.data[0].id\n      setPathId(path_id)\n      console.log(process.env.REACT_APP_BASE_URL + '/' + 'journeys/'+path_id)\n\n      // Second call to get the different information, especially the list of checklist, corresponding to the journey\n      new ApiService().get(is_local ? '#' : process.env.REACT_APP_BASE_URL + '/' + 'journey/'+path_id)\n        .then(function (response) {\n          console.log(\"get journey corresponding to journey id response\", response.data.data ? response.data.data.checklists : null)\n          console.log(\"get journey corresponding to journey id temp\", temp_data.paths[path_id].checklists)\n          // if (!is_local) setCurrentPatient({...currentPatient, intervention_name : response.data.data.surgery.denomination} )\n          let checklist_list = is_local ? temp_data.paths[path_id].checklists : response.data.data.checklists\n          if (checklist_list && checklist_list.length) {\n\n            new ApiService().get(is_local ? '#' : process.env.REACT_APP_BASE_URL + '/' + \"evaluation?journey_id=\"+path_id) // Will add /path_id when the call will handle get evaluation of a certain journey\n              .then(function (response){\n                console.log(\"get evaluation\", response)\n                if(response.data && response.data.data && response.data.data.length){\n                  for( const evaluation of response.data.data){\n                    checklist_list.find(checklist => checklist.id === evaluation.checklist.id).fill = true\n                  }\n                }\n                setChecklistList(checklist_list)\n              }).catch(error => setJourneyErrorCode(error.message))\n\n          }\n        }).catch(error => setJourneyErrorCode(error.message))\n    }).catch(error => setJourneyErrorCode(error.message))\n}\n\nconst postevaluation = (is_local, final_result) => {\n  new ApiService().post(is_local ? '#' : process.env.REACT_APP_BASE_URL + '/' + 'evaluation', final_result  )\n    .then(function (response){\n      console.log(\"evaluation post response\", response)\n    })\n}\n\nconst getevaluation = (setCurrentEvals, path_id, setIsWaitingReview , alertList=null, setAlertList=null, current_checklist_array = null) => {\n  new ApiService().get(process.env.REACT_APP_BASE_URL + '/' + 'evaluation?journey_id='+path_id )\n    .then(function (response){\n      console.log(\"evaluation get response\", response)\n      setCurrentEvals(response.data.data)\n      console.log(current_checklist_array)\n\n      if (alertList !== null){\n        let index = 0\n        for(const evaluation of response.data.data){\n          for(const answer of evaluation.answers){\n            const corresp_question_prev = evaluation.checklist.items.filter(item => item.itemId === answer.item_id)[0]\n            const corresp_question_current = current_checklist_array.filter(item => corresp_question_prev.name.includes(item.name))\n            if(answer.is_pb === 1){\n              if(!alertList[corresp_question_prev.name])\n                alertList[corresp_question_prev.name] = {id: index++, question_id: corresp_question_current.length ? corresp_question_current[0].itemId : -1,\n                  checklist_id: evaluation.checklist.id, checklist_name: evaluation.checklist.title, name : corresp_question_prev.name,\n                  answer: utils.trad_answer(JSON.parse(answer.answer)) ? utils.trad_answer(JSON.parse(answer.answer)) : JSON.parse(answer.answer), gravity:0}\n            }\n            else{\n              if(alertList[corresp_question_prev.name])\n                alertList[corresp_question_prev.name] = {...alertList[corresp_question_prev.name], gravity:1,}\n            }\n          }\n        }\n        setAlertList(alertList)\n      }\n      if (setIsWaitingReview) setIsWaitingReview(false)\n    })\n}\n\nexport {postconnection, getusers, getuser, getpatients, getpatient, getwaitingpatients, getchecklist, getchecklists, getchecklist_creation_mode, putchecklist, getjourney, postevaluation, getevaluation}","import React, {useState} from \"react\";\nimport * as utils from \"../utils/utils\";\nimport Modal from 'react-bootstrap/Modal'\nimport * as temp_data from \"../utils/temporary_data\";\nimport {Button} from \"react-bootstrap\";\nimport axios from \"axios\";\nimport * as calls from \"../calls\";\n\n/* Component of the upper navbar of the webpage\n* -setCreationMode: bool indicating if we are in creation mode set function\n* -setCreditMode: bool indicating if we are in credit mode set function\n* -trimmedCanvasUrl: the canvas url data of the signature\n* -result: dict containing the results of the current checklist check-in\n* -checklistList: List containing the different checklists\n* -swapchecklist: function that changes the current checklist\n* */\nfunction AppNavbar ({props}) {\n\n  let {creationMode, setCreationMode, creditMode, setCreditMode, setCommentMode, commentMode, setDebugMode, debugMode, trimmedCanvasUrl, checklistList, swapchecklist, reset, forceUpdate, import_csv_result, result, setCurrentQuestion, checklist, homeMode, setHomeMode, setChecklistList, setScanValue, setCurrentPatient, setScanValueError, setCurrentUser,setUserValidated, is_local, currentPatient, setPathId} = props;\n\n  /*Function triggered when we want to download the signature as .png file if there is a canvas url data*/\n  const image_download = () => {\n    if(trimmedCanvasUrl)\n      downloadImage(trimmedCanvasUrl, \"image.png\");\n  }\n\n  /*Activate the creation mode*/\n  const activatecreatemode = () => {\n    setCreationMode(true)\n  }\n\n  /*Deactivate the creation mode*/\n  const deactivatecreatemode = () => {\n    setCreationMode(false)\n    setCurrentQuestion(checklist && checklist.values.length ? checklist.values[0] : null)\n  }\n\n  const changecreationmode = () => {\n    if (creationMode) {\n      deactivatecreatemode()\n      gotohome(true)\n    }\n    else{\n      activatecreatemode()\n      setHomeMode(false)\n    }\n  }\n\n  /*Activate the credit mode*/\n  const activatecreditmode = () => {\n    setCreditMode(true)\n  }\n\n  /*Deactivate the creation mode*/\n  const deactivatecreditmode = () => {\n    setCreditMode(false)\n  }\n\n  const changecommentmode = () => {\n    setCommentMode(!commentMode)\n  }\n\n  const changedebugmode = () => {\n    setDebugMode(!debugMode)\n  }\n\n  const gotohome = (main_menu) => {\n    deactivatecreditmode();\n    deactivatecreatemode()\n    setHomeMode(true)\n    setScanValueError(null)\n    // setUserValidated(false)\n    if (main_menu){\n      setChecklistList(null)\n      setScanValue(null)\n      setCurrentPatient(null)\n      // setCurrentUser(null)\n    }\n    else{\n      calls.getjourney(is_local, currentPatient, setCurrentPatient, setPathId,setChecklistList)\n    }\n  }\n\n  const [show, setShow] = useState(false);\n\n  const handleClose = () => {setProblemName([]) ; setProblemDescription(null) ; setShow(false)};\n  const handleShow = () => setShow(true);\n\n  const [problemName, setProblemName] = useState([])\n  const [problemDescription, setProblemDescription] = useState(\"\")\n\n  const handleName = (name, index) => { console.log(\"index\", index); problemName.splice(index);problemName.push(name); console.log(problemName); setProblemName(problemName); forceUpdate()};\n  const handleDescription = (event) => setProblemDescription(event.target.value);\n  const handleSave = () => {\n    setShow(false); setProblemName(null) ; setProblemDescription(null) ;\n    axios.post('#', {name:problemName, description:problemDescription}) //Random url, just to simulate the fact that we need to make get call to add checklist\n      .then(function(response){\n      })\n  }\n\n  let indesirable_events =\n    {\n      \"Patient\":\n        {\n          \"Arrivée Tardive\": null,\n          \"Mauvaise Préparation\":\n                {\n                  \"Prothèses en place\": null,\n                  \"Bijoux, piercings, .. en place\": null,\n                  \"N'a pas uriné\": null,\n                  \"Préparation cutanée incorrecte\": null\n                }\n        },\n      \"Brancardage\": {\"Patient pas prêt\": null},\n      \"Dossier\": {\"Pas de consentement\": null, \"Pas de prenarcose\": null}\n    }\n\n  const indesirable_event_dropdowns = (indesirable_event_dict, index) => {\n    console.log(indesirable_event_dict)\n    if (!indesirable_event_dict) { return null}\n    return (\n    <div>\n      <div className={\"row my-2\"}>\n        <div className=\"col-sm-6 dropdown text-center m-0 my-2\">\n          <button className=\"btn btn-primary dropdown-toggle  \" type=\"button\" id={\"dropdownMenuButton\"+index}\n                  data-toggle=\"dropdown\" aria-expanded=\"false\">\n            Sélectionnez le problème\n          </button>\n          <ul className=\"dropdown-menu\" aria-labelledby={\"dropdownMenuButton\"+index}>\n            {Object.keys(indesirable_event_dict).map((i, nb) => (\n              <li key={nb}><label className=\"dropdown-item \" onClick={() => handleName(i, index)}>{i}</label></li>\n            ))}\n          </ul>\n        </div>\n        {problemName && problemName[index] ?\n          <div className={\"col-sm-5 iq-card iq-bg-secondary w-100 text-center my-auto border shadow-sm \"}>\n            {problemName[index]}\n          </div> : null}\n      </div>\n    {indesirable_event_dropdowns(indesirable_event_dict[problemName[index]], index+1)}\n    </div>\n    )\n  }\n\n  /*Return the different elements of the navbar*/\n  return (\n    <div className=\"iq-top-navbar h-auto border\" >\n      <div className=\"iq-navbar-custom py-2\">\n        <nav className=\"navbar navbar-expand-lg navbar-light p-0 \">\n          {/*Navbar Title*/}\n          <div className=\"navbar-brand pl-4 custom-logo\">\n            <a href=\"#\" onClick={() => gotohome(true)}>\n              <span><img className={\"w-100\"} src={process.env.PUBLIC_BASE_URL + \"photos/logo_dynalist_v2.png\"}/></span>\n            </a>\n          </div>\n          {/*/!*Navbar Toggler button*!/*/}\n          <button className=\"navbar-toggler p-0\" data-toggle=\"collapse\" data-target=\"#navbarNavAltMarkup\"\n                  aria-controls=\"navbarNavAltMarkup\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n            <span className=\"navbar-toggler-icon\"></span>\n          </button>\n\n          {/*/!*Navbar links*!/*/}\n          <div className=\"collapse navbar-collapse\" id=\"navbarNavAltMarkup\">\n            <div className=\"navbar-nav  p-2 pl-2\">\n              {/*{!creationMode && !checklistList ? <label className=\"nav-link m-0 my-auto\" data-toggle=\"collapse\" data-target=\".navbar-collapse.show\" onClick={() => setdefault()}>Passer le QRcode</label> : null}*/}\n              {checklistList ?<label className=\"nav-link m-0 my-auto\" data-toggle=\"collapse\" data-target=\".navbar-collapse.show\" onClick={() => gotohome(true)}>Revenir à l'accueil</label> : null}\n              {!creationMode && checklistList && !homeMode ?<label className=\"nav-link m-0 my-auto\" data-toggle=\"collapse\" data-target=\".navbar-collapse.show\" onClick={() => gotohome(false)}>Revenir à la sélection des checklists</label> : null}\n              {checklistList && !homeMode ?<label className=\"nav-link m-0 my-auto\" data-toggle=\"collapse\" data-target=\".navbar-collapse.show\" onClick={import_csv_result}>Importer les résultats de la checklist</label> : null}\n              {!creationMode ?<label className=\"nav-link m-0 my-auto\" data-toggle=\"collapse\" data-target=\".navbar-collapse.show\" onClick={() => changecreationmode()}>Activer Mode Création</label> : null}\n              {creationMode ?<label className=\"nav-link m-0 my-auto\" data-toggle=\"collapse\" data-target=\".navbar-collapse.show\" onClick={() => changecreationmode()}>Désactiver Mode Création</label> : null}\n\n              {/*<label className=\"nav-link m-0\" data-toggle=\"collapse\" data-target=\".navbar-collapse.show\" onClick={image_download}>Importer la signature</label>*/}\n              {/*Navbar checklist selection dropdown link*/}\n              {/*<li className=\"nav-item dropdown\">*/}\n              {/*  <label className=\"nav-link dropdown-toggle m-0\" id=\"navbarDropdown\" role=\"button\"*/}\n              {/*     data-toggle=\"dropdown\" aria-expanded=\"false\">*/}\n              {/*    Liste des checklists disponibles*/}\n              {/*  </label>*/}\n              {/*  <ul className=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\">*/}\n              {/*    {checklistList ? checklistList.map((i, index) => (*/}\n              {/*      <li key={index}><label className=\"dropdown-item m-0\" data-toggle=\"collapse\" data-target=\".navbar-collapse.show\" onClick={function (){swapchecklist(i.checklist_id) } }>{i.name}</label></li>*/}\n              {/*    )): null}*/}\n              {/*  </ul>*/}\n              {/*</li>*/}\n              <li className=\"nav-item dropdown my-auto\">\n                <label className=\"nav-link dropdown-toggle m-0\" id=\"navbarDropdown\" role=\"button\"\n                       data-toggle=\"dropdown\" aria-expanded=\"false\">\n                  Options\n                </label>\n                <ul className=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\">\n                  <li>\n                    <label className=\"dropdown-item m-0\" data-toggle=\"collapse\" data-target=\".navbar-collapse.show\">\n                      <input type=\"checkbox\" checked={!debugMode} onClick={changedebugmode}/>\n                      &nbsp; Activer le dynamisme\n                    </label>\n                  </li>\n                  <li>\n                    <label className=\"dropdown-item m-0\" data-toggle=\"collapse\" data-target=\".navbar-collapse.show\">\n                      <input type=\"checkbox\" checked={commentMode} onClick={changecommentmode}/>\n                      &nbsp; Activer les commentaires\n                    </label>\n                  </li>\n                </ul>\n              </li>\n              <label className=\"nav-link m-0 my-auto\" data-toggle=\"collapse\" data-target=\".navbar-collapse.show\" onClick={activatecreditmode}>A propos</label>\n\n              <div className=\"nav-link m-0\">\n                <>\n                  <Button variant=\"warning\" onClick={handleShow}>\n                    Signaler évènement\n                  </Button>\n\n                  <Modal show={show} onHide={handleClose}>\n                    <Modal.Header className={\"\"} closeButton variant=\"white\">\n                      <Modal.Title className={\"text-dark\"}>Signalement d'évènements indésirables</Modal.Title>\n                    </Modal.Header>\n                    <Modal.Body>\n                      Type de problème\n                      <div className={\"\"}>\n                        {indesirable_event_dropdowns(indesirable_events, 0)}\n                      </div>\n                      {/*Intitulé du problème*/}\n                      {/*<input  className=\"form-control w-100 mb-0\" type = \"text \" aria-label=\"text input\" value={problemName} onChange={handleName}/>*/}\n                      Description du problème\n                      <textarea className=\"form-control form-control-custom textarea\" rows=\"4\" value={problemDescription} onChange={handleDescription}/>\n                    </Modal.Body>\n                    <Modal.Footer className={\"\"}>\n                      <Button variant=\"secondary\" onClick={handleClose}>\n                        Fermer\n                      </Button>\n                      <Button variant=\"primary\" onClick={handleSave}>\n                        Sauvegarder\n                      </Button>\n                    </Modal.Footer>\n                  </Modal>\n                </>\n              </div>\n            </div>\n          </div>\n        </nav>\n      </div>\n    </div>\n  )\n}\n\n/*Download a data in a file with defined filename*/\nconst downloadImage = function(data, filename) {\n  let a = document.createElement('a');\n  a.href = data;\n  a.download = filename;\n  document.body.appendChild(a);\n  a.click();\n};\n\nexport {AppNavbar}","import BootstrapSelect from \"react-bootstrap-select-dropdown\";\nimport * as utils from \"../utils/utils\";\nimport React, {useEffect, useState} from \"react\";\nimport {list_possible_answer, list_possible_num_var, list_possible_op, trad_answer, trad_num_var, checklist_to_json,} from \"../utils/utils\";\nimport * as temp from \"../utils/temporary_data\";\nimport * as temp_data from \"../utils/temporary_data\";\nimport axios from \"axios\";\nimport * as calls from \"../calls\"\nimport {putchecklist} from \"../calls\";\n\n/* Component for the creation mode box\n* -checklist: current checklist (state variable)\n* -setChecklist: current checklist set function\n* -swapchecklist: function that changes the current checklist\n* -checklistList : list of checklists (state variable)\n* -setChecklistList : list of checklist set function\n* -checklistId : id of the current checklist (state variables)\n* -setChecklistId : id of the current checklist set function\n* -forceUpdate: function that force the reload of component if necessary\n* -currentQuestion : id of the question currently in modific\n* */\nfunction CreateBox ({props}) {\n\n  let {checklist, setChecklist, checklistList, setChecklistList, checklistId, setChecklistId, forceUpdate, currentQuestion, setCurrentQuestion, reset, is_local} = props\n\n  /* State variables used only in creation mode\n  * -currentParentQuestion : the question that is parent of the current question\n  * -currentName : the current name\n  * -tempNums : the numerical condition values (var, op and val) of the current condition the user is going to add\n  * -tempPreChech : the precheck condition values (var, op, val) and then value of the current precheck the user is going to add\n  */\n\n  let [currentParentQuestion, setCurrentParentQuestion] = useState(null)\n  let [currentName, setCurrentName] = useState(null)\n  let [currentComment, setCurrentComment] = useState(null)\n  let [currentSectionTitle, setCurrentSectionTitle] = useState(null)\n\n  let [tempNums, setTempNums] = useState({})\n  let [tempPreCheck, setTempPreCheck] = useState(null)\n\n  let [pairIndicator, setPairIndicator] = useState(0)\n\n  let [isAltAnswers, setIsAltAnswers] = useState(false)\n\n  const swapchecklist = (checklist_list, checklist_id) => {\n    calls.getchecklist_creation_mode(is_local, checklist_id, checklist, setChecklist, checklist_list,\n      setChecklistId, setCurrentQuestion, reset, setCurrentParentQuestion,\n      setCurrentName, setCurrentComment, setCurrentSectionTitle, setTempPreCheck)\n  }\n\n\n  useEffect(() => {\n    calls.getchecklists(is_local, checklist, setChecklist,\n      setChecklistId, setCurrentQuestion, reset, setCurrentParentQuestion,\n      setCurrentName, setCurrentComment, setCurrentSectionTitle, setTempPreCheck, setChecklistList)\n  }, [])\n\n  console.log(\"main\", currentQuestion)\n  console.log(\"name\", currentName)\n\n\n\n  /* Make the complete list of questions of the current checklist*/\n  let questionList = [];\n  function enumquestions (item){\n    if (item.id > 0)\n      questionList.push(item.id)\n    for (const value of item.values){\n      enumquestions(value)\n    }\n  }\n  if (checklist) enumquestions(checklist)\n\n  /*Create a list, usable by the select component, of the possible answer*/\n  let possible_answers = []\n  let possible_answers_single = []\n  let alt_possible_answers = []\n  function construct_possible_answers (){\n    possible_answers = []\n    list_possible_answer.forEach(function(answer){\n      if([\"text\",\"list\"].includes(answer)){\n        alt_possible_answers.push({\"labelKey\": answer,\"value\": trad_answer(answer)})\n      }\n      else{\n        possible_answers.push({\n          \"labelKey\": answer,\n        \"value\": trad_answer(answer),\n        \"isSelected\":currentQuestion.check.includes(answer),\n        })\n        possible_answers_single.push({\n          \"labelKey\": answer,\n        \"value\": trad_answer(answer),\n        })\n      }\n    })\n  }\n  if (currentQuestion) construct_possible_answers()\n\n  /*Create a list, usable by the select component, of the possible variables of conditions*/\n  let possible_vars = []\n  function construct_possible_vars (){\n    possible_vars = []\n    list_possible_num_var.forEach(function(num_var){\n      possible_vars.push({\"labelKey\": num_var, \"value\": trad_num_var(num_var)})\n    })\n  }\n  if (currentQuestion) construct_possible_vars()\n\n  let possible_vars_extended = JSON.parse( JSON.stringify(possible_vars) )\n  function construct_possible_vars_extended(){\n    questionList.forEach(function (question){\n      possible_vars_extended.push({\"labelKey\": question, \"value\": \"Question \"+ question})\n    })\n  }\n  if (currentQuestion) construct_possible_vars_extended()\n\n  /*Create a list, usable by the select component, of the possible operators of conditions*/\n  let possible_op = []\n  function construct_possible_op (){\n    possible_op = []\n    list_possible_op.forEach(function(op){\n      possible_op.push({\"labelKey\": op, \"value\": op})\n    })\n  }\n  if (currentQuestion) construct_possible_op()\n\n  /*Create a list, usable by the select component, of the possible answers of this question*/\n  let possible_pre_check = []\n  function construct_possible_pre_check (){\n    possible_pre_check = []\n    currentQuestion.check.forEach(function(pre_check){\n      possible_pre_check.push({\"labelKey\": pre_check, \"value\": trad_answer(pre_check)})\n    })\n  }\n  if (currentQuestion) construct_possible_pre_check()\n\n  let possible_lists = []\n  function construct_possible_lists () {\n    Object.keys(temp.lists).forEach(function (name){\n      possible_lists.push({\"labelKey\": name, \"value\": temp.lists_trad[name]})\n    })\n    return possible_lists\n  }\n  if (currentQuestion) construct_possible_lists()\n\n  // /*Set state variables*/\n  // function set_elements () {\n  //   setCurrentQuestion(currentQuestion)\n  //   setCurrentParentQuestion(currentParentQuestion)\n  //   setChecklist(checklist)\n  //   setChecklistList(checklistList)\n  // }\n\n  /*Reinitialize the current question, which means taking the first question of the current checklist as current question*/\n  function reinit_current_question (checklist) {\n    console.log(\"reinit\", checklist)\n    setCurrentQuestion(checklist && checklist.values.length ? checklist.values[0] : null)\n    setCurrentParentQuestion(checklist)\n    setCurrentName(checklist && checklist.values.length ? checklist.values[0].name : \"\")\n    setCurrentComment(checklist && checklist.values.length ? checklist.values[0].comment : \"\")\n    setCurrentSectionTitle(checklist && checklist.values[0].section_title ? checklist.values[0].section_title : null)\n    setTempNums({})\n    setTempPreCheck({type:\"and\", then: checklist.values[0].pre_check && checklist.values[0].pre_check.then ? checklist.values[0].pre_check.then : null})\n    setIsAltAnswers(false)\n  }\n\n  /*Search for a question (with id) in item and his children, knowing that parent_item is the parent of item. When found, set\n  * the current question to this question (and so for the parent and name)*/\n  function searchquestion (item, parent_item, id) {\n    if (item.id === id){\n      console.log(\"found\", item)\n      currentQuestion = item\n      currentParentQuestion = parent_item\n      setCurrentQuestion(currentQuestion)\n      setCurrentParentQuestion(currentParentQuestion)\n      setCurrentName(currentQuestion.name)\n      setTempNums({})\n      setTempPreCheck({})\n      setCurrentComment(currentQuestion.comment)\n      setCurrentSectionTitle(currentQuestion.section_title)\n      setPairIndicator(!pairIndicator)\n      setIsAltAnswers(false)\n      return currentQuestion\n    }\n    let current_question = null\n    for (const value of item.values){\n      current_question = searchquestion(value,item,id) || current_question;\n    }\n    return current_question\n  }\n\n  /*Remove the current question (by removing the question from children of his parent),\n  * and reset to a new current queston\n  */\n  function removequestion (){\n    if (currentParentQuestion) {\n      currentParentQuestion.values = currentParentQuestion.values.filter(e => e.id !== currentQuestion.id)\n      reinit_current_question(checklist)\n      forceUpdate() // Dont know why the remove question need force update but not remove checklist\n    }\n  }\n\n  /*Add a new question to the checklist. For now we put it as the last children of the checklist item\n  * (the last question at first level of the tree ) and we put basic elements inside\n  */\n  function addnewquestion (){\n    let last_id = questionList.length ? questionList.length : 0\n    let new_empty_question =\n      {\n        id: last_id+1,\n        name : \"\",\n        cond: {\"yes\":[], \"no\":[], num:[]},\n        check : [\"yes\", \"no\"],\n        color : [0,1],\n        values: [],\n      }\n    checklist.values.push(new_empty_question)\n    //set_elements()\n    searchquestion(checklist, null, last_id+1)\n  }\n\n  function check_id(item, id){\n    return item.id === id || (item.values.length && item.values.every(value => check_id(value)))\n  }\n\n  /*Move the current question to another position (the last child of the question with id), we reset the cond for now */\n  function movecurrentquestion_sibling (id){\n    if (!check_id(currentQuestion, id)) {\n      let currentQuestionCopy = {...currentQuestion}\n      removequestion()\n      searchquestion(checklist, null, id)\n      let chosen_question_position = currentParentQuestion.values.findIndex(elm => elm.id === id)\n      currentQuestionCopy.cond = {\"yes\": [], \"no\": [], num: []}\n      currentParentQuestion.values.splice(chosen_question_position + 1, 0, currentQuestionCopy)\n      //set_elements()\n      searchquestion(checklist, null, currentQuestionCopy.id)\n      forceUpdate()\n    }\n  }\n\n  function movecurrentquestion_child (id){\n    if (!check_id(currentQuestion, id)) {\n      let currentQuestionCopy = {...currentQuestion}\n      currentQuestionCopy.cond = {\"yes\":[], \"no\":[], num:[]}\n      removequestion()\n      searchquestion(checklist, null, id)\n      currentQuestion.values.splice(0,0,currentQuestionCopy)\n      //set_elements()\n      searchquestion(checklist, null, currentQuestionCopy.id)\n      forceUpdate()\n    }\n  }\n\n  const modifychecklistname = (event) => {\n    setChecklist({...checklist, name:event.target.value})\n  }\n\n  const modifychecklistdescription = (event) => {\n    setChecklist({...checklist, description:event.target.value})\n  }\n\n  /*Modify the current name*/\n  const modifyname = (event) => {\n    currentName = event.target.value\n    setCurrentName(currentName)\n  }\n\n\n\n  /*Update the current question name*/\n  const updatename = () => {\n    currentQuestion.name = currentName\n    setCurrentQuestion(currentQuestion)\n    forceUpdate()\n  }\n\n    /*Modify the current name*/\n  const modifycomment = (event) => {\n    currentComment = event.target.value\n    setCurrentComment(currentComment)\n  }\n\n  /*Update the current question name*/\n  const updatecomment = () => {\n    if (currentComment)\n      currentQuestion.comment = currentComment\n    else\n      delete currentQuestion.comment\n    forceUpdate()\n  }\n\n  /*Modify the current name*/\n  const modifysectiontitle= (event) => {\n    currentSectionTitle = event.target.value\n    setCurrentSectionTitle(currentSectionTitle)\n  }\n\n  /*Update the current question name*/\n  const updatesectiontitle = () => {\n    if (currentSectionTitle)\n      currentQuestion.section_title = currentSectionTitle\n    else\n      delete currentQuestion.section_title\n    forceUpdate()\n  }\n\n  /*Change the check array of the current question, containing the possible answers*/\n  const changecheck = (selectedOptions) => {\n    if (selectedOptions.selectedKey.length) {\n      if (!(selectedOptions.selectedKey.includes(\"list\") || selectedOptions.selectedKey.includes(\"text\"))) {\n        currentQuestion.check = selectedOptions.selectedKey\n        let current_colors = currentQuestion.color\n        if (currentQuestion.check.length >= current_colors.length)\n          current_colors = current_colors.concat(new Array(currentQuestion.check.length - current_colors.length).fill(2))\n        // else\n        //   current_colors.splice(currentQuestion.check.length)\n        currentQuestion.color = current_colors\n      }\n      else if(selectedOptions.selectedKey[0] === \"list\"){\n        currentQuestion.check = [\"list_meds\"]\n      }\n      else{\n        currentQuestion.check = selectedOptions.selectedKey\n      }\n    }\n    else{\n      currentQuestion.check = []\n    }\n      setCurrentQuestion(currentQuestion)\n      switchpairindicator()\n      forceUpdate()\n  }\n\n  /*Add a checklist (with basic content) to the list of checklist, and switch to this checklist*/\n\n  const updatechecklist = () => {\n    const checklist_id = checklistList.length ? checklistId : 0\n\n    //On ajoute une checklist ici dans la checklist list actuelle\n    const updated_checklist = {\n      id : checklistId,\n      data : utils.checklist_tree_to_flat(checklist).slice(1) //todo : remove slice\n    }\n\n    console.log(updated_checklist)\n\n    calls.putchecklist(swapchecklist, checklistList, checklist_id,updated_checklist)\n  }\n\n  const addchecklist = () => {\n    const checklist_id = checklistList.length ? checklistList[checklistList.length-1].id+1 : 0\n\n    //On ajoute une checklist ici dans la checklist list actuelle\n\n    const new_checklist =\n      {\n        name : \"Nouvelle Checklist\",\n        data: [\n          [\n            1,\n            '\"Question vide\"',\n            -1,\n            0,\n            null,\n            null,\n            '{\"yes\":[],\"no\":[],\"num\":[]}',\n            '[\"yes\",\"no\"]',\n            '[0,1]',\n            null,\n            0\n          ]\n        ]\n      }\n\n    // Inform that we want to add a new checklist and receive in response the new checklist list\n    axios.post('http://checklists.metoui.be/api/checklists', new_checklist) //Random url, just to simulate the fact that we need to make get call to add checklist\n    .then(function(response){\n\n      //Must handle incoming data\n\n      swapchecklist(checklistList, checklist_id) // Pour l'instant n'a pas de sens puisqu'on ne rajoute rien\n      console.log(\"add checklist get call and set finished\")\n    });\n  }\n\n  /*Remove the current checklist from the list of checklist and take the first checklist still available as current checklist*/\n  const removechecklist = () => {\n    const checklist_id = checklistList.length ? checklistList[0].id : 0\n\n    // Inform that we want to del a checklist and receive in response the new checklist list\n    axios.delete('http://checklists.metoui.be/api/checklists/'+checklistId) //Random url, just to simulate the fact that we need to make get call to del checklist\n    .then(function(response){\n\n      swapchecklist(checklistList, checklist_id) // Pour l'instant n'a pas de sens puisqu'on ne rajoute rien\n      console.log(\"remove checklist get call and set finished\")\n    });\n  }\n\n  /*Function that add a  question condition (with it answer and id) to current question*/\n  const addcond = (answer, id) => {\n    if (currentQuestion.cond[answer]) currentQuestion.cond[answer].push(id)\n    else currentQuestion.cond[answer] = [id]\n\n    setCurrentQuestion(currentQuestion)\n    forceUpdate()\n  }\n\n  /*Function that delete a  question condition (with it answer and id) to current question*/\n  const deletecond = (answer, id) => {\n    currentQuestion.cond[answer] = currentQuestion.cond[answer].filter(elm => elm !== id)\n    console.log(currentQuestion)\n    setCurrentQuestion(currentQuestion)\n    //set_elements()\n    forceUpdate()\n  }\n\n  /*Function that update the tempNum.var variable with input*/\n  const addtempnumvar = (selectedOptions) => {\n    if (!tempNums){ tempNums = {}}\n    tempNums = {}\n    tempNums.var = selectedOptions.selectedKey[0]\n    setTempNums(tempNums)\n\n    forceUpdate()\n  }\n  /*Function that update the tempNum.op variable with input*/\n  const addtempnumop = (selectedOptions) => {\n    if (!tempNums){ tempNums = {}}\n    tempNums.op = selectedOptions.selectedKey[0]\n    setTempNums(tempNums)\n    forceUpdate()\n  }\n    /*Function that update the tempNum.val variable with input*/\n  const addtempnumval = (event) => {\n    if (!tempNums){ tempNums = {}}\n    if(tempNums.var && [\"diabetic\",\"difficult_intubation\", \"gender\"].includes(tempNums.var) )\n      tempNums.val = event.selectedKey[0]\n    else\n      tempNums.val = event.target.value\n    setTempNums(tempNums)\n    forceUpdate()\n  }\n\n  /*Function that add a numerical condition (with values contains in tempNum) to currentQuestion*/\n  const addnum = () => {\n    if(tempNums.var && tempNums.val && [\"diabetic\",\"difficult_intubation\", \"gender\"].includes(tempNums.var)){\n      currentQuestion.cond.num.push({var: tempNums.var, op: \"est\", val: tempNums.val})\n      setCurrentQuestion(currentQuestion)\n      forceUpdate()\n    }\n    else if (tempNums.var && tempNums.op && tempNums.val) {\n      currentQuestion.cond.num.push({var: tempNums.var, op: tempNums.op, val: tempNums.val})\n      setCurrentQuestion(currentQuestion)\n      forceUpdate()\n    }\n  }\n\n  /*Function that remove a numerical condition of the currentQuestion*/\n  const removenum = (index) => {\n    console.log(\"supprimer\", index)\n    currentQuestion.cond.num.splice(index,1)\n    console.log(currentQuestion.cond.num)\n    setCurrentQuestion(currentQuestion)\n    //set_elements()\n    forceUpdate()\n  }\n\n  /*Function that update the tempPrecheck.var variable with input*/\n  const addtempprecheckvar = (selectedOptions) => {\n    tempPreCheck = {type:tempPreCheck.type, then:currentQuestion.pre_check && currentQuestion.pre_check.then ? currentQuestion.pre_check.then: null}\n    tempPreCheck.var = selectedOptions.selectedKey[0]\n    setTempPreCheck(tempPreCheck)\n    forceUpdate()\n  }\n  /*Function that update the tempPrecheck.op variable with input*/\n  const addtempprecheckop = (selectedOptions) => {\n    tempPreCheck.op = selectedOptions.selectedKey[0]\n    setTempPreCheck(tempPreCheck)\n    forceUpdate()\n  }\n  /*Function that update the tempPrecheck.val variable with input*/\n  const addtempprecheckval = (event) => {\n    if(tempPreCheck.var && ![\"age\",\"yearofbirth\"].includes(tempPreCheck.var))\n      tempPreCheck.val = event.selectedKey[0]\n    else\n      tempPreCheck.val = event.target.value\n    setTempPreCheck(tempPreCheck)\n    forceUpdate()\n  }\n\n    /*Function that update the tempPrecheck.then variable with input*/\n  const addtempprecheckthen = (selectedOptions) => {\n    if (selectedOptions.selectedKey[0]) tempPreCheck.then = selectedOptions.selectedKey[0]\n    setTempPreCheck(tempPreCheck)\n    forceUpdate()\n  }\n\n  /*Function that update the tempPrecheck.then variable with input*/\n  const addtempprechecktype = (selectedOptions) => {\n    if (selectedOptions.selectedKey[0]) tempPreCheck.type = selectedOptions.selectedKey[0]\n    setTempPreCheck(tempPreCheck)\n    forceUpdate()\n  }\n\n\n  /*Function that add a precheck condition (with values contains in tempPreCheck) and precheck then to currentQuestion*/\n  const addprecheck = () => {\n    console.log(tempPreCheck)\n    if(tempPreCheck.var && tempPreCheck.val && tempPreCheck.then && (![\"age\",\"yearofbirth\"].includes(tempPreCheck.var) || tempPreCheck.op)){\n      if (!currentQuestion.pre_check)\n        currentQuestion.pre_check = {if:[],then:null}\n      currentQuestion.pre_check.then = tempPreCheck.then\n      if (!tempPreCheck.op) utils.list_possible_num_var.includes(tempPreCheck.var) ? tempPreCheck.op = \"est\" : tempPreCheck.op = null\n      if (tempPreCheck.type === \"and\" || !currentQuestion.pre_check.if.length)\n        currentQuestion.pre_check.if.push([{var: tempPreCheck.var, val: tempPreCheck.val, op:tempPreCheck.op}])\n      else if (tempPreCheck.type === \"or\") {\n        console.log(currentQuestion.pre_check.if.length)\n        currentQuestion.pre_check.if[currentQuestion.pre_check.if.length - 1].push({var: tempPreCheck.var, val: tempPreCheck.val, op: tempPreCheck.op})\n      }\n      setCurrentQuestion(currentQuestion)\n      forceUpdate()\n    }\n  }\n\n  const updateprecheckthen = () => {\n    if(currentQuestion.pre_check){\n      currentQuestion.pre_check.then = tempPreCheck.then\n      setCurrentQuestion(currentQuestion)\n      forceUpdate()\n    }\n  }\n\n  /*Function that remove a precheck condition of the currentQuestion*/\n  const removeprecheck = (index1, index2) => {\n    currentQuestion.pre_check.if[index1].splice(index2,1)\n    if (!currentQuestion.pre_check.if[index1].length)\n      currentQuestion.pre_check.if.splice(index1,1)\n    if (!currentQuestion.pre_check.if.length)\n      currentQuestion.pre_check = null\n    setCurrentQuestion(currentQuestion)\n    //set_elements()\n    forceUpdate()\n  }\n\n  const switchpairindicator = () => {\n    pairIndicator = (pairIndicator + 1)%4\n  }\n\n  const changecolor = (answer, color_id) => {\n    currentQuestion.color[currentQuestion.check.indexOf(answer)] = color_id\n    setCurrentQuestion(currentQuestion)\n    forceUpdate()\n  }\n\n  const changelist = (selectedOptions) => {\n    if (selectedOptions.selectedKey.length) {\n      currentQuestion.check = [currentQuestion.check[0].split(\"_\")[0] + \"_\" + selectedOptions.selectedKey[0]]\n      console.log(currentQuestion.check)\n      setCurrentQuestion(currentQuestion)\n      forceUpdate()\n    }\n  }\n\n  console.log(currentQuestion)\n  console.log(currentName)\n\n  /*Return the create box, with all it elements*/\n  return (\n    <div>{checklist && tempPreCheck ? <div className=\"container iq-card bg-white pt-2 mt-4 mb-4 border shadow-sm\">\n\n      {/*Title text*/}\n      <div className=\"iq-card bg-white text-center border border-dark mb-2\">\n        <div className=\"card-body col-sm-6 mx-auto my-2 \">\n          <h4 className=\"card-title text-dark\">Mode Création </h4>\n          <p className=\"card-text text-primary  m-0\">Vous pouvez ajouter, supprimer, modifier des checklists et des questions ici.</p>\n          <p className=\"card-text text-primary \">La checklist modifiée s'affiche en dessous.</p>\n        </div>\n      </div>\n\n      {/*Question and Checklist selection and show*/}\n      <div className=\"row align-items-center p-0 m-0 pb-2 border-bottom border-\">\n        {/*Checklist selection dropdown*/}\n        <div className=\"col align-items-center \">\n          <div className=\"dropright text-center\">\n            <button className=\"btn btn-info dropdown-toggle \" type=\"button\" id=\"dropdownMenuButton1\"\n                    data-toggle=\"dropdown\" aria-expanded=\"false\">\n              Sélectionnez la checklist\n            </button>\n            <ul className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton1\">\n              {/*Add a checklist (and select it)*/}\n              <li><label className=\"dropdown-item \" onClick={function(event){ addchecklist(); forceUpdate()}}>Nouvelle checklist</label></li>\n              {/*Select an existing checklist*/}\n              {checklistList.map((i, index) => (\n                <li key={index}><label className=\"dropdown-item \" onClick={function (){swapchecklist(checklistList, i.id)}}>\n                  Checklist {i.name}</label>\n                </li>\n              ))}\n            </ul>\n          </div>\n        </div>\n        {/*Checklist show*/}\n        <div className=\"col align-items-center p-2\">\n          <div className=\"iq-card card-light text-dark text-center shadow-sm mb-0 \">\n            Checklist {checklist.name}\n          </div>\n        </div>\n        {/*Question show*/}\n        <div className=\"col align-items-center p-2\">\n          <div className=\"iq-card card-light text-dark text-center shadow-sm mb-0\">\n            Question n°{currentQuestion ? currentQuestion.id : \" -\"}\n          </div>\n        </div>\n        {/*Checklist selection dropdown*/}\n        <div className=\"col align-items-center \">\n          <div className=\"dropleft text-center\">\n            <button className=\"btn btn-info dropdown-toggle  \" type=\"button\" id=\"dropdownMenuButton1\"\n                    data-toggle=\"dropdown\" aria-expanded=\"false\">\n              Sélectionnez la question\n            </button>\n            <ul className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton1\">\n              {/*Add a question (and select it)*/}\n              <li><label className=\"dropdown-item \" onClick={function(event){ addnewquestion(); forceUpdate()}}>Nouvelle question</label></li>\n              {/*Select an existing checklist*/}\n              {questionList.map((i, index) => (\n                <li key={index}><label className=\"dropdown-item \" onClick={function(){searchquestion(checklist, null, i)}}>\n                  Question n°{i}</label>\n                </li>\n              ))}\n            </ul>\n          </div>\n        </div>\n      </div>\n\n      {currentQuestion ? ( <div key={currentQuestion.id}>\n\n        {/*Checklist Name selection*/}\n        <div className=\"row align-items-center p-2 m-0 border-bottom\">\n          {/*Information text*/}\n          <div className=\"col-sm-4 align-items-center text-dark \">\n            Nom de la checklist :\n          </div>\n          {/*Question name text input */}\n          <div className=\"col-sm-8 align-items-center\">\n            <input key={checklistId} className=\"form-control w-100 mb-0\" type = \"text \" aria-label=\"text input\" value={checklist.name} onChange={modifychecklistname}/>\n          </div>\n        </div>\n\n        {/*Checklist Description selection*/}\n        <div className=\"row align-items-center p-2 m-0 border-bottom border-dark\">\n          {/*Information text*/}\n          <div className=\"col-sm-4 align-items-center text-dark \">\n            Description de la checklist :\n          </div>\n          {/*Question name text input */}\n          <div className=\"col-sm-8 align-items-center\">\n            <textarea className=\"form-control form-control-custom textarea\" rows=\"2\"  value={checklist.description ? checklist.description : \"\"} onChange={modifychecklistdescription}/>\n          </div>\n        </div>\n\n        {/*Question Name selection*/}\n        <div className=\"row align-items-center p-2 m-0 border-bottom\">\n          {/*Information text*/}\n          <div className=\"col-sm-4 align-items-center text-dark \">\n            Nom de la question :\n          </div>\n          {/*Question name text input */}\n          <div className=\"col-sm-4 align-items-center\">\n            <input key={checklistId} className=\"form-control w-100 mb-0\" type = \"text \" aria-label=\"text input\" value={currentName} onChange={modifyname}/>\n          </div>\n          {/*Question name validation button*/}\n          <div className=\"col-sm-4 align-items-center p-0 text-center \">\n            <button className=\"btn btn-warning \" onClick={ () => updatename()}>\n              Valider le nom\n            </button>\n          </div>\n        </div>\n\n        {/*Question Comment selection*/}\n        <div className=\"row align-items-center p-2 m-0 border-bottom\">\n          {/*Information text*/}\n          <div className=\"col-sm-4 align-items-center text-dark  \">\n            Commentaire (optionnel) de la question :\n          </div>\n          {/*Question comment text input */}\n          <div className=\"col-sm-4 align-items-center \">\n            <textarea className=\"form-control form-control-custom textarea\" id=\"exampleFormControlTextarea1\" rows=\"2\" value={currentComment ? currentComment:\"\"} onChange={modifycomment}/>\n          </div>\n          {/*Question comment validation button*/}\n          <div className=\"col-sm-4 align-items-center p-0 text-center\">\n            <button className=\"btn btn-warning \" onClick={function(event){ updatecomment(); forceUpdate()}}>\n              Valider le commentaire\n            </button>\n          </div>\n        </div>\n\n        {/*Question Section Title selection*/}\n        {currentParentQuestion.id === -1 ? (\n          <div className=\"row align-items-center p-2 m-0 border-bottom\">\n            {/*Information text*/}\n            <div className=\"col-sm-4 align-items-center text-dark  \">\n              Nom de section (optionnel) devant la question :\n            </div>\n            {/*Question comment text input */}\n            <div className=\"col-sm-4 align-items-center \">\n              <textarea className=\"form-control form-control-custom textarea\" id=\"exampleFormControlTextarea1\" rows=\"2\" value={currentSectionTitle ? currentSectionTitle:\"\"} onChange={modifysectiontitle}/>\n            </div>\n            {/*Question comment validation button*/}\n            <div className=\"col-sm-4 align-items-center p-0 text-center\">\n              <button className=\"btn btn-warning \" onClick={function(event){ updatesectiontitle(); forceUpdate()}}>\n                Valider le titre\n              </button>\n            </div>\n          </div>\n        ): null}\n\n        {/*Question Position (below which question the current question must be put)*/}\n        <div className=\"row align-items-center p-2 m-0 border-bottom\">\n          {/*Information text*/}\n          <div className=\"col-sm-4 align-items-center text-dark\">\n            Placer la question à la suite d'une autre :\n          </div>\n          <div className=\"col-sm-4 align-items-center\">\n          </div>\n          {/*Other question as parent selection dropdown*/}\n          <div className=\"col-sm-4 align-items-center p-0 text-center\">\n            <div className=\"dropleft text-center\">\n              <button className=\"btn btn-warning dropdown-toggle \" type=\"button\" id=\"dropdownMenuButton1\"\n                      data-toggle=\"dropdown\" aria-expanded=\"false\">\n                Quelle question ?\n              </button>\n              <ul className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton1\">\n                {/*Put the question at top level*/}\n                <li><label className=\"dropdown-item \" onClick={() => movecurrentquestion_child(-1)}>\n                  Au début</label>\n                  </li>\n                {/*Put the question at child of another question*/}\n                {questionList.map((i, index) => (\n                  <li key={index}><label className=\"dropdown-item \" onClick={() => movecurrentquestion_sibling(i)}>\n                    Question n°{i}</label>\n                  </li>\n                ))}\n              </ul>\n            </div>\n          </div>\n        </div>\n\n        {/*Question situation (child or sibling of the upper question)*/}\n        <div className=\"row align-items-center p-2 m-0 border-bottom\">\n          {/*Information text*/}\n          <div className=\"col-sm-4 align-items-center text-dark \">\n            Placer la question comme découlant d'une autre :\n          </div>\n          <div className=\"col-sm-4 align-items-center\">\n          </div>\n          {/*Choice between child and sibling*/}\n          <div className=\"col-sm-4 align-items-center p-0 text-center\">\n            <div className=\"dropleft text-center\">\n              <button className=\"btn btn-warning dropdown-toggle \" type=\"button\" id=\"dropdownMenuButton1\"\n                      data-toggle=\"dropdown\" aria-expanded=\"false\">\n                Quelle question ?\n              </button>\n              <ul className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton1\">\n                {/*Put the question at top level*/}\n                <li><label className=\"dropdown-item \" onClick={() => movecurrentquestion_child(-1)}>\n                  Au début</label>\n                  </li>\n                {/*Put the question at child of another question*/}\n                {questionList.map((i, index) => (\n                  <li key={index}><label className=\"dropdown-item \" onClick={() => movecurrentquestion_child(i)}>\n                    Question n°{i}</label>\n                  </li>\n                ))}\n              </ul>\n            </div>\n          </div>\n        </div>\n\n        {/*(Multi)selection of answers of the current question*/}\n        <div className=\"row align-items-center p-2 m-0 border-bottom\">\n          {/*Information text*/}\n          <div className=\"col-sm-4 align-items-center text-dark \">\n            Quelles réponses possibles ? :\n          </div>\n          <div className=\"col-sm-4 align-items-center\">\n\n          </div>\n          {/*(Multi)Selection dropdown*/}\n          <div className=\"col-sm-4 align-items-center p-0 text-center\">\n            <div className=\"row\">\n              {!isAltAnswers ?\n                <BootstrapSelect key={pairIndicator} className=\" col w-100 my-auto \" selectStyle =\"btn-warning\" options={possible_answers} isMultiSelect={true} placeholder=\"Entrer checkboxs\" onChange={changecheck}/>\n                :\n                <BootstrapSelect key={!pairIndicator} className=\" col w-100 my-auto \" selectStyle =\"btn-warning\" options={alt_possible_answers} isMultiSelect={false} placeholder=\"Entrer Autres\" onChange={changecheck}/>\n              }\n              <button className={\"col-sm-2 btn btn-outline-info\"} onClick={function (){setIsAltAnswers(!isAltAnswers)}}>\n                <div data-icon=\"&#xe049;\" className=\"icon mt-1\"></div>\n              </button>\n            </div>\n          </div>\n        </div>\n\n        {/*Select of the list (if the answer is list)*/}\n        { currentQuestion.check[0] && currentQuestion.check[0].split(\"_\")[0] === \"list\" ?\n          <div className=\"row align-items-center p-2 m-0 border-bottom\">\n            {/*Information text*/}\n            <div className=\"col-sm-4 align-items-center text-dark \">\n              Quelle liste ? :\n            </div>\n            <div className=\"col-sm-4 align-items-center\">\n\n            </div>\n            {/*(Multi)Selection dropdown*/}\n            <div className=\"col-sm-4 align-items-center p-0 text-center\">\n              <div className=\"row\">\n                <BootstrapSelect key={pairIndicator} className=\" col w-100 my-auto \" selectStyle =\"btn-warning\" options={possible_lists} isMultiSelect={false} placeholder=\"Aucune\" onChange={changelist}/>\n              </div>\n            </div>\n          </div>\n        : null}\n\n        {/*selection of colors of answers of the current question*/}\n        { !isAltAnswers ?\n          <div className=\"border-bottom m-0 py-2 text-center\">\n            <button className=\"btn btn-secondary m-auto p-2 my-2 \" type=\"button\" data-toggle=\"collapse\" data-target=\"#collapseColors\"\n                    aria-expanded=\"false\" aria-controls=\"collapseExample\">\n              <i className=\"las la-angle-down\"/> Modifier les couleurs des questions <i className=\"las la-angle-down\"/>\n            </button>\n            <div className=\"collapse m-0 p-0\" id=\"collapseColors\">\n              <div className=\"row align-items-center p-2 m-0 border-bottom\">\n                {/*Information text*/}\n                <div className=\"col-sm-3 align-items-center text-dark \">\n                  Avec quelles couleurs ? :\n                </div>\n                <div className=\"col-sm-9 align-items-center text-center\">\n                  {currentQuestion.check.map((answer,index) => (\n                    <div key={index} className=\"row\">\n                      <div className=\"col text-center justify-content-center my-4\">\n                        <div className=\" iq-card card-grey text-center shadow-sm text-dark m-0\">\n                          {utils.trad_answer(answer)}\n                        </div>\n                      </div>\n                      <div className=\"col text-center justify-content-center my-4\">\n                        <div className=\" iq-card card-grey text-center shadow-sm text-dark m-0\">\n                          {currentQuestion.color[index] === 0 ? \"Vert\" : currentQuestion.color[index] === 1 ? \"Rouge\" : \"Gris\"}\n                        </div>\n                      </div>\n                      <div className=\"col text-center justify-content-center my-3\">\n                        <div className=\"dropleft text-center\">\n                          <button className=\"btn btn-warning dropdown-toggle m-0 \" type=\"button\" id=\"dropdownMenuButton1\"\n                                  data-toggle=\"dropdown\" aria-expanded=\"false\">\n                            Quelle couleur ?\n                          </button>\n                          <ul className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton1\">\n                            {[\"Vert\",\"Rouge\",\"Gris\"].map((color, index) => (\n                              <li key={index}><label className=\"dropdown-item \" onClick={() => changecolor(answer, index)}>\n                                {color}</label>\n                              </li>\n                            ))}\n                          </ul>\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            </div>\n          </div>\n        : null}\n\n        {/*Question conditions of the current question (optional part, so it needs to be collapsable)*/}\n        <div className=\"border-bottom m-0 py-2 text-center\">\n          <button className=\"btn btn-secondary m-auto p-2 my-2 \" type=\"button\" data-toggle=\"collapse\" data-target=\"#collapseQuestionConditions\"\n                  aria-expanded=\"false\" aria-controls=\"collapseExample\">\n            <i className=\"las la-angle-down\"/> Ajouter/Supprimer des conditions sur les autres questions <i className=\"las la-angle-down\"/>\n          </button>\n          <div className=\"collapse m-0 p-0\" id=\"collapseQuestionConditions\">\n            <div className=\"row align-items-center p-2 m-0\">\n              <div className=\"col-sm-3 align-items-center text-dark \">\n                Quelles conditions sur les réponses ? :\n              </div>\n              <div className=\"col-sm-9 align-items-center\">\n                {utils.list_possible_answer.map((answer, index) => (\n                  <div key={index} className=\"row\">\n                    <div className=\"col align-items-center p-2 my-auto\">\n                      <div className=\"iq-card card-grey text-center shadow-sm m-0 text-dark \">\n                        {trad_answer(answer)}\n                      </div>\n                    </div>\n                    <div className=\"col align-items-center p-2\">\n                      <div className=\"list-group list-group-horizontal m-0\">\n                        {/*For each possible answer, if in item.check, we put a checkbox*/}\n                        {(currentQuestion && currentQuestion.cond[answer]) ? currentQuestion.cond[answer].map( (id, index) => (\n                            <button key={index} className=\" list-group-item list-group-item-custom btn btn-outline-secondary \" type=\"button\" onClick={() => deletecond(answer, id)} >{id} </button>\n                        )): null}\n                      </div>\n\n                    </div>\n                    <div className=\"col align-items-center p-2 my-auto\">\n                      <div className=\"dropleft text-center\">\n                        <button className=\"btn btn-warning dropdown-toggle \" type=\"button\" id=\"dropdownMenuButton1\"\n                                data-toggle=\"dropdown\" aria-expanded=\"false\">\n                          Quelle question ?\n                        </button>\n                        <ul className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton1\">\n                          {questionList.map((id, index) => (\n                            <li key={index}><label className=\"dropdown-item \" onClick={() => addcond(answer, id)}>\n                              Question n°{id}</label>\n                            </li>\n                          ))}\n                        </ul>\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/*Numerical conditions of the current question*/}\n        <div className=\"border-bottom m-0 py-2 text-center\">\n          <button className=\"btn btn-secondary m-auto p-2 my-2 \" type=\"button\" data-toggle=\"collapse\" data-target=\"#collapseNumConditions\"\n                  aria-expanded=\"false\" aria-controls=\"collapseExample\">\n            <i className=\"las la-angle-down\"/> Ajouter/Supprimer des conditions numériques <i className=\"las la-angle-down\"/>\n          </button>\n          <div className=\"collapse m-0 p-0\" id=\"collapseNumConditions\">\n            <div className=\"col align-items-center p-2 m-0\">\n              {/*Current Numerical condition list display*/}\n              {(currentQuestion && currentQuestion.cond.num) ? currentQuestion.cond.num.map( (num, index) => (\n                <div  key={index} className=\"row justify-content-md-center py-2\">\n                  <div className=\"col-sm-3 align-items-center my-auto\">\n                    <div className=\"iq-card card-grey shadow-sm text-center m-0 text-dark \">\n                      {trad_num_var(num.var)}\n                    </div>\n                  </div>\n                  <div className=\"col-sm-3 align-items-center my-auto \">\n                    <div className=\"iq-card card-grey shadow-sm text-center m-0 text-dark \">\n                      {num.op}\n                    </div>\n                  </div>\n                  <div className=\"col-sm-3 align-items-center my-auto \">\n                    <div className=\"iq-card card-grey shadow-sm text-center m-0 text-dark\">\n                      {num.val}\n                    </div>\n                  </div>\n                  <div className=\"col-sm-3 align-items-center my-auto text-center\">\n                    <button className=\"btn btn-danger \" onClick={() => removenum(index)} >\n                      <div data-icon=\"&#xe053;\" className=\"icon mt-1\"/>\n                    </button>\n                  </div>\n                </div>\n              )): null}\n              {/*Add numerical condition section */}\n              <div>\n                <div className=\"row justify-content-md-center py-2\">\n                  <div className=\"col-sm-3 align-items-center my-auto\">\n                    <BootstrapSelect key={pairIndicator} className=\"w-100 \" selectStyle=\"btn border\" placeholder=\"Quelle variable ?\" options={possible_vars} onChange={addtempnumvar}/>\n                  </div>\n                  <div className=\"col-sm-3 align-items-center my-auto\">\n                    {[\"diabetic\",\"difficult_intubation\", \"gender\"].includes(tempNums.var) ?\n                      <div>est</div>\n                      :\n                      <BootstrapSelect key={pairIndicator} className=\"w-100 \" selectStyle=\"btn border\" placeholder=\"Quel opérateur ?\" options={possible_op} onChange={addtempnumop}/>\n                    }\n                  </div>\n                  <div className=\"col-sm-3 align-items-center my-auto \">\n                    {[\"diabetic\",\"difficult_intubation\"].includes(tempNums.var) ?\n                      <BootstrapSelect key={tempNums.var} className=\"w-100 \" selectStyle=\"btn border\" placeholder=\"Quelle valeur ?\"\n                                     options={[{\"labelKey\": \"vrai\", \"value\": \"Vrai\"},{\"labelKey\": \"faux\", \"value\": \"Faux\"}]  } onChange={addtempnumval}/>\n                      :\n                      <div> {tempNums.var === \"gender\" ?\n                        <BootstrapSelect key={tempNums.var} className=\"w-100 \" selectStyle=\"btn border\" placeholder=\"Quelle valeur ?\"\n                                     options={[{\"labelKey\": \"F\", \"value\": \"F\"},{\"labelKey\": \"M\", \"value\": \"M\"}] } onChange={addtempnumval}/>\n                        :\n                        <input type=\"number\" className=\"form-control \" placeholder=\"Quelle valeur ?\" onChange={addtempnumval}/>\n                      } </div>\n                    }\n                  </div>\n                  <div className=\"col-sm-3 align-items-center text-center my-auto\">\n                    <button className=\"btn btn-warning w-100 \" onClick={() => addnum()} >\n                      Valider\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/*Precheck conditions of the current question*/}\n        <div className=\"border-bottom m-0 py-2 text-center\">\n          <button className=\"btn btn-secondary m-auto p-2 my-2 \" type=\"button\" data-toggle=\"collapse\" data-target=\"#collapsePreCheck\"\n                  aria-expanded=\"false\" aria-controls=\"collapseExample\">\n            <i className=\"las la-angle-down\"/> Ajouter/Supprimer des conditions pour que la question soit pré-checkée <i className=\"las la-angle-down\"/>\n          </button>\n          <div className=\"collapse m-0 p-0\" id=\"collapsePreCheck\">\n            <div className=\"col align-items-center p-2 m-0\">\n              {/*Current PreCheck condition list (and then value) display*/}\n              {(currentQuestion && currentQuestion.pre_check) ? currentQuestion.pre_check.if.map( (pre_checks, index1) => (\n                <div>\n                  {index1 ? <div className={\"mx-auto w-50 border-top border-bottom border-light\"}>et</div> : <div className={\"mx-auto w-50 border-top border-light\"}/>}\n                  {pre_checks.map((pre_check, index2) => (\n                    <div>\n                      {index2 ? <div>ou</div> : null}\n                      <div  key={index1} className=\"row justify-content-md-center py-2\">\n                        <div className=\"col-sm-3 align-items-center my-auto\">\n                          <div className=\"iq-card card-grey shadow-sm text-center m-0 text-dark \">\n                            {list_possible_num_var.includes(pre_check.var) ? trad_num_var(pre_check.var) : \"Question \" + pre_check.var}\n                          </div>\n                        </div>\n                        <div className=\"col-sm-3 align-items-center my-auto \">\n                          <div className=\"iq-card card-grey shadow-sm text-center m-0 text-dark\">\n                            {pre_check.op ? pre_check.op : \"est\"}\n                          </div>\n                        </div>\n                        <div className=\"col-sm-3 align-items-center my-auto \">\n                          <div className=\"iq-card card-grey shadow-sm text-center m-0 text-dark\">\n                            {list_possible_num_var.includes(pre_check.var) ? pre_check.val : trad_answer(pre_check.val)}\n                          </div>\n                        </div>\n                        <div className=\"col-sm-3 align-items-center my-auto text-center\">\n                          <button className=\"btn btn-danger \" onClick={() => removeprecheck(index1, index2)} >\n                            <div data-icon=\"&#xe053;\" className=\"icon mt-1\"/>\n                          </button>\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )): null}\n              {(currentQuestion && currentQuestion.pre_check) ? (\n                <div className=\"row mx-auto w-50 justify-content-md-center py-2 border-top\">\n                  <div className=\"col-sm-2 align-items-center my-auto\">\n                    <div className=\"iq-card card-grey shadow-sm text-center m-0 text-dark\">\n                      {trad_answer(currentQuestion.pre_check.then)}\n                    </div>\n                  </div>\n                </div>\n              ): null}\n\n\n              {/*Add PreCheck condition and then value section*/}\n              <div>\n                {/*Same problem than with other (multi) bootstrap select, must see if another solution. If we switch between checklist 0 question 1 and checklist 1 question 1, problem stay*/}\n                <div>\n                  <div className=\"row justify-content-md-center py-2\">\n                    <div className=\"col-sm-3 align-items-center my-auto\">\n                      <BootstrapSelect key={pairIndicator} className=\"w-100 \" selectStyle=\"btn border\" placeholder=\"Et/Ou\" options={[{\"labelKey\": \"and\", \"value\": \"Et\", \"isSelected\":true},{\"labelKey\": \"or\", \"value\": \"Ou\"}]  } onChange={addtempprechecktype}/>\n                    </div>\n                    <div className=\"col-sm-3 align-items-center my-auto\">\n                      <BootstrapSelect key={pairIndicator} className=\"w-100 \" selectStyle=\"btn border\" placeholder=\"Quelle variable ?\" options={possible_vars_extended} onChange={addtempprecheckvar}/>\n                    </div>\n                    <div className=\"col-sm-3 align-items-center my-auto \">\n                      {![\"age\",\"yearofbirth\"].includes(tempPreCheck.var) ?\n                        <div>est</div>\n                        :\n                        <BootstrapSelect key={tempPreCheck.var} className=\"w-100 \" selectStyle=\"btn border\" placeholder=\"Quel opérateur ?\" options={possible_op} onChange={addtempprecheckop}/>\n                      }\n                    </div>\n                    <div className=\"col-sm-3 align-items-center my-auto\">\n                      {[\"diabetic\",\"difficult_intubation\"].includes(tempPreCheck.var) ?\n                        <BootstrapSelect key={tempPreCheck.var} className=\"w-100 \" selectStyle=\"btn border\" placeholder=\"Quelle valeur ?\"\n                                       options={[{\"labelKey\": \"vrai\", \"value\": \"Vrai\"},{\"labelKey\": \"faux\", \"value\": \"Faux\"}]  } onChange={addtempprecheckval}/>\n                        :\n                        <div> {tempPreCheck.var === \"gender\" ?\n                          <BootstrapSelect key={tempPreCheck.var} className=\"w-100 \" selectStyle=\"btn border\" placeholder=\"Quelle valeur ?\"\n                                       options={[{\"labelKey\": \"F\", \"value\": \"F\"},{\"labelKey\": \"M\", \"value\": \"M\"}] } onChange={addtempprecheckval}/>\n                          :\n                          <div> {Number.isInteger(tempPreCheck.var) ?\n                            <BootstrapSelect key={tempPreCheck.var} className=\"w-100 \" selectStyle=\"btn border\" placeholder=\"Quelle valeur ?\"\n                                             options={possible_answers_single} onChange={addtempprecheckval}/>\n                            :\n                            <input key={tempPreCheck.var} type=\"number\" className=\"form-control \" placeholder=\"Quelle valeur ?\"\n                                   onChange={addtempprecheckval}/>\n                          }\n                          </div>\n                        }\n                        </div>\n                      }\n                    </div>\n                  </div>\n                  <div className=\"row justify-content-md-center py-2\">\n                    <div className=\"col-sm-3 align-items-center my-auto \">\n                      <BootstrapSelect key={tempPreCheck.var + currentQuestion.check.length} className=\"w-100 \" selectStyle=\"btn border\" placeholder=\"Quel pre-check ?\" options={possible_pre_check} onChange={addtempprecheckthen}/>\n                    </div>\n                    <div className=\"col-sm-3 align-items-center \">\n                      <button className=\"btn btn-warning w-100  \" onClick={() => updateprecheckthen()} >\n                        Modifier le precheck\n                      </button>\n                    </div>\n                    <div className=\"col-sm-3 align-items-center text-center my-auto\">\n                      <button className=\"btn btn-warning w-100  \" onClick={() => addprecheck()} >\n                        Valider\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div> ) : null}\n\n\n      {/*End section of the create box, with remove and import button*/}\n      <div className=\"row align-items-center p-2 m-0\">\n        {/*Button to remove the current checklist*/}\n        <div className=\"col-sm-4 align-items-center text-center\">\n          <button className=\"btn btn-danger  \" onClick={removechecklist} >\n            Supprimer la checklist\n          </button>\n        </div>\n        {/*Button to import in .json the list of checklist*/}\n        <div className=\"col-sm-4 align-items-center text-center\">\n          <button className=\"btn btn-warning  \" onClick={() =>  updatechecklist()}>\n            Sauvegarder la checklist\n          </button>\n        </div>\n        {/*Button to remove the current question*/}\n        <div className=\"col-sm-4 align-items-center text-center\">\n          <button className=\"btn btn-danger \" onClick={removequestion}>\n            Supprimer la question\n          </button>\n        </div>\n      </div>\n    </div>\n    :null}</div>\n    )\n}\n\nexport {CreateBox}","import React from \"react\";\nimport {Link} from \"react-router-dom\";\n\n/*Component to show the credits of the web app*/\nfunction Credits ({props}) {\n  console.log(props)\n  return (\n    <div className=\"\">\n      <div className=\"iq-card col-sm-6 mx-auto mt-4 text-center border shadow-sm\">\n        <div className=\"card-body\">\n          <h5 className=\"card-title m-0 text-custom\">DynaList</h5>\n          <p className=\"card-text text-custom m-0\">v0.19.1</p>\n          <p className=\"card-text text-custom m-0\">Développé par Théo Stassen</p>\n          <p className=\"card-text text-custom\">theo.stassen@protonmail.com</p>\n          <button onClick={() => props.setTest(\"au revoir\")}>set</button>\n          <Link to=\"/\">Home</Link>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport {Credits}","import React, {useEffect} from \"react\";\nimport * as utils from \"../utils/utils\";\nimport * as temp_data from \"../utils/temporary_data\";\nimport * as calls from \"../calls\";\nimport {useState} from \"react\";\n\n/*Component for the selection of the current patient\n* -patientList : list of all patients\n* -currentPatient : current patient state variable\n* -setCurrentPatient: current patient set function\n* */\nfunction PatientBox ({props}) {\n\n  let { currentPatient, setCurrentPatient, setIsDict, setResult, setIsPreCheckDone, forceUpdate, patientList, switchPatient, setChecklistList, setPathId, onNewScanResult, is_local, numDict, setPatientList} = props\n\n  let [errorCode, setErrorCode] = useState(null)\n\n  let [isWaitingList, setIsWaitingList] = useState(false)\n\n  let [isWaitingJourney, setIsWaitingJourney] = useState(false)\n\n\n  function debug_allow_patient() {\n    setIsWaitingJourney(true)\n    onNewScanResult(temp_data.patients[currentPatient.id].patient_code)\n  }\n\n  useEffect(()=> {\n    setIsWaitingList(true)\n    calls.getwaitingpatients(is_local, setPatientList, setErrorCode, setIsWaitingList)\n\n  }, [])\n\n\n  /*Return the patient box elements*/\n  return (\n    <div className=\"container p-2 mt-2\">\n      {isWaitingJourney? <div className=\"d-flex justify-content-center m-2\">\n        <div className=\"spinner-border\" role=\"status\">\n          <span className=\"sr-only\">Loading...</span>\n        </div>\n      </div> : null\n      }\n      <div className={\"iq-card bg-white col-sm-12 mx-auto p-2 text-center border shadow-sm justify-content-center \"}>\n        <div className=\"card-body\">\n          {currentPatient ? <h3 className=\"card-title text-dark m-0\">Patient(e) : {currentPatient.firstname} {currentPatient.lastname} </h3> : null}\n          {currentPatient ? <h4 className=\"card-title text-secondary m-0\">{currentPatient.dateofbirth}</h4> : null}\n          {currentPatient ? <h4 className=\"card-text text-primary m-0\"> {currentPatient.intervention_name}</h4> : null}\n          {currentPatient ? <img className={\"border border-dark mt-2 mb-4\"} src={is_local ? currentPatient.photo : \"http://checklists.metoui.be/storage/\"+currentPatient.photo} width=\"128\" height=\"128\" alt={\"Photo\"}/> : null }\n\n          {!currentPatient ? <h3 className=\"card-title text-dark\">Liste des patients en attente</h3> : null }\n\n          {/*Current patient selection dropdown*/}\n          <div className=\"align-items-center\">\n            <div className=\"dropdown text-center\">\n              <button className=\"btn btn-primary btn-round dropdown-toggle\" type=\"button\" id=\"dropdownMenuButton1\"\n                      data-toggle=\"dropdown\" aria-expanded=\"false\">\n                {isWaitingList ? <span className=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\">&nbsp;</span>  : null}\n                 Sélectionnez le patient\n              </button>\n              <ul className=\"dropdown-menu dropdown-menu-custom\" aria-labelledby=\"dropdownMenuButton1\">\n                {patientList && patientList.length ? patientList.map((i, index) => (\n                  <li key={index}><label className=\"dropdown-item \" onClick={() => {forceUpdate(); switchPatient(i.id) }}>\n                    {i.firstname}&nbsp;{i.lastname}</label>\n                  </li>\n                ))\n                  :\n                  <li><label className=\"dropdown-item \"> Pas de patients</label></li>\n                }\n                <li><label className=\"dropdown-item text-center m-0 \" id=\"dropdownMenuButton1\" data-toggle=\"dropdown\">\n                  <div data-icon=\"W\" className=\"icon\"/></label>\n                </li>\n              </ul>\n            </div>\n          </div>\n          <button className=\"btn btn-warning btn-round mt-2\" type=\"button\" onClick={function (){setIsWaitingList(true); calls.getwaitingpatients(is_local, setPatientList, setErrorCode, setIsWaitingList)}}>\n            <div data-icon=\"Z\" className=\"icon pt-1\"></div>\n          </button>\n\n          {errorCode && errorCode !== \"empty\" ?\n            <div className={\"iq-card mx-auto text-center p-2 shadow-sm border justify-content-center mt-2\"}>\n              <h6 className=\"card-text text-danger m-0 p-0\"> <div data-icon=\"&#xe063;\" className=\"icon text-danger\"> Aucun patient n'est trouvé, problème de connexion (\"{errorCode}\")  </div></h6>\n            </div>\n            : null}\n\n          {errorCode && errorCode === \"empty\" ?\n            <div className={\"iq-card mx-auto text-center p-2 shadow-sm border justify-content-center mt-2\"}>\n              <h6 className=\"card-text text-danger m-0 p-0\"> <div data-icon=\"&#xe063;\" className=\"icon text-danger\"> Liste de patients vide </div></h6>\n            </div>\n            : null}\n\n          {currentPatient ? <h4 className=\"card-title text-secondary mt-4 mb-0\">Scannez le QR code correspondant</h4> : null }\n          {currentPatient ? <h4 className=\"card-title text-secondary\"><div data-icon=\"k\" className=\"icon\"></div></h4> : null }\n\n          {currentPatient ? <button className={\"btn btn-outline-primary btn-round m-2\"} onClick={() =>debug_allow_patient()}>Passer Qr Code</button>: null}\n\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport {PatientBox}","import { Html5QrcodeScanner } from \"html5-qrcode\";\nimport React, {useEffect, useLayoutEffect, useState} from 'react';\n\nconst qrcodeRegionId = \"html5qr-code-full-region\";\n\nfunction QrcodeScanner (props){\n\n\n  useEffect(() => {\n\n    if (props.is_home){\n      const input = document.getElementById('input1');\n      input.focus();\n      input.select();\n    }\n\n\n    // Creates the configuration object for Html5QrcodeScanner.\n    function createConfig(props) {\n      let config = {};\n      if (props.fps) {\n        config.fps = props.fps;\n      }\n      if (props.qrbox) {\n        config.qrbox = props.qrbox;\n      }\n      if (props.aspectRatio) {\n        config.aspectRatio = props.aspectRatio;\n      }\n      if (props.disableFlip !== undefined) {\n        config.disableFlip = props.disableFlip;\n      }\n      return config;\n    }\n\n    let config = createConfig(props);\n    let verbose = props.verbose === true;\n\n    // Suceess callback is required.\n    if (!(props.qrCodeSuccessCallback )) {\n      throw \"qrCodeSuccessCallback is required callback.\";\n    }\n\n    let html5QrcodeScanner = new Html5QrcodeScanner(\n      qrcodeRegionId, config, verbose);\n    html5QrcodeScanner.render(\n      props.qrCodeSuccessCallback,\n      props.qrCodeErrorCallback);\n\n    return () => {\n      html5QrcodeScanner.clear().catch(error => {\n      console.error(\"Failed to clear html5QrcodeScanner. \", error);\n    });}\n  },[]);\n\n  let [codeValue, setCodeValue] = useState(\"\")\n\n  function handleChange (event) {\n    console.log(event)\n    setCodeValue(event.target.value)\n  }\n\n  return(\n    <div className={\"col-sm-12 mx-auto p-0\"}>-\n\n      {props.scanValue === null ?\n        <div className={\" container custom-scanner pt-4 rounded rounded-0-bottom bg-white mx-auto w-100 border border-left border-right border-top \" + (props.scanValueError || props.scanValue ? \" rounded-0-bottom\": null)} id={qrcodeRegionId} />\n        :\n        <div id={qrcodeRegionId}/>\n      }\n\n      <input id={\"input1\"} type=\"text\" className={\"form-control w-100 mb-0 bg-white rounded-0-top border border-top-0 shadow-sm \" + (props.scanValueError ? \"rounded-0\": null)}\n             value={codeValue}\n             onChange={handleChange}\n             onKeyPress={event => {if(event.key === 'Enter') props.qrCodeSuccessCallback(codeValue) }}/>\n\n\n\n\n      {props.scanValue !== null ?\n        <div className={\"container custom-scanner card rounded bg-success mx-auto text-center p-2 border shadow-sm justify-content-center \"}>\n          <div className=\"card-body m-0 p-0\">\n            <h5 className=\"card-title text-dark m-0\">Code \"{props.scanValue}\" enregistré</h5>\n          </div>\n        </div>\n        : null}\n\n      {props.scanValueError !== null ?\n        <div className={\"container custom-scanner card rounded rounded-0-top bg-warning mx-auto text-center p-2  border shadow-sm justify-content-center \"}>\n          <div className=\"card-body m-0 p-0\">\n            <h5 className=\"card-title text-dark m-0\">Erreur : le code \"{props.scanValueError}\" ne correspond pas </h5>\n          </div>\n        </div>\n        : null}\n\n    </div>\n  )\n}\n\nexport default QrcodeScanner;","import SignaturePad from \"react-signature-canvas\";\nimport React, {useEffect} from \"react\";\n\n/*Component for the signature pad\n* -sigpad: object representing the signature pad, fill in by the SignaturePad component\n* -props.setTrimmedCanvasUrl: the canvas url data of the signature set function\n* */\nfunction AppSignature (props) {\n\n  let sigpad = props.sigpad\n\n  useEffect(() => {\n    reinit_canvas()\n  }, [])\n\n  /*Reinitialize the canvas and props.sigpad*/\n  const reinit_canvas = () => {\n    sigpad.clear()\n    props.setTrimmedCanvasUrl(null)\n    if (props.item) {\n      delete props.result[props.item.id]\n      props.setResult(props.result)\n    }\n  }\n\n  /*Import the current sigpad information into canvas url data*/\n  const trim_canvas = () => {\n    let dataUrl = sigpad.getTrimmedCanvas().toDataURL();\n    props.setTrimmedCanvasUrl(dataUrl);\n    props.result[props.item.id] = {name:props.item.name, answer:dataUrl}\n    props.setResult(props.result)\n    props.forceUpdate()\n  }\n\n  /*Return the signature elements*/\n  return (\n    <div className={\"container iq-card border-bottom border-right border-left border-dark shadow mx-auto \" + (props.is_end_sign ? \"rounded-0-top\" : \"border-top m-0 mr-3\")}>\n      <div className=\"row align-items-center p-0 m-0 h-100\">\n        {/*Information text*/}\n        <div className=\"col-sm-3 m-0 p-0 text-center text-dark\">\n          Veuillez rentrer votre signature :\n        </div>\n        {/*Signature pad component, receiving the signature*/}\n        <div className=\"col m-0 p-0 h-100 py-2 \">\n          <div className=\"container iq-card m-0 bg-light border\">\n            <div className=\"sigContainer\">\n              <SignaturePad canvasProps={{className: \"sigPad\"}}\n                ref={(ref) => { sigpad = ref }} />\n            </div>\n          </div>\n        </div>\n        {/*Validation and Reinitialisation buttons*/}\n        <div className=\"col-sm-3 mx-2 p-0\">\n          {/*Button to validate the current signature and put info into data*/}\n          <div className=\"row align-items-center p-0 m-0 mb-2 mt-4 px-4\">\n            <button type=\"button\" className=\"btn btn-warning w-100\" onClick={trim_canvas}>\n              Valider la signature\n            </button>\n          </div>\n          {/*Button to clean the current signature canvas and remove info in data*/}\n          <div className=\" row align-items-center p-0 m-0 mb-4 px-4\">\n            <button type=\"button\" className=\"btn btn-secondary w-100\" onClick={reinit_canvas}>\n              Réinitialiser\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport {AppSignature}","import * as utils from \"../utils/utils\";\nimport  * as temp_data from \"../utils/temporary_data.js\";\nimport React, {useState, useReducer, useEffect} from \"react\";\nimport BootstrapSelect from \"react-bootstrap-select-dropdown\";\nimport QrcodeScanner from \"./qrcodescanner\";\nimport axios from \"axios\";\nimport {AppSignature} from \"./signature\";\n\n/* Component representing a checklist item (a question).\n- init_items : the parent node of the checklist, used when we need to clean the questions after a answer modification\n- item : the current item\n- dicts : the different state dicts\n- forceUpdate : function that force the reload of component if necessary\n- values_filter_cond : function that filter the values by keeping only the values that validates all conditions\n* */\nfunction ChecklistItem({init_items, item, dicts, forceUpdate, values_filter_cond , creationMode, currentId, warningId, precheckMode, is_root, alertList, scan_bookmark, checklist_name, is_local}) {\n\n  // console.log(\"enter item\", item)\n\n\n\n  let [isDict, setIsDict, numDict, result, pbresult, setResult, setPbResult, isPreCheckDone, setIsPreCheckDone, visibleList, setVisibleList, debugMode, commentMode] = dicts\n\n  // console.log(item)\n  // console.log(\"isDict\", isDict)\n  // console.log(\"result\", result)\n  // console.log(\"isprecheck\", isPreCheckDone)\n  // console.log(\"numdict\", numDict)\n\n  let [isOther, setIsOther] = useState(false)\n\n  let [trimmedCanvasUrl, setTrimmedCanvasUrl] = useState(null)\n  let sigpad = {}\n\n  let [scanValue, setScanValue] = useState(null)\n  let [scanValueError, setScanValueError] = useState(null)\n\n\n  useEffect(() => {\n    if (item.check.includes(\"scan\") && scan_bookmark && scanValue && !result[item.id]){\n      console.log(result)\n      const current_result = result\n      current_result[item.id] = {name: item.name, answer: scanValue}\n      setResult(current_result)\n    }\n  })\n\n  /* Function triggered when the user click on one answer, we update the isDict and results and clean (remove from isDict and results) questions\n  * that must not be visible anymore, because of there cond's */\n  const handleOnChangeIs = (answer) => {\n    console.log(\"handle change\", item)\n    const is_check = !isDict[answer][item.id]\n    console.log(is_check)\n    const list_other_answer = utils.list_possible_answer.filter(elm => elm !== answer)\n\n    // If is_check = true, it means that the state of the answer uncheck -> check,\n    // so we add in result and clean questions that depends of this item being with another answer (as it is not the case anymore)\n    if (is_check){\n      result[item.id]={name:item.name, importance:item.importance, answer:answer}\n      delete pbresult[item.id]\n      if (item.color[item.check.indexOf(answer)] === 1)\n        pbresult[item.id] = {name:item.name,answer:answer,checklist_name:checklist_name}\n\n      clean_children_rec(init_items, init_items, item.id,isDict, setIsDict, result, pbresult, list_other_answer)\n    }\n    // If is_check = false, it means that the state of the answer check -> uncheck,\n    // so we remove in result and clean questions that depends of this item being with this answer (as it is not the case anymore)\n    else{\n      delete result[item.id]\n      delete pbresult[item.id]\n      clean_children_rec(init_items, init_items, item.id, isDict, setIsDict, result, pbresult, [answer])\n    }\n    setResult(result)\n    setPbResult(pbresult)\n    isDict[answer][item.id] = is_check\n    list_other_answer.forEach(function(elm){isDict[elm][item.id]= false})\n    setIsDict(isDict)\n  }\n\n  /*Function triggered where the user enter a text in a text question. We update the result*/\n  const handleOnChangeText = (event) => {\n    const input_text = event.target.value;\n    result[item.id]={name:item.name, importance:item.importance, answer:input_text,checklist_name:checklist_name}\n    setResult(result)\n    if (item.color[0] === 1){\n      pbresult[item.id] = {name:item.name,answer:input_text}\n      setPbResult(pbresult)\n    }\n  };\n\n  /*Function triggered where the user enter a text in a text question. We update the result*/\n  const handleOnChangedDefaultText = (event) => {\n    const input_text = event;\n    result[item.id]={name:item.name, importance:item.importance, answer:input_text,checklist_name:checklist_name}\n    setResult(result)\n    if (item.color[0] === 1){\n      pbresult[item.id] = {name:item.name,answer:input_text}\n      setPbResult(pbresult)\n    }\n    return input_text\n  };\n\n  const handleOnChangeCurrentDate = () => {\n    let current_date = new Date()\n    let current_date_str = current_date.toISOString().split(\"T\")[0]\n    result[item.id]={name:item.name, importance:item.importance,  answer:current_date_str,checklist_name:checklist_name}\n    setResult(result)\n    console.log(current_date_str)\n    return current_date_str\n  }\n\n  const handleOnChangeCurrentTime = () => {\n    let current_date = new Date()\n    let current_time_str = current_date.toTimeString().split(\" \")[0].substring(0,5)\n    result[item.id]={name:item.name, importance:item.importance,  answer:current_time_str,checklist_name:checklist_name}\n    setResult(result)\n    console.log(current_time_str)\n    return current_time_str\n  }\n\n  const handleOnChangeList = (selectedOptions) => {\n    const input_answer = JSON.parse(JSON.stringify(selectedOptions.selectedValue));\n    if (selectedOptions.selectedKey.includes(\"other\")) {\n      setIsOther(true)\n    }\n    else{\n      setIsOther(false)\n    }\n    result[item.id]={name:item.name, importance:item.importance, answer:input_answer}\n    setResult(result)\n    if (item.color[0] === 1 && !(selectedOptions.selectedKey.includes(\"Aucune\") || selectedOptions.selectedKey.includes(\"Aucun\") )){\n      pbresult[item.id] = {name:item.name,answer:input_answer,checklist_name:checklist_name}\n      setPbResult(pbresult)\n    }\n    else{\n      delete pbresult[item.id]\n      setPbResult(pbresult)\n    }\n  };\n\n  /*Function triggered where the user enter a text in a text question. We update the result*/\n  const handleOnChangeListOther = (event) => {\n    const input_text = event.target.value;\n    let input_answer = result[item.id].answer\n    if (isOther) input_answer.pop() // With the first letter typed, remove the \"other\" field, when you continue to type, remove the previous word and add the new\n    input_answer.push(input_text)\n    result[item.id]={name:item.name, importance:item.importance, answer:input_answer}\n    setResult(result)\n  };\n\n  const create_possible_list_answers = (name) => {\n    const list_answers = temp_data.lists[name]\n    const list_possible_answers = []\n    list_answers.forEach(function(answer){\n      list_possible_answers.push({\n        \"labelKey\": answer,\n        \"value\": answer,\n      })\n    })\n    // list_possible_answers.push({\n    //   \"labelKey\" : \"supp\",\n    //   \"value\": \"Fermer\",\n    // })\n    list_possible_answers.push({\"labelKey\": \"other\", \"value\": \"Autre\"})\n    return list_possible_answers\n  }\n\n  /* If the item as pre check conditions and his precheck as not already been made,\n  * we check the condition in 'pre_check.if' and if it passes, we do as if the 'pre_check.then' answer was clicked\n  */\n  // console.log(item.id, item.pre_check)\n\n  if(precheckMode && item.pre_check && !isPreCheckDone.includes(item.id)){\n    // console.log(\"enter precheck\", item, isDict)\n    if (item.pre_check.if.every(function (elms){\n        return elms.some(function (elm){\n          if (elm.op)\n            return utils.simple_operation(numDict[elm.var],elm.op, elm.val);\n          else\n            return isDict[elm.val][elm.var]\n        })\n    })){\n      handleOnChangeIs(item.pre_check.then); isPreCheckDone.push(item.id); setIsPreCheckDone(isPreCheckDone);\n    }\n  }\n\n  /* Filter (check of the cond's) of the item values (children) */\n  let children = null;\n  let values = null;\n  if (item.values) {\n    values = values_filter_cond(item.values, isDict, numDict, creationMode, debugMode)\n    values.forEach(value => !visibleList.includes(value.id) && value.check.length ? visibleList.push(value.id) : null)\n  }\n\n  // let show_scan = false\n  // if (scan_bookmark && item.check.includes(\"scan\")){\n  //   show_scan = true\n  //   scan_bookmark = false\n  // }\n\n  /*We create the children components of the current item*/\n  if (values && values.length) {\n    children = (\n      <ul className=\"mb-0\">\n        {values.map((i, index) => (\n          <ChecklistItem  key={index} init_items={init_items} item={i} dicts={dicts} forceUpdate = {forceUpdate} values_filter_cond={values_filter_cond} creationMode={creationMode} currentId={currentId} warningId={warningId} is_root={false} alertList={alertList} scan_bookmark={scan_bookmark} checklist_name={checklist_name} />\n        ))}\n      </ul>\n    );\n  }\n\n  function onNewScanResult(decodedText, decodedResult) {\n    axios.get('#') //Random url, just to simulate the fact that we need to make get call before set checklistList\n      .then(function (response) {\n        if(decodedText) {\n          setScanValue(decodedText)\n          console.log(\"write decoded scan\", decodedText, result)\n        }\n      })\n    console.log(\"scan result\", decodedText, scanValue)\n  }\n\n\n\n  // console.log(item.id, scan_bookmark, scanValue)\n  // console.log(\"Item return\", item)\n  // console.log(\"isDict\", isDict)\n  // console.log(\"result\", result)\n  // console.log(result)\n  // console.log(visibleList)\n  // console.log(numDict)\n  //\n  // console.log(warningId)\n  // console.log(currentId)\n  //\n  // console.log(\"item\", item)\n\n  /*We return the different elements of the current item, and also his children*/\n  return (\n    <div className={\"container p-0 mx-auto \" + (is_root ? \"\":\"mt-3\") }>\n      {/*Current Item*/}\n\n      {warningId === item.id ? (\n        <div className=\" alert text-white bg-warning rounded\" role=\"alert\">\n          <div className=\"iq-alert-icon\">\n            <i className=\"ri-alert-fill\"/>\n          </div>\n          <div className=\"iq-alert-text\">Vous n'avez pas répondu à cette question</div>\n        </div>\n      ):null}\n\n      <div id={\"question\"+item.id} className={\"row align-items-center m-0 p-0\" + (creationMode && currentId === item.id ? \" border border-danger \" : \" \" )}>\n\n        {/*Item Id*/}\n        <div className=\"col list-group list-group-horizontal m-0 p-0 w-auto\">\n          <div className={\"list-group-item m-0 p-0 text-center shadow-sm my-auto \" + (item.importance || alertList && Object.values(alertList).some(elm => elm.name === item.name) ? \"bg-danger\" : \"bg-primary\")} >\n            <h5 className=\"card-body p-auto text-white\">\n              {item.id}\n            </h5>\n          </div>\n\n          {/*Item name*/}\n          <div className=\"list-group-item m-0 p-0 w-100 shadow-sm h-auto text-dark bg- \"  >\n              {item.comment && commentMode && (item.comment.split(\"_\").length === 1 || item.comment.split(\"_\").length > 1 && numDict[item.comment.split(\"_\")[1]]) ? (\n                <div className=\"row alert iq-bg-secondary px-0 m-0 mt-0 border-0 text-primary my-auto text-center align-content-center\" role=\"alert\">\n                  {item.comment.split(\"_\").length > 1 ?\n                    <p className={\"w-100 m-0\"}>{item.comment.split(\"_\")[0] + numDict[item.comment.split(\"_\")[1]]}</p>\n                    :\n                    <p className={\"w-100 m-0\"}>{item.comment}</p>\n                  }\n                  {item.comment.includes(\"Consentement\") ?\n                    <div className={\"text-center mx-auto\"}>\n                      <button className=\"btn m-0 p-0 mx-auto \" type=\"button\" data-toggle=\"collapse\" data-target=\"#collapseconsentpdf\"\n                              aria-expanded=\"false\" aria-controls=\"collapseExample\">\n                        <div data-icon=\"T\" className=\"icon\"></div>\n                      </button>\n                      <div className=\"collapse m-0 p-0\" id=\"collapseconsentpdf\">\n                        <p className={\"col-sm-12 mx-0 px-0 mb-0\"}> <img src={is_local ? numDict.consent_pdf : \"http://checklists.metoui.be/storage/\" + numDict.consent_pdf} width={\"280\"}/> </p>\n                      </div>\n                    </div>\n                    : null}\n                </div>\n              ) : null}\n            <div className=\"card-body my-auto\">\n              {item.name.split(\"_\")[0]}\n            </div>\n            {/*Item comment (above the item name)*/}\n          </div>\n\n        </div>\n\n        {/*Item answers (if any, if not empty col)*/}\n        {item.check.length ? (\n        <div className=\"col-sm-auto p-0 pl-3\">\n          <div className={\"row px-3\"}>\n            <div className=\"list-group list-group-horizontal \">\n              {/*For each possible answer, if in item.check, we put a checkbox*/}\n              {item.check.map((answer, index) =>\n                index < 3 && ![\"text\",\"list\", \"date\", \"hour\", \"scan\", \"signature\", \"number\"].includes(answer.split(\"_\")[0]) ?\n                  <label key={index} className={\"list-group-item list-group-item-custom btn m-0\" + (item.color && item.color[index] === 0 ? \" btn-outline-success\" : (item.color && item.color[index] === 1 ? \" btn-outline-danger\" : \" btn-outline-secondary\"))} >\n                    <input  type=\"checkbox\"\n                           aria-label=\"Checkbox\"\n                           checked={isDict[answer] && isDict[answer][item.id] ? 1:0}\n                           onChange={function(event) {handleOnChangeIs(answer);forceUpdate()}}\n                    />\n                    &nbsp;{utils.trad_answer(answer)}\n                  </label>\n                : null\n              )}\n            </div>\n\n            <div className=\"list-group list-group-horizontal \">\n              {/*For each possible answer, if in item.check, we put a checkbox*/}\n              {item.check.map((answer, index) =>\n                index >= 3 && ![\"text\",\"list\", \"date\", \"hour\", \"scan\", \"signature\", \"number\"].includes(answer.split(\"_\")[0]) ?\n                  <label key={index} className={\"list-group-item list-group-item-custom btn m-0\" + (item.color && item.color[index] === 0 ? \" btn-outline-success\" : (item.color && item.color[index] === 1 ? \" btn-outline-danger\" : \" btn-outline-secondary\"))} >\n                    <input  type=\"checkbox\"\n                            aria-label=\"Checkbox\"\n                            checked={isDict[answer] && isDict[answer][item.id] ? 1:0}\n                            onChange={function(event) {handleOnChangeIs(answer);forceUpdate()}}\n                    />\n                    &nbsp;{utils.trad_answer(answer)}\n                  </label>\n                  : null\n              )}\n            </div>\n          </div>\n          {/*If item answers must contain text, put a text input*/}\n          {item.check.includes(\"text\") ? (\n            <input className=\"form-control w-100 mb-0 bg-white\" type = \"text \" aria-label=\"text input\" placeholder=\"Insérez ici\" onChange={handleOnChangeText}/>\n          ) : null }\n\n          {/*If item answers must contain date, put a text input*/}\n          {item.check.includes(\"date\") ? (\n            <input className=\"form-control w-100 mb-0 bg-white\" type = \"date\" aria-label=\"text input\" defaultValue={handleOnChangeCurrentDate()} placeholder=\"Insérez ici\" onChange={handleOnChangeText}/>\n          ) : null }\n\n          {/*If item answers must contain date, put a text input*/}\n          {item.check.includes(\"hour\") ? (\n            <input className=\"form-control w-100 mb-0 bg-white\" type = \"time\" aria-label=\"text input\" defaultValue={handleOnChangeCurrentTime()} placeholder=\"Insérez ici\" onChange={handleOnChangeText}/>\n          ) : null }\n\n          {/*If item answers must contain date, put a text input*/}\n          {item.check.includes(\"number\") ? (\n            <input className=\"form-control w-100 mb-0 bg-white\" type = \"number\" aria-label=\"text input\" defaultValue={handleOnChangedDefaultText(\"0\")} placeholder=\"Insérez ici\" onChange={handleOnChangeText}/>\n          ) : null }\n\n          {/*If item answers must contain list, put a list dropdown input*/}\n          {item.check[0].split(\"_\").includes(\"list\") ? (\n            <BootstrapSelect key={item.check[0].split(\"_\")[1]} className=\" my-auto \"\n                             selectStyle =\"py-2  btn btn-outline-dark bg-white text-dark \"\n                             options={create_possible_list_answers(item.check[0].split(\"_\")[1])}\n                             isMultiSelect={true} placeholder=\"-\" onChange={handleOnChangeList} menuSize={10}/>\n          ) : null }\n\n          {/*If item answers is list and the answer is Other, put a text*/}\n          {isOther || item.check.includes(\"list_problems\") ? (\n            <input className=\"form-control w-100 mb-0 bg-white\" type = \"text \" aria-label=\"text input\" placeholder={isOther ? \"Insérez ici\" : \"Décrivez\"} onChange={handleOnChangeListOther}/>\n          ) : null }\n\n        </div>\n        ) : <div className=\"col-sm-6\"> {null} </div>}\n      </div>\n\n      {/*If item answers must contain date, put a text input*/}\n      {item.check.includes(\"scan\") && scan_bookmark && !scanValue ? (\n        <div className={\"row m-0 p-0 mt-2 align-items-center justify-content-center col-sm-6 mx-auto\"}>\n          <QrcodeScanner key={item.id} item_id={item.id} fps={10} qrbox={250} disableFlip={false} qrCodeSuccessCallback={onNewScanResult} scanValueError={scanValueError} scanValue={scanValue} scan_bookmark={scan_bookmark} is_home={false}/>\n        </div>\n      ) : null }\n\n      {item.check.includes(\"signature\") ? (\n        <div className={\"row m-0 p-0 mt-2 align-items-center justify-content-center mx-auto\"}>\n          <AppSignature sigpad={sigpad} setTrimmedCanvasUrl={setTrimmedCanvasUrl} is_end_sign={false} setResult={setResult} result={result} item={item} forceUpdate={forceUpdate}/>\n        </div>\n      ) : null }\n\n      {/*Children of the current item*/}\n      {children}\n    </div>\n  );\n}\n\n/*Function that clean (remove from isDict and results) questions\n  * that must not be visible anymore, because of there cond's.\n  * -We check the current item, remove if necessary from result and isDict\n  * (id indicating what question has been removed, and answers indicating all the answers possibly removed,\n  * so we need to check if the current item was dependent of one of these answers,\n  * -We call the function recursively on each child of the current item\n  * - If the current item as been removed, we call recursively, s\n  * */\nfunction clean_children_rec(init_item, item, id, isDict, setIsDict, result, pbresult, answers) {\n  let is_remove = false\n  if(item.cond){\n    answers.forEach(function(answer){\n      if(item.cond[answer] && item.cond[answer].includes(id)){\n        console.log(\"delete\", item)\n        utils.list_possible_answer.forEach(function(elm){isDict[elm][item.id]= false})\n        delete result[item.id]\n        delete pbresult[item.id]\n        is_remove = true\n      }\n    })\n  }\n\n  if (item.values && item.values.length){\n    item.values.forEach( function (value) {\n      clean_children_rec(init_item, value, id, isDict, setIsDict, result, pbresult, answers)\n    })\n  }\n  if (id !== item.id && is_remove) {\n        clean_children_rec(init_item, init_item, item.id, isDict, setIsDict, result, pbresult, answers)\n  }\n}\n\nexport {ChecklistItem}","import React from \"react\";\nimport * as utils from \"../utils/utils\";\n\nfunction SectionTitle ({section_title, index}) {\n\n\n  // console.log(section_title)\n  return (\n    <div className={\"card p-2 px-4  mb-0 bg-dark shadow-sm border-bottom border-dark text-center \" + (index ? \"border-top\":\"rounded rounded-0-bottom\") } >\n      <h5 className=\"text-white \">{section_title}</h5>\n    </div>\n  )\n\n}\n\nexport {SectionTitle}","import React from \"react\";\nimport * as utils from \"../utils/utils\";\nimport {bindReporter} from \"web-vitals/dist/modules/lib/bindReporter\";\nimport {Button} from \"react-bootstrap\";\nimport Modal from \"react-bootstrap/Modal\";\nimport {useState} from \"react\";\n\nfunction check_all_question_answered (visibleList, result){\n  return visibleList.every(\n    function (elm){ return result[elm]}\n  )\n}\n\n\n\nfunction ValidationButton ({visibleList, result, import_result, checklist, setWarningId, checklistList, setChecklistList, checklistId, forceValidationMode}) {\n\n  function search_question_not_answered (visibleList, result, is_set){\n    if (forceValidationMode)\n      return \"\"\n    const visibleListsorted = visibleList.sort(function (elm1,elm2){return elm1>elm2})\n    for (let i=0; i<visibleListsorted.length;i=i+1){\n      if(!result[visibleListsorted[i]]){\n        if (is_set) setWarningId(visibleListsorted[i])\n        return i ? \"question\" + (visibleListsorted[i-1] ) : \"title\"\n      }\n    }\n    if (is_set) setWarningId(0)\n    return \"\"\n  }\n\n  const [show, setShow] = useState(false);\n\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n\n\n  function handlevalidation (){\n\n    import_result()\n    // checklistList.filter(elm => elm.id === checklistId)[0].fill = true\n    // setChecklistList(checklistList)\n    handleShow()\n    console.log(\"handle validation end\")\n  }\n\n\n\n  return (\n    <div className=\"container custom-container iq-card  mt-5 text-center p-2 mx-auto shadow-sm border \">\n      <a onClick={() => search_question_not_answered(visibleList, result, true) === \"\" ? handlevalidation(): null }\n         href={\"#\" + search_question_not_answered(visibleList, result, false)}\n         className=\"\"\n      >\n        <div className=\"btn-group btn-group-lg w-100 \" role=\"group\" aria-label=\"Basic example\">\n          <button type=\"button\" className=\"btn btn-warning w-100\">Valider la checklist</button>\n        </div>\n      </a>\n      <>\n        <Modal show={show} onHide={handleClose}>\n          <Modal.Header closeButton variant=\"white\">\n            <Modal.Title>La checklist est validée</Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            Les résultats sont transmis au dossier patient\n          </Modal.Body>\n          <Modal.Footer>\n            <Button variant=\"secondary\" onClick={handleClose}>\n              Fermer\n            </Button>\n          </Modal.Footer>\n        </Modal>\n      </>\n    </div>\n  )\n\n  // href={\"#\" + !check_all_question_answered(visibleList, result) ? search_question_not_answered(visibleList, result) : \"\"}\n\n}\n\nexport {ValidationButton}","import React from \"react\";\nimport * as utils from \"../utils/utils\";\nimport * as temp_data from \"../utils/temporary_data\";\n\n/*Component for the selection of the current patient\n* -patientList : list of all patients\n* -currentPatient : current patient state variable\n* -setCurrentPatient: current patient set function\n* */\nfunction AlertsBox ({alertList}) {\n\n  console.log(\"enter alert box\", alertList)\n\n  let list_alert = Object.values(alertList)\n\n  console.log(list_alert)\n  const half = list_alert ? Math.ceil(list_alert.length/2) : 0\n\n  const first_half_list = list_alert ? list_alert.slice(0, half) : []\n  const second_half_list = list_alert && list_alert.length > 1 ? list_alert.length % 2 === 0 ? list_alert.slice(-half) : list_alert.slice(-half+1) : []\n\n  return (\n    <div className={\"container iq-card pt-3 pb-1 border border-dark shadow mb-3\"}>\n      <div className=\"row align-items-center\">\n        <div className={\"col-sm-6 pr-2\"}>\n          {first_half_list.map((alert, index) =>\n            <div className={\"col-sm-12 alert rounded \" + (alert.gravity === 0 ? \"bg-danger\" : alert.gravity === 1 ? \"bg-warning\" : \"bg-light text-dark\") } role=\"alert\">\n              <div className=\"iq-alert-text\">\n                Checklist <b>{alert.checklist_name}</b> : {alert.name.split(\"_\")[0]}\n                {alert.question_id > -1 ? \" (Question \":null}\n                <b>{alert.question_id > -1 ? alert.question_id : null}</b>\n                {alert.question_id > -1 ? \")\":null}  -> {alert.answer}\n              </div>\n              <button type=\"button\" className=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">\n                <i className=\"ri-close-line text-dark\"></i>\n              </button>\n            </div>\n          )}\n        </div>\n        <div className={\"col-sm-6 pl-2\"}>\n          {second_half_list.map((alert, index) =>\n            <div className={\"col-sm-12 alert rounded \" + (alert.gravity === 0 ? \"bg-danger\" : alert.gravity === 1 ? \"bg-warning\" : \"bg-light text-dark\") } role=\"alert\">\n              <div className=\"iq-alert-text\">\n                Checklist <b>{alert.checklist_name}</b> : {alert.name.split(\"_\")[0]}\n                {alert.question_id > -1 ? \" (Question \":null}\n                <b>{alert.question_id > -1 ? alert.question_id : null}</b>\n                {alert.question_id > -1 ? \")\":null}  -> {alert.answer}\n              </div>\n              <button type=\"button\" className=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">\n                <i className=\"ri-close-line text-dark\"></i>\n              </button>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport {AlertsBox}","import React from \"react\";\nimport * as utils from \"../utils/utils\";\n\n\n\n\nfunction Title ({checklistList, checklistId, numDict, currentPatient, forceValidationMode, setForceValidationMode, is_local}) {\n\n\n  const checklist = checklistList ? checklistList.filter(elm => elm.id === checklistId)[0] : null\n  return (\n    <div className={\"container\"}>\n      <div className=\"iq-card bg-white  mt-4 text-center p-2 shadow-sm border\">\n        <div className=\"card-body\">\n          <h3 className=\"card-title text-dark\">{checklist ? \"Checklist \" + checklist.title: null} </h3>\n          <h4 className=\"card-title text-primary m-0\">{currentPatient.firstname} {currentPatient.lastname} </h4>\n          <h4 className=\"card-title text-secondary m-0\">{currentPatient.dateofbirth}</h4>\n          <img className={\"border border-dark my-2\"} src={is_local ? currentPatient.photo : \"http://checklists.metoui.be/storage/\"+currentPatient.photo} width=\"128\" height=\"128\"/>\n\n          <h4 className=\"card-text text-dark m-0\">{ \"Chirurgie \" + (currentPatient.type === \"major\" ? \"Majeure\" : \"Mineure\" ) + (numDict.age < 19 ? \" Enfant\" : \" Adulte\")}</h4>\n          <h4 className=\"card-text text-primary m-0\">{currentPatient.intervention_name}</h4>\n          <h4 className=\"card-text text-secondary m-0\">{checklist ? checklist.description : null}</h4>\n        </div>\n      </div>\n      {/*<div className={\"iq-card iq-bg-secondary p-0 mx-auto text-center shadow border border-dark justify-content-center \"}>*/}\n      {/*  <div className=\"card-body m-0 p-2\">*/}\n      {/*    <h4 className=\"card-title text-dark m-0 p-0\">Note</h4>*/}\n      {/*    {!forceValidationMode ? <h6 className=\"card-text text-dark m-0 p-0\">Vous devez répondre à toutes les questions pour valider. Si vous voulez pouvoir valider quand même, appuyez ici</h6>: null}*/}\n      {/*    {!forceValidationMode ? <button className={\"btn btn-warning m-0 mt-2\"} onClick={() => setForceValidationMode(!forceValidationMode)}>Autorise validation libre</button>: null}*/}\n      {/*    {forceValidationMode ? <h6 className=\"card-text text-dark m-0 p-0\">Vous pouvez valider la checklist à tout moment</h6>: null}*/}\n      {/*    {forceValidationMode ? <button className={\"btn btn-warning m-0 mt-2\"} onClick={() => setForceValidationMode(!forceValidationMode)}>Ne plus autoriser</button>: null}*/}\n      {/*  </div>*/}\n      {/*</div>*/}\n    </div>\n  )\n\n}\n\nexport {Title}","import {useEffect, useState} from \"react\";\nimport * as calls from \"../calls\";\nimport {index} from \"mathjs\";\nimport React from \"react\";\nimport * as utils from \"../utils/utils\";\nimport BootstrapSelect from \"react-bootstrap-select-dropdown\";\nimport {SectionTitle} from \"./section_title\";\n\n\nfunction Review ({is_local, pathId, checklistId, setReviewId}) {\n\n  let [currentEvals, setCurrentEvals] = useState(null)\n\n  let [isWaitingReview, setIsWaitingReview] = useState(false)\n\n  useEffect(() => {\n    setIsWaitingReview(true)\n    if (!is_local) calls.getevaluation(setCurrentEvals,pathId, setIsWaitingReview) //temp\n\n  }, [])\n\n  // let [last_evaluation, set_last_evaluation ] = useState(null)\n\n  let current_eval = currentEvals ? currentEvals.filter(elm => elm.checklist.id === checklistId)[0] : null\n\n  if (currentEvals && typeof currentEvals.filter(elm => elm.checklist.id === checklistId)[0].checklist.items[0].check === 'string') {\n    currentEvals.filter(elm => elm.checklist.id === checklistId)[0].checklist.items.forEach(item => {\n      item.check = JSON.parse(item.check)\n      item.color = JSON.parse(item.color)\n      item.cond = JSON.parse(item.cond)\n    })\n    // set_last_evaluation(last_evaluation)\n  }\n\n  const check_is_danger = (item_id) => {\n    const correspond_answers = current_eval.answers.filter(answer => answer.item_id === item_id)\n    if (correspond_answers && correspond_answers.length)\n      return correspond_answers[0].is_pb\n  }\n\n  if(current_eval) current_eval.checklist.items.forEach(item => console.log(current_eval.answers.filter(answer => answer.item_id === item.itemId)[0]))\n\n  return (\n    <div >\n      {isWaitingReview? <div className=\"d-flex justify-content-center m-2\">\n        <div className=\"spinner-border\" role=\"status\">\n          <span className=\"sr-only\">Loading...</span>\n        </div>\n      </div> : null\n      }\n      <div className={\"iq-card bg-white col-sm-4 mx-auto text-center p-2 shadow-sm border justify-content-center mt-4 row\"}>\n\n        <button className=\" btn btn-secondary m-2\" type=\"button\" onClick={ function (){setReviewId(0)}}>\n          <h5 data-icon=\"&#xe03d;\" className=\"icon text-white\">&nbsp; Revenir à la liste</h5>\n\n        </button>\n      </div>\n      <div className={\"container p-0 border-bottom border shadow-sm rounded mt-4\"}>\n        {current_eval ? current_eval.checklist.items.map((item,index) => (\n          <div> { current_eval.answers.filter(answer => answer.item_id === item.itemId).length ?\n            <div>\n              {item.section_title ?\n                <SectionTitle section_title={item.section_title} index={index}/> :\n                <div className={\"bg-primary \" + (index ? \" border-top\" : \"\")}/>\n              }\n              <div className=\n                     {\"pb-3 px-3 pt-3 \" +\n                       (index === current_eval.checklist.items.length - 1 ? \"rounded rounded-0-top \" : null) +\n                       (index || item.section_title ? \"\" : \" rounded rounded-0-bottom \") +\n                       (item.importance ? \" iq-bg-danger\" : \" bg-color-custom\")}>\n                <div className={\"container p-0 mx-auto \" }>\n                  <div id={\"question\"+item.id} className={\"row align-items-center m-0 p-0\"}>\n                    {/*Item Id*/}\n                    <div className=\"col list-group list-group-horizontal m-0 p-0 w-auto\">\n                      <div className={\"list-group-item m-0 p-0 text-center shadow-sm my-auto \" + ( check_is_danger(item.itemId)  ? \"bg-danger\" : \"bg-primary\")} >\n                        <h5 className=\"card-body p-auto text-white\">\n                          {item.itemId}\n                        </h5>\n                      </div>\n\n                      {/*Item name*/}\n                      <div className=\"list-group-item m-0 p-0 w-100 shadow-sm h-auto text-dark bg- \"  >\n                        <div className=\"card-body my-auto\">\n                          {item.name.split(\"_\")[0]}\n                        </div>\n                        {/*Item comment (above the item name)*/}\n                      </div>\n                    </div>\n\n                    {/*Item answers (if any, if not empty col)*/}\n                    {item.check.length ? (\n                      <div className=\"col-sm-auto p-0 pl-3\">\n                        <div className={\"row px-3\"}>\n                          <div className=\"list-group list-group-horizontal \">\n                            {item.check.map((elm, index) =>\n                              index < 3 && ![\"text\",\"list\", \"date\", \"hour\", \"scan\", \"signature\", \"number\"].includes(elm.split(\"_\")[0]) ?\n                                <label key={index} className={\"list-group-item list-group-item-custom btn m-0\" + (item.color && item.color[index] === 0 ? \" btn-outline-success\" : (item.color && item.color[index] === 1 ? \" btn-outline-danger\" : \" btn-outline-secondary\"))} >\n                                  <input  type=\"checkbox\"\n                                          aria-label=\"Checkbox\"\n                                          checked={(current_eval.answers.filter(answer => answer.item_id === item.itemId)[0]).answer.includes(elm) ? 1:0}\n                                  />\n                                  &nbsp;{utils.trad_answer(elm)}\n                                </label>\n                                : null\n                            )}\n                          </div>\n\n                          <div className=\"list-group list-group-horizontal \">\n                            {/*For each possible answer, if in item.check, we put a checkbox*/}\n                            {item.check.map((elm, index) =>\n                              index >= 3 && ![\"text\",\"list\", \"date\", \"hour\", \"scan\", \"signature\", \"number\"].includes(elm.split(\"_\")[0]) ?\n                                <label key={index} className={\"list-group-item list-group-item-custom btn m-0\" + (item.color && item.color[index] === 0 ? \" btn-outline-success\" : (item.color && item.color[index] === 1 ? \" btn-outline-danger\" : \" btn-outline-secondary\"))} >\n                                  <input  type=\"checkbox\"\n                                          aria-label=\"Checkbox\"\n                                          checked={(current_eval.answers.filter(answer => answer.item_id === item.itemId)[0]).answer.includes(elm) ? 1:0}\n                                  />\n                                  &nbsp;{utils.trad_answer(elm)}\n                                </label>\n                                : null\n                            )}\n                          </div>\n                        </div>\n\n                        {/*If item answers must contain text, put a text input*/}\n                        {item.check.includes(\"text\") || item.check.includes(\"hour\") || item.check.includes(\"date\") ||\n                        item.check.includes(\"number\") || item.check.includes(\"scan\") || item.check[0].split(\"_\").includes(\"list\") ? (\n                          <div className=\"\"  >\n                            <input className=\"form-control w-100 mb-0 bg-white\" type={\"text\"}\n                                   placeholder={current_eval.answers.filter(answer => answer.item_id === item.itemId).length &&\n                                     current_eval.answers.filter(answer => answer.item_id === item.itemId)[0].answer}\n                            />\n\n                            {/*Item comment (above the item name)*/}\n                          </div>\n                        ) : null }\n\n                      </div>\n                    ) : <div className=\"col-sm-6\"> {null} </div>}\n                  </div>\n                </div>\n              </div>\n            </div>\n          : null}</div>\n        )) : null}\n      </div>\n    </div>\n  )\n}\n\nexport {Review}","import {Html5Qrcode} from \"html5-qrcode\";\nimport React from \"react\";\nimport {useState} from \"react\";\nimport * as temp from \"../utils/temporary_data\"\nimport {Review} from \"./review\";\nimport {Button} from \"react-bootstrap\";\nimport Modal from \"react-bootstrap/Modal\";\n\n\nfunction Home ({checklistList, swapchecklist, scanValue, currentPatient, currentUser, is_local, pathId, numDict, journeyErrorCode}) {\n\n  let [forceMode, setForceMode] = useState(false)\n  let [reviewId, setReviewId] = useState(0)\n\n  console.log(\"role id\", currentUser.role_id, temp.role_cross_type[currentUser.role_id], checklistList)\n  let filtered_checklist_list =  checklistList ? checklistList.filter(checklist => temp.role_cross_type[currentUser.role_id].includes(checklist.type)) : null\n  const list_length = filtered_checklist_list ? filtered_checklist_list.length : 0\n\n  console.log(\"home\", filtered_checklist_list)\n\n  const [show, setShow] = useState(false);\n\n  const handleClose = () => { setShow(false)};\n  const handleShow = () => setShow(true);\n\n\n  const check_if_fillable = (id) => {\n    if (!forceMode) {\n      console.log(\"check\")\n      for (let i = 0; i < checklistList.length; i++) {\n        console.log(\"check\", checklistList[i], id)\n        if (checklistList[i].fill !== true)\n          return checklistList[i].id === id\n      }\n    }\n    return true\n  }\n\n  let [isWaitingChecklist, setIsWaitingChecklist] = useState(false)\n\n\n  const open_checklist = (checklist) => {\n    setIsWaitingChecklist(true)\n    window.scrollTo(0, 0); swapchecklist(checklist.id)\n  }\n\n  return (\n    <div>\n      {isWaitingChecklist ? <div className=\"d-flex justify-content-center m-2\">\n        <div className=\"spinner-border\" role=\"status\">\n          <span className=\"sr-only\">Loading...</span>\n        </div>\n      </div> : null\n      }\n      {reviewId === 0 ?\n        <div>\n          {checklistList && currentPatient ? <div className=\"container\">\n            <div className={\"iq-card bg-white col-sm-6 mx-auto text-center p-2 mt-4 shadow-sm border justify-content-center \"}>\n              <div className=\"card-body\">\n                <h3 className=\"card-title text-dark m-0\">Patient(e) : {currentPatient.firstname} {currentPatient.lastname} </h3>\n                <h4 className=\"card-title text-secondary m-0\">{currentPatient.dateofbirth}</h4>\n                <img className={\"border border-dark mt-2\"} src={is_local ? currentPatient.photo : \"http://checklists.metoui.be/storage/\"+currentPatient.photo} width=\"128\" height=\"128\"/>\n                <h4 className=\"card-text text-dark m-0\">{ \"Chirurgie \" + (currentPatient.type === \"major\" ? \"Majeure\" : \"Mineure\" ) + (numDict.age < 19 ? \" Enfant\" : \" Adulte\")}</h4>\n                <h4 className=\"card-text text-primary m-0\">{currentPatient.intervention_name}</h4>\n              </div>\n            </div>\n            <div className={\"iq-card bg-white col-sm-6 mx-auto text-center p-2 shadow-sm border justify-content-center \"}>\n              <div className=\"card-body m-0 p-2\">\n                <h4 className=\"card-title text-dark m-0 p-0\">Attention <div data-icon=\"&#xe063;\" className=\"icon text-danger\"></div></h4>\n                {!forceMode ? <h6 className=\"card-text text-secondary m-0 p-0\">Vous devez choisir la prochaine checklist non remplie. Si vous souhaitez quand même en choisir une autre, appuyer ici.</h6>: null}\n                {!forceMode ? <button className={\"btn btn-warning m-0 mt-2 mb-1\"} onClick={() => setForceMode(!forceMode)}>Autorise choix libre</button>: null}\n                {forceMode ? <h6 className=\"card-text text-secondary m-0 p-0\">Vous pouvez choisir la checklist que vous souhaitez</h6>: null}\n                {forceMode ? <button className={\"btn btn-warning m-0 mt-2 mb-1\"} onClick={() => setForceMode(!forceMode)}>Ne plus autoriser</button>: null}\n              </div>\n            </div>\n            <div className={\"list-group text-center text-dark justify-content-center \" + (list_length < 3 ? \"list-group-horizontal\":\"\")} >\n              {filtered_checklist_list.map( (checklist, index) => (\n                <div className={\"list-group-item shadow-sm \" + (list_length < 3 ? \"col-sm-3 \":\"col-sm-6 mx-auto list-group-item-rounded \") + (checklist.fill ? \"iq-bg-success\":\"iq-bg-danger\")}>\n                  <h4>Checklist n° {checklist.id}</h4>\n                  <p>{checklist.title}</p>\n                  {checklist.fill ?\n                    <button className=\" btn btn-primary m-2 rounded\" type=\"button\" onClick={ function (){setReviewId(checklist.id)}}>\n                      Revoir\n                    </button>\n                    :\n                    <button className=\" btn btn-primary m-2\" type=\"button\" onClick={() => check_if_fillable(checklist.id) ?  open_checklist(checklist)  : handleShow()}>\n                      Remplir\n                    </button>\n                  }\n\n                </div>\n              ))}\n            </div>\n            {!list_length ? (\n              <div className={\"iq-card bg-white col-sm-6 mx-auto text-center p-2 shadow-sm border justify-content-center \"}>\n                <h6 className=\"card-text text-dark m-0 p-0\">Vous ne pouvez remplir aucune liste pour ce patient </h6>\n              </div>\n            ): null}\n          </div>\n          :\n          <div className={\"container iq-card bg-white mx-auto mb-0 mt-2 p-2 text-center shadow-sm border justify-content-center \"}>\n            <div className={\"card-body iq-card mx-auto my-3 text-center p-2 shadow-sm border justify-content-center\"}>\n              <h6 className=\"card-text text-danger m-0 p-0\"> <div data-icon=\"&#xe063;\" className=\"icon text-danger\"> Aucun parcours patient n'est trouvé, problème de connexion (\"{journeyErrorCode}\") </div></h6>\n            </div>\n          </div>\n          }\n        </div>\n        :\n        <div>\n          <Review is_local={is_local} pathId={pathId} checklistId={reviewId} setReviewId={setReviewId}/>\n        </div>\n\n      }\n      <>\n        <Modal show={show} onHide={handleClose} className={\"\"}>\n          <Modal.Header className={\"\"} closeButton variant=\"white\">\n            <Modal.Title className={\"text-danger\"}>Attention</Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            Vous n'êtes pas sensé remplir cette checklist, mais celle qui suit dans l'ordre de remplissage,\n            si vous voulez vraiment passer outre, autoriser le choix libre\n\n          </Modal.Body>\n          <Modal.Footer className={\"\"}>\n\n          </Modal.Footer>\n        </Modal>\n      </>\n    </div>\n\n  )\n}\n\nexport {Home}","import React, {useState} from 'react';\nimport _ from 'lodash';\nimport * as mathjs from 'mathjs';\nimport ReactDataSheet from 'react-datasheet';\n// Be sure to include styles at some point, probably during your bootstrapping\nimport '../styles/react-datasheet.css';\nimport {result} from \"lodash/object\";\n\nexport class CountingTable extends React.Component {\n  constructor(props) {\n    super(props)\n    this.result = props.result\n    this.setResult = props.setResult\n    this.onCellsChanged = this.onCellsChanged.bind(this);\n    this.cellUpdate = this.cellUpdate.bind(this);\n    this.switchMode = this.switchMode.bind(this)\n    this.addAdditional = this.addAdditional.bind(this)\n    this.subElement = this.subElement.bind(this)\n    this.setState = this.setState.bind(this)\n    this.state = {\n      'mode': false,\n      'number_additional':0,\n      'A1': {key: 'A1', name: '5x5 Rx Départ', value: '0', expr: '0', readOnly:true},\n      'B1': {key: 'B1', name: '10x10 Rx Départ', value: '0', expr: '0',  readOnly:true},\n      'C1': {key: 'C1', name: '10x20 Rx Départ', value: '0', expr: '0',  readOnly:true},\n      'D1': {key: 'D1', name: 'Tétras Départ', value: '0', expr: '0',  readOnly:true},\n      'E1': {key: 'E1', name: 'Tampons Départ', value: '0', expr: '0',  readOnly:true},\n      'F1': {key: 'F1', name: 'Peanuts Départ', value: '0', expr: '0',  readOnly:true},\n      'G1': {key: 'G1', name: 'Cotonoïdes Départ', value: '0', expr: '0',  readOnly:true},\n\n      'A2': {key: 'A2', name: '5x5 Rx 1er Infirmière circulante', value: '0', expr: '0',  readOnly:true},\n      'B2': {key: 'B2', name: '10x10 Rx 1er Infirmière circulante', value: '0', expr: '0',  readOnly:true},\n      'C2': {key: 'C2', name: '10x20 Rx 1er Infirmière circulante', value: '0', expr: '0',  readOnly:true},\n      'D2': {key: 'D2', name: 'Tétras 1er Infirmière circulante', value: '0', expr: '0',  readOnly:true},\n      'E2': {key: 'E2', name: 'Tampons 1er Infirmière circulante', value: '0', expr: '0',  readOnly:true},\n      'F2': {key: 'F2', name: 'Peanuts 1er Infirmière circulante', value: '0', expr: '0',  readOnly:true},\n      'G2': {key: 'G2', name: 'Cotonoïdes 1er Infirmière circulante', value: '0', expr: '0',  readOnly:true},\n      'A3': {key: 'A3', name: '5x5 Rx 1er Infirmière instrumentiste', value: '0', expr: '0',  readOnly:true},\n      'B3': {key: 'B3', name: '10x10 Rx 1er Infirmière instrumentiste', value: '0', expr: '0',  readOnly:true},\n      'C3': {key: 'C3', name: '10x20 Rx 1er Infirmière instrumentiste', value: '0', expr: '0',  readOnly:true},\n      'D3': {key: 'D3', name: 'Tétras 1er Infirmière instrumentiste', value: '0', expr: '0',  readOnly:true},\n      'E3': {key: 'E3', name: 'Tampons 1er Infirmière instrumentiste', value: '0', expr: '0',  readOnly:true},\n      'F3': {key: 'F3', name: 'Peanuts 1er Infirmière instrumentiste', value: '0', expr: '0',  readOnly:true},\n      'G3': {key: 'G3', name: 'Cotonoïdes 1er Infirmière instrumentiste', value: '0', expr: '0',  readOnly:true},\n      'A4': {key: 'A4', name: '5x5 Rx Compte avant fermeture', value: '0', expr: '=A2+A3', readOnly:true},\n      'B4': {key: 'B4', name: '10x10 Rx Compte avant fermeture', value: '0', expr: '=B2+B3', readOnly:true},\n      'C4': {key: 'C4', name: '10x20 Rx Compte avant fermeture', value: '0', expr: '=C2+C3', readOnly:true},\n      'D4': {key: 'D4', name: 'Tétras Compte avant fermeture', value: '0', expr: '=D2+D3', readOnly:true},\n      'E4': {key: 'E4', name: 'Tampons Compte avant fermeture', value: '0', expr: '=E2+E3', readOnly:true},\n      'F4': {key: 'F4', name: 'Peanuts Compte avant fermeture', value: '0', expr: '=F2+F3', readOnly:true},\n      'G4': {key: 'G4', name: 'Cotonoïdes Compte avant fermeture', value: '0', expr: '=G2+G3', readOnly:true},\n\n      'A10': {key: 'A10', name: '5x5 Rx Additionnel 1 Infirmière circulante', value: '0', expr: '0',  readOnly:true},\n      'B10': {key: 'B10', name: '10x10 Rx Additionnel 1 Infirmière circulante', value: '0', expr: '0',  readOnly:true},\n      'C10': {key: 'C10', name: '10x20 Rx Additionnel 1 Infirmière circulante', value: '0', expr: '0',  readOnly:true},\n      'D10': {key: 'D10', name: 'Tétras Additionnel 1 Infirmière circulante', value: '0', expr: '0',  readOnly:true},\n      'E10': {key: 'E10', name: 'Tampons Additionnel 1 Infirmière circulante', value: '0', expr: '0',  readOnly:true},\n      'F10': {key: 'F10', name: 'Peanuts Additionnel 1 Infirmière circulante', value: '0', expr: '0',  readOnly:true},\n      'G10': {key: 'G10', name: 'Cotonoïdes Additionnel 1 Infirmière circulante', value: '0', expr: '0',  readOnly:true},\n      'A11': {key: 'A11', name: '5x5 Rx Additionnel 1 Infirmière instrumentiste', value: '0', expr: '0',  readOnly:true},\n      'B11': {key: 'B11', name: '10x10 Rx Additionnel 1 Infirmière instrumentiste', value: '0', expr: '0',  readOnly:true},\n      'C11': {key: 'C11', name: '10x20 Rx Additionnel 1 Infirmière instrumentiste', value: '0', expr: '0',  readOnly:true},\n      'D11': {key: 'D11', name: 'Tétras Additionnel 1 Infirmière instrumentiste', value: '0', expr: '0',  readOnly:true},\n      'E11': {key: 'E11', name: 'Tampons Additionnel 1 Infirmière instrumentiste', value: '0', expr: '0',  readOnly:true},\n      'F11': {key: 'F11', name: 'Peanuts Additionnel 1 Infirmière instrumentiste', value: '0', expr: '0',  readOnly:true},\n      'G11': {key: 'G11', name: 'Cotonoïdes Additionnel 1 Infirmière instrumentiste', value: '0', expr: '0',  readOnly:true},\n      'A12': {key: 'A12', name: '5x5 Rx Compte Additionnel 1', value: '0', expr: '=A10+A11', readOnly:true},\n      'B12': {key: 'B12', name: '10x10 Rx Compte Additionnel 1', value: '0', expr: '=B10+B11', readOnly:true},\n      'C12': {key: 'C12', name: '10x20 Rx Compte Additionnel 1', value: '0', expr: '=C10+C11', readOnly:true},\n      'D12': {key: 'D12', name: 'Tétras Compte Additionnel 1', value: '0', expr: '=D10+D11', readOnly:true},\n      'E12': {key: 'E12', name: 'Tampons Compte Additionnel 1', value: '0', expr: '=E10+E11', readOnly:true},\n      'F12': {key: 'F12', name: 'Peanuts Compte Additionnel 1', value: '0', expr: '=F10+F11', readOnly:true},\n      'G12': {key: 'G12', name: 'Cotonoïdes Compte Additionnel 1', value: '0', expr: '=G10+G11', readOnly:true},\n\n      'A14': {key: 'A14', name: '5x5 Rx Additionnel 2 Infirmière circulante', value: '0', expr: '0',  readOnly:true},\n      'B14': {key: 'B14', name: '10x10 Rx Additionnel 2 Infirmière circulante', value: '0', expr: '0',  readOnly:true},\n      'C14': {key: 'C14', name: '10x20 Rx Additionnel 2 Infirmière circulante', value: '0', expr: '0',  readOnly:true},\n      'D14': {key: 'D14', name: 'Tétras Additionnel 2 Infirmière circulante', value: '0', expr: '0',  readOnly:true},\n      'E14': {key: 'E14', name: 'Tampons Additionnel 2 Infirmière circulante', value: '0', expr: '0',  readOnly:true},\n      'F14': {key: 'F10', name: 'Peanuts Additionnel 2 Infirmière circulante', value: '0', expr: '0',  readOnly:true},\n      'G14': {key: 'G14', name: 'Cotonoïdes Additionnel 2 Infirmière circulante', value: '0', expr: '0',  readOnly:true},\n      'A15': {key: 'A15', name: '5x5 Rx Additionnel 2 Infirmière instrumentiste', value: '0', expr: '0',  readOnly:true},\n      'B15': {key: 'B15', name: '10x10 Rx Additionnel 2 Infirmière instrumentiste', value: '0', expr: '0',  readOnly:true},\n      'C15': {key: 'C15', name: '10x20 Rx Additionnel 2 Infirmière instrumentiste', value: '0', expr: '0',  readOnly:true},\n      'D15': {key: 'D15', name: 'Tétras Additionnel 2 Infirmière instrumentiste', value: '0', expr: '0',  readOnly:true},\n      'E15': {key: 'E15', name: 'Tampons Additionnel 2 Infirmière instrumentiste', value: '0', expr: '0',  readOnly:true},\n      'F15': {key: 'F15', name: 'Peanuts Additionnel 2 Infirmière instrumentiste', value: '0', expr: '0',  readOnly:true},\n      'G15': {key: 'G15', name: 'Cotonoïdes Additionnel 2 Infirmière instrumentiste', value: '0', expr: '0',  readOnly:true},\n      'A16': {key: 'A16', name: '5x5 Rx Compte Additionnel 2', value: '0', expr: '=A14+A15', readOnly:true},\n      'B16': {key: 'B16', name: '10x10 Rx Compte Additionnel 2', value: '0', expr: '=B14+B15', readOnly:true},\n      'C16': {key: 'C16', name: '10x20 Rx Compte Additionnel 2', value: '0', expr: '=C14+C15', readOnly:true},\n      'D16': {key: 'D16', name: 'Tétras Compte Additionnel 2', value: '0', expr: '=D14+D15', readOnly:true},\n      'E16': {key: 'E16', name: 'Tampons Compte Additionnel 2', value: '0', expr: '=E14+E15', readOnly:true},\n      'F16': {key: 'F16', name: 'Peanuts Compte Additionnel 2', value: '0', expr: '=F14+F15', readOnly:true},\n      'G16': {key: 'G16', name: 'Cotonoïdes Compte Additionnel 2', value: '0', expr: '=G14+G15', readOnly:true},\n\n      'A18': {key: 'A18', name: '5x5 Rx Additionnel 3 Infirmière circulante', value: '0', expr: '0',  readOnly:true},\n      'B18': {key: 'B18', name: '10x10 Rx Additionnel 3 Infirmière circulante', value: '0', expr: '0',  readOnly:true},\n      'C18': {key: 'C18', name: '10x20 Rx Additionnel 3 Infirmière circulante', value: '0', expr: '0',  readOnly:true},\n      'D18': {key: 'D18', name: 'Tétras Additionnel 3 Infirmière circulante', value: '0', expr: '0',  readOnly:true},\n      'E18': {key: 'E18', name: 'Tampons Additionnel 3 Infirmière circulante', value: '0', expr: '0',  readOnly:true},\n      'F18': {key: 'F18', name: 'Peanuts Additionnel 3 Infirmière circulante', value: '0', expr: '0',  readOnly:true},\n      'G18': {key: 'G18', name: 'Cotonoïdes Additionnel 3 Infirmière circulante', value: '0', expr: '0',  readOnly:true},\n      'A19': {key: 'A19', name: '5x5 Rx Additionnel 3 Infirmière instrumentiste', value: '0', expr: '0',  readOnly:true},\n      'B19': {key: 'B19', name: '10x10 Rx Additionnel 3 Infirmière instrumentiste', value: '0', expr: '0',  readOnly:true},\n      'C19': {key: 'C19', name: '10x20 Rx Additionnel 3 Infirmière instrumentiste', value: '0', expr: '0',  readOnly:true},\n      'D19': {key: 'D19', name: 'Tétras Additionnel 3 Infirmière instrumentiste', value: '0', expr: '0',  readOnly:true},\n      'E19': {key: 'E19', name: 'Tampons Additionnel 3 Infirmière instrumentiste', value: '0', expr: '0',  readOnly:true},\n      'F19': {key: 'F19', name: 'Peanuts Additionnel 3 Infirmière instrumentiste', value: '0', expr: '0',  readOnly:true},\n      'G19': {key: 'G19', name: 'Cotonoïdes Additionnel 3 Infirmière instrumentiste', value: '0', expr: '0',  readOnly:true},\n      'A20': {key: 'A20', name: '5x5 Rx Compte Additionnel 3', value: '0', expr: '=A18+A19', readOnly:true},\n      'B20': {key: 'B20', name: '10x10 Rx Compte Additionnel 3', value: '0', expr: '=B18+B19', readOnly:true},\n      'C20': {key: 'C20', name: '10x20 Rx Compte Additionnel 3', value: '0', expr: '=C18+C19', readOnly:true},\n      'D20': {key: 'D20', name: 'Tétras Compte Additionnel 3', value: '0', expr: '=D18+D19', readOnly:true},\n      'E20': {key: 'E20', name: 'Tampons Compte Additionnel 3', value: '0', expr: '=E18+E19', readOnly:true},\n      'F20': {key: 'F20', name: 'Peanuts Compte Additionnel 3', value: '0', expr: '=F18+F19', readOnly:true},\n      'G20': {key: 'G20', name: 'Cotonoïdes Compte Additionnel 3', value: '0', expr: '=G18+G19', readOnly:true},\n\n      'A5': {key: 'A5', name: '5x5 Rx 2eme Infirmière circulante', value: '0', expr: '0',  readOnly:true},\n      'B5': {key: 'B5', name: '10x10 Rx 2eme Infirmière circulante', value: '0', expr: '0',  readOnly:true},\n      'C5': {key: 'C5', name: '10x20 Rx 2eme Infirmière circulante', value: '0', expr: '0',  readOnly:true},\n      'D5': {key: 'D5', name: 'Tétras 2eme Infirmière circulante', value: '0', expr: '0',  readOnly:true},\n      'E5': {key: 'E5', name: 'Tampons 2eme Infirmière circulante', value: '0', expr: '0',  readOnly:true},\n      'F5': {key: 'F5', name: 'Peanuts 2eme Infirmière circulante', value: '0', expr: '0',  readOnly:true},\n      'G5': {key: 'G5', name: 'Cotonoïdes 2eme Infirmière circulante', value: '0', expr: '0',  readOnly:true},\n      'A6': {key: 'A6', name: '5x5 Rx 2eme Infirmière instrumentiste', value: '0', expr: '0',  readOnly:true},\n      'B6': {key: 'B6', name: '10x10 Rx 2eme Infirmière instrumentiste', value: '0', expr: '0',  readOnly:true},\n      'C6': {key: 'C6', name: '10x20 Rx 2eme Infirmière instrumentiste', value: '0', expr: '0',  readOnly:true},\n      'D6': {key: 'D6', name: 'Tétras 2eme Infirmière instrumentiste', value: '0', expr: '0',  readOnly:true},\n      'E6': {key: 'E6', name: 'Tampons 2eme Infirmière instrumentiste', value: '0', expr: '0',  readOnly:true},\n      'F6': {key: 'F6', name: 'Peanuts 2eme Infirmière instrumentiste', value: '0', expr: '0',  readOnly:true},\n      'G6': {key: 'G6', name: 'Cotonoïdes 2eme Infirmière instrumentiste', value: '0', expr: '0',  readOnly:true},\n      'A7': {key: 'A7', name: '5x5 Rx Compte après fermeture', value: '0', expr: '=A5+A6', readOnly:true},\n      'B7': {key: 'B7', name: '10x10 Rx Compte après fermeture', value: '0', expr: '=B5+B6', readOnly:true},\n      'C7': {key: 'C7', name: '10x20 Rx Compte après fermeture', value: '0', expr: '=C5+C6', readOnly:true},\n      'D7': {key: 'D7', name: 'Tétras Compte après fermeture', value: '0', expr: '=D5+D6', readOnly:true},\n      'E7': {key: 'E7', name: 'Tampons Compte après fermeture', value: '0', expr: '=E5+E6', readOnly:true},\n      'F7': {key: 'F7', name: 'Peanuts Compte après fermeture', value: '0', expr: '=F5+F6', readOnly:true},\n      'G7': {key: 'G7', name: 'Cotonoïdes Compte après fermeture', value: '0', expr: '=G5+G6', readOnly:true},\n\n      'A8': {key: 'A8', value: '', expr: '=(A1 == A2+A3 ? \"Correct\" : \"Incorr.\" )', readOnly:true},\n      'B8': {key: 'B8', value: '', expr: '=(B1 == B2+B3 ? \"Correct\" : \"Incorr.\" )', readOnly:true},\n      'C8': {key: 'C8', value: '', expr: '=(C1 == C2+C3 ? \"Correct\" : \"Incorr.\" )', readOnly:true},\n      'D8': {key: 'D8', value: '', expr: '=(D1 == D2+D3 ? \"Correct\" : \"Incorr.\" )', readOnly:true},\n      'E8': {key: 'E8', value: '', expr: '=(E1 == E2+E3 ? \"Correct\" : \"Incorr.\" )', readOnly:true},\n      'F8': {key: 'F8', value: '', expr: '=(F1 == F2+F3 ? \"Correct\" : \"Incorr.\" )', readOnly:true},\n      'G8': {key: 'G8', value: '', expr: '=(G1 == G2+G3 ? \"Correct\" : \"Incorr.\" )', readOnly:true},\n      'H8': {key: 'H8', value: '', expr: '=(H1 == H2+H3 ? \"Correct\" : \"Incorr.\" )', readOnly:true},\n      'A9': {key: 'A9', value: '', expr: '=(A1 == A5+A6 ? \"Correct\" : \"Incorr.\" )', readOnly:true},\n      'B9': {key: 'B9', value: '', expr: '=(B1 == B5+B6 ? \"Correct\" : \"Incorr.\" )', readOnly:true},\n      'C9': {key: 'C9', value: '', expr: '=(C1 == C5+C6 ? \"Correct\" : \"Incorr.\" )', readOnly:true},\n      'D9': {key: 'D9', value: '', expr: '=(D1 == D5+D6 ? \"Correct\" : \"Incorr.\" )', readOnly:true},\n      'E9': {key: 'E9', value: '', expr: '=(E1 == E5+E6 ? \"Correct\" : \"Incorr.\" )', readOnly:true},\n      'F9': {key: 'F9', value: '', expr: '=(F1 == F5+F6 ? \"Correct\" : \"Incorr.\" )', readOnly:true},\n      'G9': {key: 'G9', value: '', expr: '=(G1 == G5+G6 ? \"Correct\" : \"Incorr.\" )', readOnly:true},\n      'H9': {key: 'H9', value: '', expr: '=(H1 == H5+H6 ? \"Correct\" : \"Incorr.\" )', readOnly:true},\n      'A13': {key: 'A13', value: '', expr: '=(A1 == A10+A11 ? \"Correct\" : \"Incorr.\" )', readOnly:true},\n      'B13': {key: 'B13', value: '', expr: '=(B1 == B10+B11 ? \"Correct\" : \"Incorr.\" )', readOnly:true},\n      'C13': {key: 'C13', value: '', expr: '=(C1 == C10+C11 ? \"Correct\" : \"Incorr.\" )', readOnly:true},\n      'D13': {key: 'D13', value: '', expr: '=(D1 == D10+D11 ? \"Correct\" : \"Incorr.\" )', readOnly:true},\n      'E13': {key: 'E13', value: '', expr: '=(E1 == E10+E11 ? \"Correct\" : \"Incorr.\" )', readOnly:true},\n      'F13': {key: 'F13', value: '', expr: '=(F1 == F10+F11 ? \"Correct\" : \"Incorr.\" )', readOnly:true},\n      'G13': {key: 'G13', value: '', expr: '=(G1 == G10+G11 ? \"Correct\" : \"Incorr.\" )', readOnly:true},\n      'H13': {key: 'H13', value: '', expr: '=(H1 == H10+H11 ? \"Correct\" : \"Incorr.\" )', readOnly:true},\n      'A17': {key: 'A17', value: '', expr: '=(A1 == A14+A15 ? \"Correct\" : \"Incorr.\" )', readOnly:true},\n      'B17': {key: 'B17', value: '', expr: '=(B1 == B14+B15 ? \"Correct\" : \"Incorr.\" )', readOnly:true},\n      'C17': {key: 'C17', value: '', expr: '=(C1 == C14+C15 ? \"Correct\" : \"Incorr.\" )', readOnly:true},\n      'D17': {key: 'D17', value: '', expr: '=(D1 == D14+D15 ? \"Correct\" : \"Incorr.\" )', readOnly:true},\n      'E17': {key: 'E17', value: '', expr: '=(E1 == E14+E15 ? \"Correct\" : \"Incorr.\" )', readOnly:true},\n      'F17': {key: 'F17', value: '', expr: '=(F1 == F14+F15 ? \"Correct\" : \"Incorr.\" )', readOnly:true},\n      'G17': {key: 'G17', value: '', expr: '=(G1 == G14+G15 ? \"Correct\" : \"Incorr.\" )', readOnly:true},\n      'H17': {key: 'H17', value: '', expr: '=(H1 == H14+H15 ? \"Correct\" : \"Incorr.\" )', readOnly:true},\n      'A21': {key: 'A21', value: '', expr: '=(A1 == A18+A19 ? \"Correct\" : \"Incorr.\" )', readOnly:true},\n      'B21': {key: 'B21', value: '', expr: '=(B1 == B18+B19 ? \"Correct\" : \"Incorr.\" )', readOnly:true},\n      'C21': {key: 'C21', value: '', expr: '=(C1 == C18+C19 ? \"Correct\" : \"Incorr.\" )', readOnly:true},\n      'D21': {key: 'D21', value: '', expr: '=(D1 == D18+D19 ? \"Correct\" : \"Incorr.\" )', readOnly:true},\n      'E21': {key: 'E21', value: '', expr: '=(E1 == E18+E19 ? \"Correct\" : \"Incorr.\" )', readOnly:true},\n      'F21': {key: 'F21', value: '', expr: '=(F1 == F18+F19 ? \"Correct\" : \"Incorr.\" )', readOnly:true},\n      'G21': {key: 'G21', value: '', expr: '=(G1 == G18+G19 ? \"Correct\" : \"Incorr.\" )', readOnly:true},\n      'H21': {key: 'H21', value: '', expr: '=(H1 == H18+H19 ? \"Correct\" : \"Incorr.\" )', readOnly:true},\n    }\n  }\n\n  generateButton = (pos, type, incr=1) => {\n    const state = _.assign({}, this.state)\n    const cellUpdate = this.cellUpdate\n    const setState = this.setState\n    const setResult = this.setResult\n    return (\n      <button className={'btn w-100 ' + (type === 0 ? 'btn-primary':'btn-light' )} onClick={function (){\n        const val = state[pos].value\n        // console.log(state, changeCell, expr)\n        cellUpdate(state, {key:state[pos].key, name:state[pos].name, value: val,expr:val, readOnly:state[pos].readOnly},JSON.stringify(parseInt(val)+incr) )\n        setState(state)\n        let result = {}\n        Object.keys(state).forEach((elm, index) => {\n          if(state[elm].name && state[elm].name.length)\n            result[index] = { name:state[elm].name, answer:state[elm].value}\n        })\n        setResult(result)\n      }}>\n        +\n      </button>\n    )\n  }\n\n  subElement(pos, incr) {\n    const state = _.assign({}, this.state)\n    const cellUpdate = this.cellUpdate\n    const setState = this.setState\n    const setResult = this.setResult\n\n    const val = state[pos].value\n    if (val>= incr) cellUpdate(state, {key:state[pos].key, name:state[pos].name, value: val,expr:val, readOnly:state[pos].readOnly},JSON.stringify(parseInt(val)-incr) )\n    setState(state)\n\n    let result = {}\n    Object.keys(state).forEach((elm, index) => {\n      if(state[elm].name && state[elm].name.length)\n        result[index] = { name:state[elm].name, answer:state[elm].value}\n    })\n    setResult(result)\n  }\n\n\n  generateGrid() {\n    console.log(\"generate grid\")\n    let grid =\n      [\n        [{readOnly:true, colSpan:7, value: <div className={\"bg-dark rounded text-white\"}>1er Compte</div>, className: 'grey'}],\n        [\n          {readOnly:true, value:'Rx: 5x5'},\n          {readOnly:true, value:'10x10'},\n          {readOnly:true, value:'10x20'},\n          {readOnly:true, value:'Tétras'},\n          {readOnly:true, value:'Tamp.'},\n          {readOnly:true, value:'Peanuts'},\n          {readOnly:true, value:'Cotono.'}\n        ],\n        [{readOnly:true, colSpan:7, value: 'Départ', className: 'grey'}],\n        ['A','B','C','D','E','F','G'].map((col) => {return {readOnly:true, value:this.generateButton(col+1, 0 , col==='A'? 5 : col==='B' ? 10 : col==='C' ? 10 : 1), className:'button'}}),\n        ['A','B','C','D','E','F','G'].map((col) => {return this.state[col + 1]}),\n\n        [{readOnly:true, colSpan:7, value: 'Total infirmière circulante', className: 'grey'}],\n        ['A','B','C','D','E','F','G'].map((col) => {return {readOnly:true, value:this.generateButton(col+2, 0 ), className:'button'}}),\n        ['A','B','C','D','E','F','G'].map((col, j) => {return this.state[col + 2]}),\n        [{readOnly:true, colSpan:7, value: 'Total infirmière instrumentiste ou chirurgien', className: 'grey'}],\n        ['A','B','C','D','E','F','G'].map((col) => {return {readOnly:true, value:this.generateButton(col+3, 0 ), className:'button'}}),\n        ['A','B','C','D','E','F','G'].map((col, j) => {return this.state[col + 3]}),\n        [{readOnly:true, colSpan:7, value: <div className={\"iq-bg-primary text-dark\"}>Compte intermédiaire (avant fermeture)</div>, className: 'grey'}],\n        ['A','B','C','D','E','F','G'].map((col, j) => {return this.state[col + 4]}),\n        ['A','B','C','D','E','F','G'].map((col, j) => {return this.state[col + 8]}),\n\n        [{readOnly:true, colSpan:7, value: <div className={\"bg-dark rounded text-white\"}>2ème Compte</div>, className: 'grey'}],\n        [{readOnly:true, colSpan:7, value: 'Total infirmière circulante', className: 'grey'}],\n        ['A','B','C','D','E','F','G'].map((col) => {return {readOnly:true, value:this.generateButton(col+5, 0 ), className:'button'}}),\n        ['A','B','C','D','E','F','G'].map((col, j) => {return this.state[col + 5]}),\n        [{readOnly:true, colSpan:7, value: 'Total infirmière instrumentiste ou chirurgien', className: 'grey'}],\n        ['A','B','C','D','E','F','G'].map((col) => {return {readOnly:true, value:this.generateButton(col+6, 0 ), className:'button'}}),\n        ['A','B','C','D','E','F','G'].map((col, j) => {return this.state[col + 6]}),\n        [{readOnly:true, colSpan:7, value: <div className={\"iq-bg-primary text-dark\"}>Compte total final (après fermeture)</div>, className: 'grey'}],\n        ['A','B','C','D','E','F','G'].map((col, j) => {return this.state[col + 7]}),\n        ['A','B','C','D','E','F','G'].map((col, j) => {return this.state[col + 9]}),\n\n      ]\n\n    if (this.state.number_additional > 0){\n      grid.push(\n        [{readOnly:true, colSpan:7, value: <div className={\"bg-dark rounded text-white\"}>Compte additionnel 1</div>, className: 'grey'}],\n        [{readOnly:true, colSpan:7, value: 'Total infirmière circulante', className: 'grey'}],\n        ['A','B','C','D','E','F','G'].map((col) => {return {readOnly:true, value:this.generateButton(col+10, 0 ), className:'button'}}),\n        ['A','B','C','D','E','F','G'].map((col, j) => {return this.state[col + 10]}),\n        [{readOnly:true, colSpan:7, value: 'Total infirmière instrumentiste ou chirurgien', className: 'grey'}],\n        ['A','B','C','D','E','F','G'].map((col) => {return {readOnly:true, value:this.generateButton(col+11, 0 ), className:'button'}}),\n        ['A','B','C','D','E','F','G'].map((col, j) => {return this.state[col + 11]}),\n        [{readOnly:true, colSpan:7, value: <div className={\"iq-bg-primary text-dark\"}>Compte total additionnel 1</div>, className: 'grey'}],\n        ['A','B','C','D','E','F','G'].map((col, j) => {return this.state[col + 12]}),\n        ['A','B','C','D','E','F','G'].map((col, j) => {return this.state[col + 13]}),\n      )\n    }\n\n    if (this.state.number_additional > 1){\n      grid.push(\n        [{readOnly:true, colSpan:7, value: <div className={\"bg-dark rounded text-white\"}>Compte additionnel 2</div>, className: 'grey'}],\n        [{readOnly:true, colSpan:7, value: 'Total infirmière circulante', className: 'grey'}],\n        ['A','B','C','D','E','F','G'].map((col) => {return {readOnly:true, value:this.generateButton(col+14, 0 ), className:'button'}}),\n        ['A','B','C','D','E','F','G'].map((col, j) => {return this.state[col + 14]}),\n        [{readOnly:true, colSpan:7, value: 'Total infirmière instrumentiste ou chirurgien', className: 'grey'}],\n        ['A','B','C','D','E','F','G'].map((col) => {return {readOnly:true, value:this.generateButton(col+15, 0 ), className:'button'}}),\n        ['A','B','C','D','E','F','G'].map((col, j) => {return this.state[col + 15]}),\n        [{readOnly:true, colSpan:7, value: <div className={\"iq-bg-primary text-dark\"}>Compte total additionnel 2</div>, className: 'grey'}],\n        ['A','B','C','D','E','F','G'].map((col, j) => {return this.state[col + 16]}),\n        ['A','B','C','D','E','F','G'].map((col, j) => {return this.state[col + 17]}),\n      )\n    }\n\n    if (this.state.number_additional > 2){\n      grid.push(\n        [{readOnly:true, colSpan:7, value: <div className={\"bg-dark rounded text-white\"}>Compte additionnel 3</div>, className: 'grey'}],\n        [{readOnly:true, colSpan:7, value: 'Total infirmière circulante', className: 'grey'}],\n        ['A','B','C','D','E','F','G'].map((col) => {return {readOnly:true, value:this.generateButton(col+18, 0 ), className:'button'}}),\n        ['A','B','C','D','E','F','G'].map((col, j) => {return this.state[col + 18]}),\n        [{readOnly:true, colSpan:7, value: 'Total infirmière instrumentiste ou chirurgien', className: 'grey'}],\n        ['A','B','C','D','E','F','G'].map((col) => {return {readOnly:true, value:this.generateButton(col+19, 0 ), className:'button'}}),\n        ['A','B','C','D','E','F','G'].map((col, j) => {return this.state[col + 19]}),\n        [{readOnly:true, colSpan:7, value: <div className={\"iq-bg-primary text-dark\"}>Compte total additionnel 3</div>, className: 'grey'}],\n        ['A','B','C','D','E','F','G'].map((col, j) => {return this.state[col + 20]}),\n        ['A','B','C','D','E','F','G'].map((col, j) => {return this.state[col + 21]}),\n      )\n    }\n\n    console.log(grid)\n    return grid\n  }\n\n  validateExp(trailKeys, expr) {\n    let valid = true;\n    const matches = expr.match(/[A-Z][1-9]+/g) || [];\n    matches.map(match => {\n      if(trailKeys.indexOf(match) > -1) {\n        valid = false\n      } else {\n        valid = this.validateExp([...trailKeys, match], this.state[match].expr)\n      }\n    })\n    return valid\n  }\n\n  computeExpr(key, name, expr, scope) {\n    let value = null;\n    if(expr.charAt(0) !== '=') {\n      return {className: '', name:name, value: expr, expr: expr};\n    } else {\n      try {\n        value = mathjs.evaluate(expr.substring(1), scope)\n      } catch(e) {\n        value = null\n      }\n\n      if(value !== null && this.validateExp([key], expr)) {\n        const class_name = ' ' + (value ==='Incorr.' ? 'red': value === 'Correct' ? 'green' : '')\n        return {className: class_name, name:name, value:value, expr:expr}\n      } else {\n        return {className: 'error', name:name, value: 'error', expr: ''}\n      }\n    }\n  }\n\n  cellUpdate(state, changeCell, expr) {\n    console.log(state,changeCell, expr)\n    const scope = _.mapValues(state, (val) => isNaN(val.value) ? 0 : parseFloat(val.value))\n    const updatedCell = _.assign({}, changeCell, this.computeExpr(changeCell.key, changeCell.name, expr, scope))\n    console.log(updatedCell)\n    state[changeCell.key] = updatedCell\n\n    _.each(state, (cell, key) => {\n      if(cell.expr && cell.expr.charAt(0) === '=' && cell.expr.indexOf(changeCell.key) > -1 && key !== changeCell.key) {\n        state = this.cellUpdate(state, cell, cell.expr)\n      }\n    })\n    return state\n  }\n\n  onCellsChanged(changes) {\n    console.log(changes)\n    const state = _.assign({}, this.state)\n    changes.forEach(({cell, value}) => {\n      this.cellUpdate(state, cell, value)\n    })\n    this.setState(state)\n\n    let result = {}\n    Object.keys(state).forEach((elm, index) => {\n      if(state[elm].name && state[elm].name.length)\n        result[index] = { name:state[elm].name, answer:state[elm].value}\n    })\n    this.setState(result)\n\n  }\n\n  switchMode () {\n    const state = _.assign({}, this.state)\n    const numb_array = [1,2,3,5,6,10,11,14,15,18,19]\n    const letter_array = ['A', 'B', 'C', 'D', 'E', 'F', 'G']\n    if(state.mode === false){\n      state.mode = true\n      numb_array.forEach((row, i) =>\n        letter_array.map((col, j) => {\n          state[col + row].readOnly = false\n        })\n      )\n    }\n    else{\n      state.mode = false\n      numb_array.forEach((row, i) =>\n        letter_array.map((col, j) => {\n          state[col + row].readOnly = true\n        })\n      )\n    }\n    this.setState(state)\n  }\n\n  addAdditional () {\n    const state = _.assign({}, this.state)\n    state.number_additional += 1\n    this.setState(state)\n  }\n\n  render() {\n\n    const cols = ['5x5 Rx', '10x10Rx', '10x20Rx', 'Tétras', 'Tampons', 'Peanuts', 'Cotono.',]\n\n    return (\n      <div>\n        <div className={\"sheet-container\"}>\n          <ReactDataSheet\n            data={this.generateGrid()}\n            valueRenderer={(cell) => cell.value}\n            dataRenderer={(cell) => cell.expr}\n            onCellsChanged={this.onCellsChanged}\n          />\n          <div className={\"bg-white text-dark  text-center p-2 border-bottom\"}>\n            <label className={\"m-0\"}>\n              Authoriser la modification &nbsp; <input type=\"checkbox\" checked={this.state.mode} onChange={this.switchMode}/>\n            </label>\n          </div>\n          <div className={\"bg-white text-dark  text-center p-2 border-bottom\"}>\n            <label className={\"m-0\"}>\n              Ajouter compte additionnel (3 max) &nbsp; <button className={\"btn btn-warning btn-round mb-1 py-0\"} type=\"button\" onClick={this.addAdditional}> + </button>\n            </label>\n          </div>\n          <div className={\"bg-white text-dark  text-center p-2\"}>\n            Le compte d'un paquet n'est pas correct ?\n            <div className=\"dropdown text-center mt-2\">\n              <button className=\"btn btn-warning dropdown-toggle  \" type=\"button\" id=\"dropdownMenuButton1\"\n                      data-toggle=\"dropdown\" aria-expanded=\"false\">\n                Rejeter un paquet\n              </button>\n              <ul className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton1\">\n                {['A','B','C','D','E','F','G'].map((col, index) => (\n                  <li key={index}><label className=\"dropdown-item \" onClick={() => this.subElement(col+1, col==='A'? 5 : col==='B' ? 10 : col==='C' ? 10 : 1)}>\n                    {cols[index]}</label>\n                  </li>\n                ))}\n              </ul>\n            </div>\n          </div>\n        </div>\n      </div>\n\n    )\n  }\n\n}\n","import React, {useEffect, useState} from \"react\";\nimport * as utils from \"../utils/utils\";\nimport * as temp_data from \"../utils/temporary_data\";\nimport axios from \"axios\";\nimport * as calls from \"../calls\";\n\n/*Component for the selection of the current patient\n* -patientList : list of all patients\n* -currentPatient : current patient state variable\n* -setCurrentPatient: current patient set function\n* */\nfunction UserBox ({props}) {\n\n  let {onNewScanResult, loginErrorCode, isLogin} = props\n  let [isWaitingLogin, setIsWaitingLogin] = useState(false)\n\n  function debug_allow_user() {\n    setIsWaitingLogin(true)\n    onNewScanResult(\"theo.stassen@hepl.be_Test123.\")\n  }\n\n\n\n  /*Return the patient box elements*/\n  return (\n    <div className=\"container p-2 mt-2\">\n      {isWaitingLogin? <div className=\"d-flex justify-content-center m-2\">\n        <div className=\"spinner-border\" role=\"status\">\n          <span className=\"sr-only\">Loading...</span>\n        </div>\n      </div> : null\n      }\n      <div className={\"iq-card bg-white col-sm-12 mx-auto mb-0 p-2 text-center shadow-sm border justify-content-center\"}>\n        <div className=\"card-body col-sm-6 mx-auto\">\n          <h3 className=\"card-title text-dark\"> Identification de l'utilisateur </h3>\n\n          {loginErrorCode ?\n            <div className={\"iq-card mx-auto text-center p-2 shadow-sm border justify-content-center mt-2\"}>\n              <h6 className=\"card-text text-danger m-0 p-0\"> <div data-icon=\"&#xe063;\" className=\"icon text-danger\"> Aucun utilisateur n'est trouvé, problème de connexion (\"{loginErrorCode}\") </div></h6>\n            </div>\n          : null}\n          <h4 className=\"card-title text-secondary mt-4 mb-0\">Scannez le QR code correspondant</h4>\n          <h4 className=\"card-title text-secondary\"><div data-icon=\"k\" className=\"icon\"></div></h4>\n\n          <button className={\"btn btn-outline-primary btn-round m-2\"} onClick={() =>debug_allow_user()}>Passer Qr Code</button>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport {UserBox}","import React, {useEffect, useReducer, useState} from \"react\";\nimport axios from \"./axios\";\nimport \"./styles/App.css\";\nimport * as temp_data from \"./utils/temporary_data.js\";\nimport * as utils from \"./utils/utils.js\";\nimport {AppNavbar} from \"./components/navbar.js\";\nimport {CreateBox} from \"./components/creation_box.js\"\nimport {Credits} from \"./components/credits.js\"\nimport {PatientBox} from \"./components/patient_box.js\"\nimport {ChecklistItem} from \"./components/item.js\"\nimport {SectionTitle} from \"./components/section_title.js\";\nimport {ValidationButton} from \"./components/validation_button\";\nimport {AlertsBox} from \"./components/alerts_box\";\nimport {Title} from \"./components/title\";\nimport {Home} from \"./components/home\";\nimport * as calls from \"./calls\";\nimport {CountingTable} from \"./components/couting_table\";\nimport QrcodeScanner from \"./components/qrcodescanner\";\nimport {UserBox} from \"./components/user_box\";\nimport {Review} from \"./components/review\";\nimport {Login} from \"./components/login\";\nimport {Link} from \"react-router-dom\";\n\n/*Main Function\n* -Declare all the variables needed in different component\n* -Return the skeleton of the application\n* (Navbar, UserBox, PatientBox, Home, Title, ChecklistItem(s), CreateBox, Credits, Scanners)\n* */\n\nexport default function App({props}) {\n\n\n  /******* Variables declaration and initialization ********/\n\n  const is_local = false\n\n  /*Function needed (at the moment), to force the components to update when needed*/\n  const [, forceUpdate] = useReducer((x) => x + 1, 0);\n\n  /*Main state variables :\n  * -userList : List of all the users\n  * -userCode : code of the current user\n  * -currentUser : current user\n  * -patientList : List of all the patient\n  * -currentPatient : current patient\n  * -checklistId : Id of the current checklist\n  * -pathId : Id of the current patient path (also named journey)\n  * -checklistList : List containing the different checklists of the current patient path\n  * -checklist : current checklist (the one that is shown)\n  * -currentQuestion : current question selected in creation mode\n  * -result : dict containing the results of the current checklist filling\n  * -pbresult : dict containing the results of the current checklist filling, but only the problematic one's\n  * -isPreCheckDone : array containing the id's of the questions for which the precheck as been made\n  * -warningId : id of the first question of the current checklist not filled after validation button has been pushed\n  * */\n  let [loginInfo, setLoginInfo] = useState(null)\n  let [isLogin, setIsLogin] = useState(false)\n  let [currentUser, setCurrentUser] = useState(null)\n  let [patientList, setPatientList ] = useState([])\n  let [currentPatient, setCurrentPatient] = useState(null)\n  let [checklistId, setChecklistId] = useState(-1)\n  let [pathId, setPathId] = useState(-1)\n  let [checklistList, setChecklistList] = useState(null)\n  let [checklist, setChecklist] = useState(null)\n  let [currentQuestion, setCurrentQuestion] = useState(null)\n  let [alertList,setAlertList] = useState({})\n  let [result, setResult] = useState({})\n  let [pbresult, setPbResult] = useState({})\n  let [visibleList, setVisibleList] = useState([])\n  let [isPreCheckDone, setIsPreCheckDone] = useState([])\n  let [warningId, setWarningId] = useState(0)\n\n\n  /* Mode state variables\n  * -homeMode : mode where we show the home component\n  * -creationMode : mode where we show the creation box component\n  * -creditMode : mode where we show the site credits\n  * -commentMode : mode where the question's comments are shown and not hidden\n  * -debugMode : mode where the question's dynamism is desactivated, all the checklist question's are shown7\n  * -forceValidationMode : mode where the user can validate a checklist without filling all questions\n  * -precheckMode : mode where the system of question precheck is active\n  * */\n  let [homeMode, setHomeMode] = useState(true)\n  let [creationMode, setCreationMode] = useState(false)\n  let [creditMode, setCreditMode] = useState(false)\n  let [commentMode, setCommentMode] = useState(true)\n  let [debugMode, setDebugMode] = useState(false)\n  let [forceValidationMode, setForceValidationMode] = useState(false)\n  let [precheckMode, setPrecheckMode] = useState(true)\n  let [userValidated, setUserValidated] = useState(false)\n  let [reviewMode, setReviewMode] = useState(false)\n\n  /* Signature component variables\n  * -trimmedCanvasUrl : variable containing the canvas url data of the signature\n  * */\n  let [trimmedCanvasUrl, setTrimmedCanvasUrl] = useState(null)\n\n  /* Scanner component variables\n  * -scanValue : string value of the codebar scanned,\n  * -scanValueError : string value of the codebar scanned, if it is not correct\n  * */\n  let [scanValue, setScanValue] = useState(null)\n  let [scanValueError, setScanValueError] = useState(null)\n\n\n  /* Initial set of isDict state variable\n  * -init_dict : dict containing {0:true} for each possible answer (yes, no, etc), defined in utils.js\n  * -isDict : dict containing, for each possible response defined in utils.js,\n  * a dict containing the questions id's that have this response checked at this current time, for the current checklist\n  * */\n  let init_dict = {}\n  utils.list_possible_answer.forEach(function (answer){init_dict[answer]={0:true}})\n  const [isDict, setIsDict] = useState(init_dict)\n\n  /*\n  Fill in of numDict, containing all the numerical data, extracted from the currentPatient variable, and computation of\n  the age variable from date of birth\n  * */\n  let numDict = {}\n  if (currentPatient){\n    for (const [key, value] of Object.entries(currentPatient)) {\n      if (typeof value === \"object\"){\n        for (const [key_, value_] of Object.entries(value)){\n          numDict[key_] = value_\n        }\n      }\n      else{\n        numDict[key] = value\n      }\n    }\n    numDict[\"age\"] = utils.date_to_age(numDict[\"dateofbirth\"])\n    console.log(\"numdict\", numDict)\n  }\n\n\n  /* Initialization function, activated only when the App component is created, at site opening,\n  * -> Get the different lists needed at start (users, patients)\n  * */\n  let [loginErrorCode, setLoginErrorCode] = useState(null)\n  useEffect(() => {\n    onNewScanResult = onNewScanResult.bind(this);\n\n    // if (!is_local) calls.postconnection(is_local,loginInfo,setLoginInfo, setIsLogin, setLoginErrorCode)\n    // else setIsLogin(true)\n\n    console.log(navigator)\n  }, [])\n\n\n\n\n  /******* Main functions declaration ********/\n\n  /* Reset the state variables who are dependent of the current checklist\n  * */\n  function reset (){\n    setWarningId(0)\n    setResult({})\n    setPbResult({})\n    let init_dict_ = {}\n    utils.list_possible_answer.forEach(function (answer){init_dict_[answer]={0:true}})\n    setIsDict(init_dict_)\n    setIsPreCheckDone([])\n  }\n\n  /* Function that swap the current checklist to the checklist with checklist_id and resets\n  * state variables that depends of the current checklist\n  * */\n  let [currentEvals, setCurrentEvals] = useState(null)\n  let [checklistErrorCode, setChecklistErrorCode] = useState(null)\n  const swapchecklist = (checklist_id) => {\n    calls.getchecklist(is_local, checklist_id, creationMode, checklist, setChecklist, checklistList, alertList, setAlertList, pbresult, result, checklistId, setCreationMode, setChecklistId, setCurrentQuestion, setHomeMode, reset, pathId, currentEvals, setCurrentEvals, setChecklistErrorCode)\n    return checklist\n  }\n\n  /* Create a table containing results, to be exportable as csv file or in a post call with other information\n  * identiying the checklist completion\n  * */\n  function import_result () {\n    let result_table_csv = [[\"id\", \"name\", \"answer\", \"is_problematic\"]]\n    for (const [key, value] of Object.entries(result)){\n      result_table_csv.push([key, value.name, value.answer, pbresult[key] ? \"yes\" : \"no\"])\n    }\n    let result_table = []\n    for (const [key, value] of Object.entries(result)){\n      result_table.push({item_id:key, name:value.name, importance:value.importance, answer:JSON.stringify(value.answer), is_pb: !!pbresult[key]})\n    }\n    let is_blocking = result_table.some(item => {return item.importance === 1 && item.is_pb === true})\n\n    let final_result = {\n      checklist_id: checklistId,\n      journey_id:pathId,\n      user_id:currentUser.id,\n      patient_id:currentPatient.id,\n      answers : result_table,\n      is_blocking : is_blocking}\n    console.log(result, final_result)\n\n    calls.postevaluation(is_local,final_result)\n    // let csvGenerator = new utils.CsvGenerator(result_table_csv, 'my_csv.csv');\n    // csvGenerator.download(true);\n\n  }\n\n  /* Function that switch current patient the patient with id\n  * */\n  function switchPatient (id) {\n    calls.getpatient(is_local,id,setCurrentPatient,setScanValueError, patientList)\n  }\n\n  /* Function that switch current user to the user with id\n* */\n  function switchUser (id) {\n    calls.getuser(is_local, id, setCurrentUser, setScanValueError)\n  }\n\n  /* Function triggered after the scan of a user/patient code\n  * */\n  let [journeyErrorCode, setJourneyErrorCode] = useState(null)\n  function onNewScanResult(decodedText) {\n    console.log(decodedText, scanValue)\n\n    window.scrollTo(0, 0);\n    if (!isLogin){\n      const login_info = {username:decodedText.split(\"_\")[0], password: decodedText.split(\"_\")[1]}\n      setLoginInfo(login_info)\n      if (!is_local) calls.postconnection(is_local,login_info,setLoginInfo, setIsLogin, setLoginErrorCode, switchUser, setCurrentUser)\n      else setIsLogin(true)\n\n    }\n    else{\n      if (currentPatient.patient_code === decodedText) {\n        calls.getjourney(is_local, currentPatient, setCurrentPatient, setPathId,setChecklistList, setJourneyErrorCode)\n      } else {\n        setChecklistList([{}])\n        setScanValueError(decodedText)\n        setChecklistList([])\n      }\n    }\n  }\n\n\n  /******* Variables preparation for the question item recursive first call ********/\n\n\n  /* Filter (check of the cond's) of the checklist  initial values (i.e. the questions at the first level of the tree)*/\n  let values = null\n  visibleList = []\n  if (checklist && checklist.values) {\n    values = values_filter_cond(checklist.values, isDict, numDict, creationMode)\n    values.forEach(value => value.check.length ? visibleList.push(value.id): null)\n  }\n\n  let dicts = [isDict, setIsDict, numDict, result, pbresult, setResult, setPbResult, isPreCheckDone, setIsPreCheckDone, visibleList, setVisibleList, debugMode, commentMode ]\n\n  let next_scan_item = values ? values.filter(item => !result[item.id] && item.check.includes(\"scan\")) : null\n  let next_scan_item_id =  next_scan_item && next_scan_item.length ? next_scan_item[0].id : null\n\n\n  /******* Main return call ********/\n\n  console.log(\"current user\", currentUser)\n  console.log(checklistErrorCode)\n\n  /* Return the different components.\n  * We define also the background and a hidden bottom navbar to avoid problems with the background vertical limits\n  * Content (in term of components) :\n  * - Navbar\n  * ~ Credits (if credit mode)\n  * ~ Main page :\n  *   ~ Creation box (if create mode)\n  *   ~ Menu sections (if home mode) :\n  *     ~ User / Patient selection (if no checklist list already set) :\n  *       ~ User selection and scanner (if no user already set)\n  *       ~ Patient selection (if user already set) :\n  *         ~ Patient scanner (if patient selected)\n  *     ~ Home section, showing the list of checklists (if checklist list already set)\n  *   ~ Main Checklist section (if not home mode) :\n  *     ~ Title section, presenting checklist (if not create mode)\n  *     ~ Alert section (if not create mode)\n  *     ~ Checklist content section (if checklist variable set) :\n  *       ~ Normal Checklist (if checklist.counter false)\n  *         - Checklist Items\n  *       ~ Counter Checklist (if checklist.counter true)\n  *     ~ Validation section (if not create mode)\n  */\n  return (\n    <div>\n      <div className=\"min-vh-100 content-page bg-color-custom\">\n        <div>\n          <Link to=\"/credits\">Home</Link>\n          {<AppNavbar props = {{\n            creationMode,\n            setCreationMode,\n            creditMode,\n            setCreditMode,\n            setCommentMode,\n            commentMode,\n            setDebugMode,\n            debugMode,\n            trimmedCanvasUrl,\n            checklistList,\n            swapchecklist,\n            reset,\n            forceUpdate,\n            import_result,\n            result,\n            setCurrentQuestion,\n            checklist,\n            homeMode,\n            setHomeMode,\n            setChecklistList,\n            setScanValue,\n            setCurrentPatient,\n            setScanValueError,\n            setCurrentUser,\n            setUserValidated,\n            is_local,\n            currentPatient,\n            setPathId\n          }}/>}\n          <div>\n            {creditMode ?\n              <Credits props={null}/>\n              :\n              <div>\n                {creationMode ?\n                  <CreateBox props={{\n                  checklist,\n                  setChecklist,\n                  checklistList,\n                  setChecklistList,\n                  checklistId,\n                  setChecklistId,\n                  forceUpdate,\n                  currentQuestion,\n                  setCurrentQuestion,\n                  reset,\n                  is_local\n                }} />\n                : null}\n                <div>{homeMode ?\n                  <div>{!(checklistList && checklistList.length || journeyErrorCode)  ?\n                    <div>{!isLogin ?\n                      <div>\n                        <UserBox props={{\n                          onNewScanResult,\n                          loginErrorCode,\n                          isLogin\n                        }} />\n                        <div className={\"container p-2\"}>\n                          <QrcodeScanner fps={10}\n                                         qrbox={250}\n                                         disableFlip={false}\n                                         qrCodeSuccessCallback={onNewScanResult}\n                                         scanValueError={scanValueError}\n                                         scanValue={null}\n                                         is_home={true}/>\n                        </div>\n                      </div>\n                      :\n                      <div>\n                        <PatientBox props={{\n                          currentPatient,\n                          setCurrentPatient,\n                          setIsDict,\n                          setResult,\n                          setIsPreCheckDone,\n                          forceUpdate,\n                          patientList,\n                          switchPatient: switchPatient,\n                          setChecklistList,\n                          setPathId,\n                          onNewScanResult,\n                          is_local,\n                          numDict,\n                          setPatientList\n                        }} />\n                        {currentPatient ?\n                          <div key={currentPatient.id} className={\"container p-2\"}>\n                            <QrcodeScanner fps={10}\n                                           qrbox={250}\n                                           disableFlip={false}\n                                           qrCodeSuccessCallback={onNewScanResult}\n                                           scanValueError={scanValueError}\n                                           scanValue={null}\n                                           is_home={true}/>\n                          </div> : null}\n                      </div>\n                    }</div>\n                    :\n                    <Home checklistList={checklistList}\n                          swapchecklist={swapchecklist}\n                          scanValue={scanValue}\n                          currentPatient={currentPatient}\n                          is_local={is_local}\n                          currentUser={currentUser}\n                          pathId={pathId}\n                          numDict={numDict}\n                          journeyErrorCode={journeyErrorCode}/>\n                  }</div>\n                  :\n                  <div id={\"title\"}>\n                    {!creationMode ? <Title checklistList={checklistList}\n                                            checklistId={checklistId}\n                                            numDict={numDict}\n                                            currentPatient={currentPatient}\n                                            forceValidationMode={forceValidationMode}\n                                            setForceValidationMode={setForceValidationMode}\n                                            is_local={is_local}/> : null}\n                    {!creationMode ? <div>\n                      {alertList && Object.values(alertList).length ? <AlertsBox alertList={alertList}/> : null}\n                    </div> : null}\n\n                    {checklistErrorCode === null && checklist ? <div>\n                      {checklist.type !== 0 ? // checklist.type !== 0\n                        <div className={\"container p-0 border-bottom border shadow-sm rounded \"}>\n                          {values ? values.map((i, index) => (\n                              <div>\n                                {i.section_title ? <SectionTitle section_title={i.section_title} index={index}/> :\n                                  <div className={\"bg-primary \" + (index ? \" border-top\" : \"\")}/>}\n                                <div className=\n                                    {\"pb-3 px-3 pt-3 \" +\n                                      (index === values.length - 1 ? \"rounded rounded-0-top \" : null) +\n                                      (index || i.section_title ? \"\" : \" rounded rounded-0-bottom \") +\n                                      (i.importance ? \" iq-bg-danger\" : \" bg-color-custom\")}>\n                                  <ChecklistItem key={JSON.stringify(checklistId) + i.id} init_items={checklist} item={i}\n                                                 dicts={dicts}\n                                                 forceUpdate={forceUpdate} values_filter_cond={values_filter_cond}\n                                                 creationMode={creationMode}\n                                                 currentId={currentQuestion ? currentQuestion.id : null}\n                                                 warningId={warningId} precheckMode={precheckMode}\n                                                 is_root={true} alertList={alertList}\n                                                 scan_bookmark={next_scan_item_id === i.id}\n                                                 checklist_name = {checklist.name}\n                                                 is_local = {is_local}\n                                  />\n                                </div>\n                              </div>))\n                            :\n                            null}\n                        </div>\n                        :\n                        <CountingTable result={result} setResult={setResult}/>\n                      }</div>\n                    :\n                    <div className={\"container iq-card bg-white mx-auto mb-0 mt-2 p-2 text-center shadow-sm border justify-content-center \"}>\n                      <div className={\"card-body iq-card mx-auto my-3 text-center p-2 shadow-sm border justify-content-center\"}>\n                        <h6 className=\"card-text text-danger m-0 p-0\"> <div data-icon=\"&#xe063;\" className=\"icon text-danger\"> La checklist est introuvable, problème de connexion (\"{checklistErrorCode}\") </div></h6>\n                      </div>\n                    </div>\n                    }\n\n                    {!creationMode && checklistErrorCode === null && checklist ? <ValidationButton visibleList={visibleList}\n                                                       result={result}\n                                                       import_result={import_result}\n                                                       checklist={checklist}\n                                                       setWarningId={setWarningId}\n                                                       checklistList={checklistList}\n                                                       setChecklistList={setChecklistList}\n                                                       checklistId={checklistId}\n                                                       forceValidationMode={forceValidationMode}/>   : null }\n                  </div>\n                }</div>\n              </div>\n            }\n          </div>\n        </div>\n\n        <div>\n          <nav className=\"navbar\">\n            <label className=\"navbar-brand\">{null}</label>\n          </nav>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n/* Filter the values array (containing all the roots question of the checklist)\n* by keeping only the values that validates all conditions\n* We check all the response condition of the item\n* (for ex, if item.cond contains {\"yes\": [1,4]}, we check if isDict[\"yes\"] contains 1 and 4 )\n* + all num conditions check\n*/\nfunction values_filter_cond(values, isDict, numDict, creationMode, debugMode) {\n\n  return debugMode ? values : values.filter( item=>\n      Object.keys(item.cond).every(\n        function(answer){\n          return (answer === \"num\" || !item.cond[answer] || item.cond[answer].every(\n            function(elm) {return isDict[answer][elm];}\n          ))\n        }\n      )\n      && (creationMode || item.cond.num.every(\n        function(elm) {\n          return !numDict[elm.var] || utils.simple_operation(numDict[elm.var],elm.op, elm.val) }\n      ))\n    )\n}\n\n\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { BrowserRouter, Routes, Route } from \"react-router-dom\";\nimport App from \"./App\";\nimport {Credits} from \"./components/credits\";\nimport {useState} from \"react\";\n\nfunction Main() {\n\n  let [test, setTest] = useState(\"bonjour\")\n  return(\n    <BrowserRouter>\n      <Routes>\n        <Route path=\"/\" element={<App props={{test}}/>}/>\n        <Route path=\"/credits\" element={<Credits props={{test, setTest}}/>}/>\n      </Routes>\n    </BrowserRouter>\n  )\n}\nexport {Main}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.css';\nimport App from './App';\nimport reportWebVitals from './generated/reportWebVitals';\nimport {Main} from \"./Main\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Main />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}