(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{11:function(e,n,t){},12:function(e){e.exports=JSON.parse("{}")},13:function(e,n,t){},15:function(e,n,t){"use strict";t.r(n);var c=t(3),a=t.n(c),i=t(6),s=t.n(i),d=(t(11),t(2)),r=t(1),o=t(4),l=(t(12),t(13),t(0)),u=[{id:-1,num_values:[{var:"Intubation_difficile",val:1},{var:"Diab\xe9tique",val:1}],values:[{id:1,name:"Intubation Difficile ? ",cond:{yes_id:[0],no_id:[0],num:[]},check:["yes","no","?"],pre_check:{if:[{var:"Intubation_difficile",op:"=",val:1}],then:"yes"},values:[{id:2,name:"A confirmer l'incubation difficile",cond:{yes_id:[0],no_id:[0],idk_id:[1],num:[]},check:["yes","no"],values:[]},{id:3,name:"2\xe8me Anesth\xe9siste",cond:{yes_id:[1],no_id:[0],num:[]},check:["yes","no"],values:[]},{id:4,name:"2\xe8me Infirmi\xe8re",cond:{yes_id:[1],no_id:[0],num:[]},check:["yes","no"],values:[]},{id:5,name:"Mat\xe9riel",cond:{yes_id:[1],no_id:[0],num:[]},check:[],values:[{id:6,name:"Glidescope",cond:{yes_id:[1],no_id:[0],num:[]},check:["yes","no"],values:[]},{id:7,name:"Laryngoscope",cond:{yes_id:[1],no_id:[0],num:[]},check:["yes","no"],values:[]},{id:8,name:"Set Trach\xe9o",cond:{yes_id:[1],no_id:[0],num:[]},check:["yes","no"],values:[]}]},{id:9,name:"Protocole",cond:{yes_id:[1],no_id:[0],num:[]},check:["yes","no"],values:[]}]},{id:10,name:"Est-elle susceptible d'\xeatre enceinte ?",comment:"(Les donn\xe9es patient nous indiquent que la patiente est \xe2g\xe9e entre 15 et 60 ans)",cond:{yes_id:[0],no_id:[0],num:[]},check:["yes","no"],values:[{id:11,name:"Arr\xeat des r\xeagles depuis ?",cond:{yes_id:[10],no_id:[0],num:[]},check:["text"],values:[]},{id:12,name:"Test disponible ?",cond:{yes_id:[10],no_id:[0],num:[]},check:["yes","no"],values:[{id:13,name:"N\xe9gatif ?",cond:{yes_id:[12],no_id:[0],num:[]},check:["yes","no"],values:[]},{id:14,name:"Faire test maintenant ?",cond:{yes_id:[0],no_id:[12],num:[]},check:["yes","no"],values:[]},{id:15,name:"Postposer l'intervention ?",cond:{yes_id:[0],no_id:[12],num:[]},check:["yes","no"],values:[]}]}]},{id:16,name:"Le patient est-il diab\xe9tique ?",cond:{yes_id:[0],no_id:[0],num:[]},check:["yes","no"],pre_check:{if:[{var:"Diab\xe9tique",op:"=",val:1}],then:"yes"},values:[{id:17,name:"Traitement Oral ?",cond:{yes_id:[16],no_id:[0],num:[]},check:["yes","no"],values:[{id:18,name:"Arr\xeat des m\xe9dicaments ?",cond:{yes_id:[17],no_id:[0],num:[]},check:["yes","no"],values:[]}]},{id:19,name:"Traitement par piqure \xe0 insuline ?",cond:{yes_id:[16],no_id:[17],num:[]},check:["yes","no"],values:[{id:20,name:"Derni\xe8re piqure le ? ",cond:{yes_id:[19],no_id:[0],num:[]},check:["text"],values:[]}]}]}]}],m=String.fromCharCode(160);function j(e,n,t,c){this.dataArray=e,this.fileName=n,this.separator=t||",",this.addQuotes=!!c,this.addQuotes&&(this.separator='"'+this.separator+'"'),this.getDownloadLink=function(){var e=this.separator,n=this.addQuotes,t="data:text/csv;charset=utf-8",c=this.dataArray.map((function(t){var c=t.join(e);return c.length&&n?'"'+c+'"':c})).join("\n");return"function"===typeof btoa?(t+=";base64",c=btoa(c)):c=encodeURIComponent(c),this.downloadLink=this.downloadLink||t+","+c},this.getLinkElement=function(e){var n=this.getDownloadLink(),t=this.fileName;return this.linkElement=this.linkElement||function(){var c=document.createElement("a");return c.innerHTML=e||"",c.href=n,c.download=t,c}(),this.linkElement},this.download=function(e){var n=this.getLinkElement();n.style.display="none",document.body.appendChild(n),n.click(),e&&document.body.removeChild(n)}}var b=function(e,n,t){switch(n){case">":return e>t;case"<":return e<t;case"=":return e===t;default:return!0}};function h(){var e=Object(c.useState)({}),n=Object(o.a)(e,2),t=n[0],a=n[1];var i=Object(l.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light border-bottom border-light shadow-sm mb-4",children:Object(l.jsxs)("div",{className:"container-fluid",children:[Object(l.jsx)("a",{className:"navbar-brand",href:"#",children:Object(l.jsx)("text",{className:"text-custom text-title",children:"SLS"})}),Object(l.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(l.jsx)("span",{className:"navbar-toggler-icon"})}),Object(l.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNavAltMarkup",children:Object(l.jsxs)("div",{className:"navbar-nav",children:[Object(l.jsx)("a",{className:"nav-link active","aria-current":"page",href:"#",children:Object(l.jsx)("text",{className:"text-custom",children:"Page d'accueil"})}),Object(l.jsx)("a",{className:"nav-link",href:"#",children:Object(l.jsx)("text",{className:"text-custom",children:"Liste des checklists disponibles"})}),Object(l.jsx)("a",{className:"nav-link",href:"#",children:Object(l.jsx)("text",{className:"text-custom",onClick:function(){for(var e=[["id","name","answer"]],n=0,c=Object.entries(t);n<c.length;n++){var a=Object(o.a)(c[n],2),i=a[0],s=a[1];e.push([i,s.name,s.answer])}console.log(e),new j(e,"my_csv.csv").download(!0)},children:"Importer la checklist"})}),Object(l.jsx)("a",{className:"nav-link disabled",children:Object(l.jsx)("text",{className:"text-custom",children:"A propos"})})]})})]})}),s=Object(c.useState)({0:!0,1:!1,2:!1,3:!1,4:!1,5:!1,6:!1,7:!1,8:!1,9:!1,10:!1,11:!1}),d=Object(o.a)(s,2),r=d[0],m=d[1],b=Object(c.useState)({0:!0,1:!1,2:!1,3:!1,4:!1,5:!1,6:!1,7:!1,8:!1,9:!1,10:!1,11:!1}),h=Object(o.a)(b,2),v=h[0],p=h[1],x=Object(c.useState)({0:!0,1:!1,2:!1,3:!1,4:!1,5:!1,6:!1,7:!1,8:!1,9:!1,10:!1,11:!1}),f=Object(o.a)(x,2),k=f[0],y=f[1],_=u.find((function(e){return-1===e.id})).num_values,g={};_.forEach((function(e){g[e.var]=e.val}));var N=u[0].values,w=[r,m,k,y,v,p,g,t,a];return Object(l.jsxs)("div",{className:"bg-color-custom",children:[i,N.map((function(e){return Object(l.jsx)(O,{init_items:u[0],item:e,dicts:w},e.id)}))]})}function v(e,n,t,c,a,i,s,o){console.log(n,t,o);var l=!1;n.cond&&(1===o?n.cond.yes_id.includes(t)&&(c((function(e){return Object(r.a)(Object(r.a)({},e),{},Object(d.a)({},n.id,!1))})),a((function(e){return Object(r.a)(Object(r.a)({},e),{},Object(d.a)({},n.id,!1))})),i((function(e){return Object(r.a)(Object(r.a)({},e),{},Object(d.a)({},n.id,!1))})),delete s[n.id],l=!0):2===o?n.cond.no_id.includes(t)&&(c((function(e){return Object(r.a)(Object(r.a)({},e),{},Object(d.a)({},n.id,!1))})),a((function(e){return Object(r.a)(Object(r.a)({},e),{},Object(d.a)({},n.id,!1))})),i((function(e){return Object(r.a)(Object(r.a)({},e),{},Object(d.a)({},n.id,!1))})),delete s[n.id],l=!0):3===o&&n.cond.idk_id&&n.cond.idk_id.includes(t)&&(c((function(e){return Object(r.a)(Object(r.a)({},e),{},Object(d.a)({},n.id,!1))})),a((function(e){return Object(r.a)(Object(r.a)({},e),{},Object(d.a)({},n.id,!1))})),i((function(e){return Object(r.a)(Object(r.a)({},e),{},Object(d.a)({},n.id,!1))})),delete s[n.id],l=!0)),console.log(n.values),n.values&&n.values.length&&n.values.forEach((function(n){v(e,n,t,c,a,i,s,o)})),t!==n.id&&l&&v(e,e,n.id,c,a,i,s,o)}function O(e){var n=e.init_items,t=e.item,c=e.dicts;console.log(t);var a=Object(o.a)(c,9),i=a[0],s=a[1],u=a[2],j=a[3],h=a[4],p=a[5],x=a[6],f=a[7],k=a[8],y=function(){var e=!i[t.id];console.log("handle yes enter",e),e?(f[t.id]={name:t.name,answer:"Oui"},v(n,n,t.id,s,j,p,f,2),v(n,n,t.id,s,j,p,f,3),k(f)):(delete f[t.id],console.log("handle yes delete"),v(n,n,t.id,s,j,p,f,1),k(f)),s((function(n){return Object(r.a)(Object(r.a)({},n),{},Object(d.a)({},t.id,e))})),j((function(e){return Object(r.a)(Object(r.a)({},e),{},Object(d.a)({},t.id,!1))})),p((function(e){return Object(r.a)(Object(r.a)({},e),{},Object(d.a)({},t.id,!1))}))},_=function(){var e=!u[t.id];e?(f[t.id]={name:t.name,answer:"Non"},v(n,n,t.id,s,j,p,f,1),v(n,n,t.id,s,j,p,f,3),k(f)):(delete f[t.id],v(n,n,t.id,s,j,p,f,2),k(f)),j((function(n){return Object(r.a)(Object(r.a)({},n),{},Object(d.a)({},t.id,e))})),s((function(e){return Object(r.a)(Object(r.a)({},e),{},Object(d.a)({},t.id,!1))})),p((function(e){return Object(r.a)(Object(r.a)({},e),{},Object(d.a)({},t.id,!1))}))},g=function(){var e=!h[t.id];e?(f[t.id]={name:t.name,answer:"?"},v(n,n,t.id,s,j,p,f,1),v(n,n,t.id,s,j,p,f,2),k(f)):(delete f[t.id],v(n,n,t.id,s,j,p,f,3),k(f)),j((function(e){return Object(r.a)(Object(r.a)({},e),{},Object(d.a)({},t.id,!1))})),s((function(e){return Object(r.a)(Object(r.a)({},e),{},Object(d.a)({},t.id,!1))})),p((function(n){return Object(r.a)(Object(r.a)({},n),{},Object(d.a)({},t.id,e))}))};if(console.log(f),console.log(i),console.log(u),t.pre_check&&t.pre_check.if.every((function(e){return b(x[e.var],e.op,e.val)})))switch(t.pre_check.then){case"yes":delete t.pre_check,y();break;case"no":delete t.pre_check,_();break;case"idk":delete t.pre_check,g()}var N=null,w=null;return t.values&&(w=t.values.filter((function(e){return e.cond.yes_id.every((function(e){return i[e]}))&&e.cond.no_id.every((function(e){return u[e]}))&&(void 0===e.cond.idk_id||e.cond.idk_id.every((function(e){return h[e]})))&&e.cond.num.every((function(e){return b(x[e.var],e.op,e.val)}))&&!0}))),w&&w.length&&(N=Object(l.jsx)("ul",{className:"mb-0",children:w.map((function(e){return Object(l.jsx)(O,{init_items:n,item:e,dicts:c},e.id)}))})),Object(l.jsxs)("div",{className:"container m-0 mt-3 p-0 mx-auto",children:[Object(l.jsxs)("div",{className:"row align-items-center m-0 p-0",children:[Object(l.jsx)("div",{className:"col-sm-1 m-0 p-0 w-auto",children:Object(l.jsx)("div",{className:"card card-grey text-center w-100 shadow-sm",children:Object(l.jsx)("div",{className:"card-body",children:Object(l.jsx)("text",{children:t.id})})})}),Object(l.jsxs)("div",{className:"col m-0 p-0 ",children:[t.cond.num.length?Object(l.jsxs)("div",{className:"alert alert-primary m-0 mt-0 align- shadow-sm",role:"alert",children:[Object(l.jsxs)("p",{className:"mb-0",children:[Object(l.jsxs)("text",{className:"text-custom",children:["Important: \xa0",t.cond.num.map((function(e){return e.var+e.op+e.val+m+m})),"."]})," "]}),Object(l.jsx)("p",{className:"mb-0",children:Object(l.jsx)("text",{className:"text-custom",children:"Veuillez r\xe9pondre cette question suppl\xe9mentaire "})})]}):null,t.comment?Object(l.jsx)("div",{className:"alert alert-info m-0 mt-0 align- shadow-sm",role:"alert",children:Object(l.jsxs)("p",{className:"mb-0",children:[" ",Object(l.jsx)("text",{className:"text-custom",children:t.comment})," "]})}):null,Object(l.jsx)("div",{className:"card w-100 shadow-sm",children:Object(l.jsx)("div",{className:"card-body",children:Object(l.jsx)("text",{className:"text-custom",children:t.name})})})]}),t.check.length?Object(l.jsx)("div",{className:"col-md-auto",children:Object(l.jsxs)("div",{className:"input-group ",children:[t.check.includes("yes")?Object(l.jsx)("div",{className:"input-group-prepend ",children:Object(l.jsx)("div",{className:"input-group-text shadow",children:Object(l.jsxs)("text",{className:"text-custom",children:[Object(l.jsx)("input",{type:"checkbox","aria-label":"Yes Checkbox",checked:i[t.id],onChange:y}),"\xa0Oui"]})})}):null,t.check.includes("no")?Object(l.jsx)("div",{className:"input-group-prepend",children:Object(l.jsx)("div",{className:"input-group-text shadow",children:Object(l.jsxs)("text",{className:"text-custom",children:[Object(l.jsx)("input",{type:"checkbox","aria-label":"No Checkbox",checked:u[t.id],onChange:_}),"\xa0Non"]})})}):null,t.check.includes("?")?Object(l.jsx)("div",{className:"input-group-prepend",children:Object(l.jsx)("div",{className:"input-group-text shadow",children:Object(l.jsxs)("text",{className:"text-custom",children:[Object(l.jsx)("input",{type:"checkbox","aria-label":"I dont Know Checkbox",checked:h[t.id],onChange:g}),"\xa0\xa0?"]})})}):null,t.check.includes("text")?Object(l.jsx)("div",{className:"input-group-prepend",children:Object(l.jsx)("div",{className:"input-group-text",children:Object(l.jsx)("input",{type:"text","aria-label":"text input",onChange:function(e){var n=e.target.value;f[t.id]={name:t.name,answer:n},k(f)}})})}):null]})}):Object(l.jsxs)("div",{className:"col-sm-8",children:[" ",null," "]})]}),N]})}var p=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,16)).then((function(n){var t=n.getCLS,c=n.getFID,a=n.getFCP,i=n.getLCP,s=n.getTTFB;t(e),c(e),a(e),i(e),s(e)}))};s.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(h,{})}),document.getElementById("root")),p()}},[[15,1,2]]]);
//# sourceMappingURL=main.c51a3f08.chunk.js.map