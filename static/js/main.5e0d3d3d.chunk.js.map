{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["items","checklist_id","id","num_values","var","val","values","name","cond","num","check","pre_check","if","op","then","comment","patients","gender","yearofbirth","String","fromCharCode","CsvGenerator","dataArray","fileName","separator","addQuotes","this","getDownloadLink","type","data","map","row","rowData","join","length","btoa","encodeURIComponent","downloadLink","getLinkElement","linkText","linkElement","a","document","createElement","innerHTML","href","download","removeAfterDownload","style","display","body","appendChild","click","removeChild","simple_operation","val1","string_op","val2","list_possible_answer","list_possible_answer_trad","trad_answer","answer","indexOf","possible_options","App","useReducer","x","forceUpdate","useState","checklistId","setChecklistId","checklistList","setChecklistList","JSON","stringify","patientList","currentPatient","setCurrentPatient","filter","e","checklist","setChecklist","result","setResult","creationMode","setCreationMode","creditMode","setCreditMode","sigpad","trimmedCanvasUrl","setTrimmedCanvasUrl","init_dict","forEach","0","console","log","isDict","setIsDict","isPreCheckDone","setIsPreCheckDone","numDict","elm","items_","item","Object","keys","every","dicts","currentQuestion","setCurrentQuestion","currentParentQuestion","setCurrentParentQuestion","currentName","setCurrentName","questionList","set_elements","reinit_current_question","searchquestion","parent_item","removequestion","movecurrentquestion","currentQuestionCopy","push","enumquestions","swapchecklist","deactivatecreditmode","navbar","className","onClick","data-bs-toggle","data-bs-target","aria-controls","aria-expanded","aria-label","aria-current","result_table","entries","key","value","filename","downloadImage","role","aria-labelledby","i","signature","canvasProps","ref","dataUrl","getTrimmedCanvas","toDataURL","clear","create_box","event","n_checklist","new_empty_checklist","addchecklist","last_id","new_empty_question","addnewquestion","onChange","target","index","new_position","splice","changepositionquestion","options","isMultiSelect","placeholder","selectedOptions","selectedKey","onClose","checklist_to_json","credits","dataStr","b","remove","select_patient","patient_id","changecurrentpatient","ListItem","init_items","clean_children_rec","init_item","answers","is_remove","includes","handleOnChangeIs","is_check","list_other_answer","children","checked","input_text","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.5e0d3d3d.chunk.js","sourcesContent":["import React, {useState, useReducer} from \"react\";\nimport \"./App.css\";\nimport SignaturePad from 'react-signature-canvas'\nimport BootstrapSelect from 'react-bootstrap-select-dropdown';\n\n\n\n\nconst items = [\n  {\n    checklist_id: 0,\n    id: -1,\n    num_values:[\n      {var:\"Intubation_difficile\", val:1},\n      {var:\"Diabétique\", val:1},\n    ],\n    values:[\n      {\n        id: 1,\n        name: \"Intubation Difficile ? \",\n        cond: {\"yes\":[0], \"no\":[0], num:[]},\n        check : [\"yes\",\"no\",\"idk\"],\n        pre_check : {if:[{var:\"Intubation_difficile\",op:\"=\",val:1}],then:\"yes\"},\n        values: [\n          {\n            id: 2,\n            name: \"A confirmer l'incubation difficile\",\n            cond: {\"yes\":[0], \"no\": [0], \"idk\" : [1], num:[]},\n            check : [\"yes\",\"no\"],\n            values: []\n          },\n          {\n            id: 3,\n            name: \"2ème Anesthésiste\",\n            cond: {\"yes\":[1], \"no\":[0], num:[]},\n            check : [\"yes\",\"no\"],\n            values: []\n          },\n          {\n            id: 4,\n            name: \"2ème Infirmière\",\n            cond: {\"yes\":[1], \"no\":[0], num:[]},\n            check : [\"yes\",\"no\"],\n            values: []\n          },\n          {\n            id: 5,\n            name: \"Matériel\",\n            cond: {\"yes\":[1], \"no\":[0], num:[]},\n            check : [],\n            values: [\n              {\n                id: 6,\n                name: \"Glidescope\",\n                cond: {\"yes\":[1], \"no\":[0], num:[]},\n                check : [\"yes\",\"no\"],\n                values: []\n              },\n              {\n                id: 7,\n                name: \"Laryngoscope\",\n                cond: {\"yes\":[1], \"no\":[0], num:[]},\n                check : [\"yes\",\"no\"],\n                values: []\n              },\n              {\n                id: 8,\n                name: \"Set Trachéo\",\n                cond: {\"yes\":[1], \"no\":[0], num:[]},\n                check : [\"yes\",\"no\"],\n                values: []\n              },\n            ]\n          },\n          {\n            id: 9,\n            name: \"Protocole\",\n            cond: {\"yes\":[1], \"no\":[0], num:[]},\n            check : [\"yes\",\"no\"],\n            values: []\n          },\n        ]\n      },\n      {\n        id: 10,\n        name: \"Est-elle susceptible d'être enceinte ?\",\n        comment: \"(Les données patient nous indiquent que la patiente est âgée entre 15 et 60 ans)\",\n        cond: {\"yes\":[0], \"no\":[0], num:[{var:\"yearofbirth\",op:\">\",val:1960}, {var:\"gender\",op:\"=\",val:\"F\"}]},\n        check : [\"yes\",\"no\"],\n        values: [\n          {\n            id: 11,\n            name: \"Arrêt des rêgles depuis ?\",\n            cond: {\"yes\":[10], \"no\":[0], num:[]},\n            check : [\"text\"],\n            values: []\n          },\n          {\n            id: 12,\n            name: \"Test disponible ?\",\n            cond: {\"yes\":[10], \"no\":[0], num:[]},\n            check : [\"yes\",\"no\"],\n            values: [\n              {\n                id: 13,\n                name: \"Négatif ?\",\n                cond: {\"yes\":[12], \"no\":[0], num:[]},\n                check : [\"yes\", \"no\"],\n                values: []\n              },\n              {\n                id: 14,\n                name: \"Faire test maintenant ?\",\n                cond: {\"yes\":[0], \"no\":[12], num:[]},\n                check : [\"yes\", \"no\"],\n                values: []\n              },\n              {\n                id: 15,\n                name: \"Postposer l'intervention ?\",\n                cond: {\"yes\":[0], \"no\":[12], num:[]},\n                check : [\"yes\", \"no\"],\n                values: []\n              },\n            ]\n          },\n        ]\n      },\n      {\n        id: 16,\n        name: \"Le patient est-il diabétique ?\",\n        cond: {\"yes\":[0], \"no\":[0], num:[]},\n        check : [\"yes\",\"no\"],\n        pre_check : {if:[{var:\"Diabétique\",op:\"=\",val:1}],then:\"yes\"},\n        values: [\n          {\n            id: 17,\n            name: \"Traitement Oral ?\",\n            cond: {\"yes\":[16], \"no\":[0], num:[]},\n            check : [\"ok\", \"not_ok\"],\n            values: [\n              {\n                id: 18,\n                name: \"Arrêt des médicaments ?\",\n                cond: {\"ok\":[17], \"no\":[0], num:[]},\n                check : [\"yes\", \"no\"],\n                values: []\n              }\n            ]\n          },\n          {\n            id: 19,\n            name: \"Traitement par piqure à insuline ?\",\n            cond: {\"yes\":[16], \"no\":[17], num:[]},\n            check : [\"yes\", \"no\"],\n            values: [\n              {\n                id: 20,\n                name: \"Dernière piqure le ? \",\n                cond : {\"yes\":[19], \"no\":[0], num:[]},\n                check: [\"text\"],\n                values: []\n              }\n            ]\n          },\n        ]\n      }\n    ]\n  },\n  {\n    checklist_id: 1,\n    id: -1,\n    num_values:[\n      {var:\"Intubation_difficile\", val:1},\n      {var:\"Diabétique\", val:1},\n    ],\n    values:[\n      {\n        id: 1,\n        name: \"Intubation Difficile ? \",\n        cond: {\"yes\": [0], \"no\": [0], num: []},\n        check: [\"yes\", \"no\", \"?\"],\n        pre_check: {if: [{var: \"Intubation_difficile\", op: \"=\", val: 1}], then: \"yes\"},\n        values: []\n      }\n    ]\n  }\n];\n\nconst patients = [\n  {id: 0, name: \"Jean Dupont\", gender: \"M\", yearofbirth: 1970},\n  {id: 1, name: \"Robert Edwards\", gender: \"M\", yearofbirth: 1998},\n  {id: 2, name: \"Luc Monjeau\", gender: \"M\", yearofbirth: 1965},\n  {id: 3, name: \"Eglantine Racine\", gender: \"F\", yearofbirth: 1987},\n  {id: 4, name: \"Georgette Cailot\", gender: \"F\", yearofbirth: 1941}\n\n]\n\nconst nbsc_str = String.fromCharCode(160)\n\nfunction CsvGenerator(dataArray, fileName, separator, addQuotes) {\n    this.dataArray = dataArray;\n    this.fileName = fileName;\n    this.separator = separator || ',';\n    this.addQuotes = !!addQuotes;\n\n    if (this.addQuotes) {\n        this.separator = '\"' + this.separator + '\"';\n    }\n\n    this.getDownloadLink = function () {\n        var separator = this.separator;\n        var addQuotes = this.addQuotes;\n\n        var rows = this.dataArray.map(function (row) {\n            var rowData = row.join(separator);\n\n            if (rowData.length && addQuotes) {\n                return '\"' + rowData + '\"';\n            }\n\n            return rowData;\n        });\n\n        var type = 'data:text/csv;charset=utf-8';\n        var data = rows.join('\\n');\n\n        if (typeof btoa === 'function') {\n            type += ';base64';\n            data = btoa(data);\n        } else {\n            data = encodeURIComponent(data);\n        }\n\n        return this.downloadLink = this.downloadLink || type + ',' + data;\n    };\n\n    this.getLinkElement = function (linkText) {\n        var downloadLink = this.getDownloadLink();\n        var fileName = this.fileName;\n        this.linkElement = this.linkElement || (function() {\n            var a = document.createElement('a');\n            a.innerHTML = linkText || '';\n            a.href = downloadLink;\n            a.download = fileName;\n            return a;\n        }());\n        return this.linkElement;\n    };\n\n    // call with removeAfterDownload = true if you want the link to be removed after downloading\n    this.download = function (removeAfterDownload) {\n        var linkElement = this.getLinkElement();\n        linkElement.style.display = 'none';\n        document.body.appendChild(linkElement);\n        linkElement.click();\n        if (removeAfterDownload) {\n            document.body.removeChild(linkElement);\n        }\n    };\n}\n\nconst simple_operation = (val1, string_op, val2) => {\n\n  switch (string_op) {\n    case \">\" : return val1 > val2;\n    case \"<\" : return val1 < val2;\n    case \"=\" : return val1 === val2 ;\n    default: return true;\n  }\n}\n\n\n\nconst list_possible_answer = [\"yes\",\"no\",\"idk\",\"ok\",\"not_ok\"]\nconst list_possible_answer_trad = [\"Oui\",\"Non\",\"?\",\"OK\",\"Non OK\"]\n\n\nconst trad_answer = (answer) => {\n  return list_possible_answer_trad[list_possible_answer.indexOf(answer)]\n}\n\nconst possible_options = []\nlist_possible_answer.forEach(function(answer){\n  possible_options.push({\"labelKey\": answer, \"value\": trad_answer(answer), \"isSelected\":false})\n})\n\n\n\nexport default function App() {\n\n  const [_, forceUpdate] = useReducer((x) => x + 1, 0);\n\n\n\n  let [checklistId, setChecklistId] = useState(0)\n  let [checklistList, setChecklistList] = useState(items) //Must be a database call\n  let checklist_list_json = JSON.stringify(checklistList)\n\n  let [patientList, setPatientList] = useState(patients) //Must be a database call\n  let [currentPatient, setCurrentPatient] = useState(patientList[0])\n\n  let [checklist, setChecklist] = useState(checklistList.filter(e => e.checklist_id === checklistId)[0])\n\n  let [result, setResult] = useState({})\n\n  let [creationMode, setCreationMode] = useState(0)\n  let [creditMode, setCreditMode] = useState(0)\n\n  let sigpad = {}\n  let [trimmedCanvasUrl, setTrimmedCanvasUrl] = useState(null)\n\n  let init_dict = {}\n  list_possible_answer.forEach(function (answer){init_dict[answer]={0:true}})\n  console.log(init_dict)\n  const [isDict, setIsDict] = useState(init_dict)\n\n  let [isPreCheckDone, setIsPreCheckDone] = useState([])\n\n  let num_values = checklist.num_values\n  let numDict = {}\n  num_values.forEach(function(elm) {numDict[elm.var] = elm.val})\n  numDict[\"yearofbirth\"] = currentPatient.yearofbirth\n  numDict[\"gender\"] = currentPatient.gender\n\n  let items_ = null\n\n  if (checklist.values)\n    items_ = checklist.values.filter( item=>\n      Object.keys(item.cond).every(\n        function(answer){\n          return (answer === \"num\" || !item.cond[answer] || item.cond[answer].every(\n            function(elm) {return isDict[answer][elm];}\n          ))\n        }\n      )\n      &&\n      item.cond.num.every(\n        function(elm) {\n          console.log(numDict[elm.var], elm.op, elm.var)\n          return simple_operation(numDict[elm.var],elm.op, elm.val) }\n      ) &&\n      true\n    )\n\n  const dicts = [isDict, setIsDict, numDict, result, setResult,isPreCheckDone, setIsPreCheckDone ]\n\n  let [currentQuestion, setCurrentQuestion] = useState(checklist.values[0])\n  let [currentParentQuestion, setCurrentParentQuestion] = useState(checklist)\n  let [currentName, setCurrentName] = useState(checklist.values[0].name)\n  let questionList = [];\n\n\n  function set_elements () {\n    setCurrentQuestion(currentQuestion)\n    setCurrentParentQuestion(currentParentQuestion)\n    setChecklist(checklist)\n    setChecklistList(checklistList)\n  }\n\n  function reinit_current_question (checklist) {\n    setCurrentQuestion(checklist.values[0])\n    setCurrentParentQuestion(checklist)\n    setCurrentName(checklist.values[0].name)\n  }\n\n\n  function searchquestion (item, parent_item, id) {\n    if (item.id === id){\n      console.log(\"found\", item)\n      currentQuestion = item\n      currentParentQuestion = parent_item\n      setCurrentQuestion(currentQuestion)\n      setCurrentParentQuestion(currentParentQuestion)\n      setCurrentName(currentQuestion.name)\n    }\n    for (const value of item.values){\n      searchquestion(value,item,id);\n    }\n  }\n\n  function enumquestions (item){\n    if (item.id > 0)\n      questionList.push(item.id)\n    for (const value of item.values){\n      enumquestions(value)\n    }\n  }\n  enumquestions(checklist)\n\n  function removequestion (){\n    currentParentQuestion.values = currentParentQuestion.values.filter(e => e.id !== currentQuestion.id)\n    set_elements()\n    reinit_current_question(checklist)\n  }\n\n  function addnewquestion (){\n    let last_id = questionList[questionList.length-1]\n    let new_empty_question =\n      {\n        id: last_id+1,\n        name : \"Nom vide\",\n        cond: {\"yes\":[0], \"no\":[], num:[]},\n        check : [\"yes\", \"no\"],\n        values: [],\n      }\n    checklist.values.push(new_empty_question)\n    set_elements()\n    searchquestion(checklist, null, last_id+1)\n  }\n\n  function movecurrentquestion (id){\n    let currentQuestionCopy = {...currentQuestion}\n    currentQuestionCopy.cond = {\"yes\":[id], \"no\":[], num:[]}\n    removequestion()\n    searchquestion(checklist, null, id)\n    currentQuestion.values.push(currentQuestionCopy)\n    set_elements()\n    searchquestion(checklist, null, currentQuestionCopy.id)\n\n  }\n\n  function changepositionquestion (new_position){\n     let currentQuestionCopy = {...currentQuestion}\n     removequestion()\n    searchquestion(checklist, null, currentParentQuestion.id)\n    currentQuestion.values.splice(new_position,0,currentQuestionCopy)\n    set_elements()\n    searchquestion(checklist, null, currentQuestionCopy.id)\n  }\n\n  const modifyname = (event) => {\n    currentName = event.target.value\n    setCurrentName(currentName)\n  }\n\n  const updatename = () => {\n    currentQuestion.name = currentName\n    set_elements()\n  }\n\n  const changecheck = (selectedOptions) => {\n    currentQuestion.check = selectedOptions.selectedKey\n    setCurrentQuestion(currentQuestion)\n  }\n\n  const swapchecklist = (checklist_id) => {\n    setChecklistId(checklist_id);\n    checklist = checklistList.filter(e => e.checklist_id === checklist_id)[0]\n    setChecklist(checklist)\n    setResult({})\n    setIsDict({\"yes\": {0: true}, \"no\": {0: true},\"idk\": {0: true},})\n    setIsPreCheckDone([])\n    reinit_current_question(checklist)\n  }\n\n  const addchecklist = () => {\n    const n_checklist = checklistList[checklistList.length-1].checklist_id+1\n    let new_empty_checklist =\n      {\n        checklist_id: n_checklist,\n        id: -1,\n        num_values: [],\n        values: [\n          {\n            id: 1,\n            name : \"Vide\",\n            check : [\"yes\",\"no\"],\n            cond: {\"yes\":[0], \"no\":[0], num:[]},\n            values: []\n          }\n        ],\n      }\n    checklistList.push(new_empty_checklist)\n    setChecklistList(checklistList)\n    swapchecklist(n_checklist)\n  }\n\n  const removechecklist = () => {\n    console.log(checklistList, checklistId)\n    checklistList = checklistList.filter(e => e.checklist_id !== checklistId)\n    console.log(checklistList)\n    setChecklistId(checklistList[0].checklist_id)\n    checklist = checklistList[0]\n    set_elements()\n    reinit_current_question(checklist)\n  }\n\n  const changecurrentpatient = (patient_id) => {\n    const currentPatient = patientList.filter(elm => elm.id === patient_id)[0]\n    setCurrentPatient(currentPatient)\n  }\n\n  function import_csv_result () {\n    let result_table = [[\"id\", \"name\", \"answer\"]]\n    for (const [key, value] of Object.entries(result)){\n      result_table.push([key, value.name, value.answer])\n    }\n    console.log(result_table)\n    let csvGenerator = new CsvGenerator(result_table, 'my_csv.csv');\n    csvGenerator.download(true);\n  }\n\n  var downloadImage = function(data, filename) {\n    var a = document.createElement('a');\n    a.href = data;\n    a.download = filename;\n    document.body.appendChild(a);\n    a.click();\n  };\n\n  const reinit = () => {\n    console.log(\"reinit\")\n    sigpad.clear()\n    setTrimmedCanvasUrl(null)\n  }\n\n  const trim = () => {\n    var dataUrl = sigpad.getTrimmedCanvas().toDataURL();\n    setTrimmedCanvasUrl(dataUrl);\n  }\n\n  const image_download = () => {\n    if(trimmedCanvasUrl)\n      downloadImage(trimmedCanvasUrl, \"image.png\");\n  }\n\n  const activatecreatemode = () => {\n    setCreationMode(1)\n  }\n\n  const deactivatecreatemode = () => {\n    setCreationMode(0)\n  }\n\n  const activatecreditmode = () => {\n    setCreditMode(1)\n  }\n\n  const deactivatecreditmode = () => {\n    setCreditMode(0)\n  }\n\n  let navbar = (\n    <nav className=\"navbar navbar-expand-lg navbar-light border-bottom border-light shadow-sm mb-4\">\n      <div className=\"container-fluid\">\n        <a className=\"navbar-brand\" href=\"#\" onClick={deactivatecreditmode}><text className=\"text-custom text-title\">SLS</text></a>\n        <button className=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarNavAltMarkup\"\n                aria-controls=\"navbarNavAltMarkup\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n          <span className=\"navbar-toggler-icon\"></span>\n        </button>\n        <div className=\"collapse navbar-collapse\" id=\"navbarNavAltMarkup\">\n          <div className=\"navbar-nav\">\n            <a className=\"nav-link active\" aria-current=\"page\" href=\"#\"><text className=\"text-custom\" onClick={deactivatecreditmode}>Page d'accueil</text></a>\n            <a className=\"nav-link\" href=\"#\"><text className=\"text-custom\" onClick={import_csv_result}>Importer la checklist</text></a>\n            <a className=\"nav-link\" href=\"#\"><text className=\"text-custom\" onClick={image_download}>Importer la signature</text></a>\n            <li className=\"nav-item dropdown\">\n              <a className=\"nav-link dropdown-toggle\" href=\"#\" id=\"navbarDropdown\" role=\"button\"\n                 data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\n                <text className=\"text-custom\">Liste des checklists disponibles</text>\n              </a>\n              <ul className=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\">\n                {items.map(i => (\n                  <li><a className=\"dropdown-item\" href=\"#\" onClick={() => swapchecklist(i.checklist_id)}><text className=\"text-custom\">Checklist n°{i.checklist_id}</text></a></li>\n                ))}\n              </ul>\n            </li>\n            <a className=\"nav-link\" href=\"#\"><text className=\"text-custom\" onClick={activatecreatemode}>Activer le mode Création</text></a>\n            <a className=\"nav-link\" href=\"#\"><text className=\"text-custom\" onClick={deactivatecreatemode}>Désactiver le mode Création</text></a>\n            <a className=\"nav-link\" href=\"#\"><text className=\"text-custom\" onClick={activatecreditmode}>A propos</text></a>\n          </div>\n        </div>\n      </div>\n    </nav>\n  );\n\n  let signature = (\n    <div className=\"container mt-5 mx-auto p-0 container-custom\">\n      <div className=\"row align-items-center p-0 m-0 h-100\">\n        <div className=\"col-sm-3 m-0 p-0 text-center\">\n          <div className=\"card card-grey shadow-sm mx-4\" >\n            <div className=\"card-body\">\n              <text className=\"text-custom\">Veuillez rentrer votre signature : </text>\n            </div>\n          </div>\n        </div>\n        <div className=\"col m-0 p-0 h-100 \">\n          <div className=\"sigContainer\">\n            <SignaturePad canvasProps={{className: \"sigPad\"}}\n              ref={(ref) => { sigpad = ref }} />\n          </div>\n        </div>\n        <div className=\"col-md-auto mx-2 p-0\">\n          <div className=\"row align-items-center p-0 m-0 w-100 mb-2\">\n            <button type=\"button\" className=\"btn btn-val shadow-sm\">\n              <text className=\"text-custom\" onClick={trim}>Valider la signature</text>\n            </button>\n          </div>\n          <div className=\" row align-items-center p-0 m-0 h-100\">\n            <button type=\"button\" className=\"btn btn-change shadow-sm\">\n            <text className=\"text-custom\" onClick={reinit}>Réinitialiser</text>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n\n  let create_box = (\n    <div className=\"container p-2 container-custom border border-2 shadow-sm\">\n      <div className=\"card card-grey text-center mb-2 \">\n        <div className=\"card-body\">\n          <h5 className=\"card-title\"><text className=\"text-custom\">Mode Création </text></h5>\n          <p className=\"card-text text-custom m-0\">Vous pouvez ajouter, supprimer, modifier des checklists et des questions ici.</p>\n          <p className=\"card-text text-custom\">La checklist modifiée s'affiche en dessous.</p>\n        </div>\n      </div>\n\n      <div className=\"row align-items-center p-0 m-0 pb-2 border-bottom border-\">\n        <div className=\"col align-items-center \">\n          <div className=\"dropdown text-center\">\n            <button className=\"btn btn-val dropdown-toggle\" type=\"button\" id=\"dropdownMenuButton1\"\n                    data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\n              <text className=\"text-custom\"> Sélectionnez la checklist</text>\n            </button>\n            <ul className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton1\">\n              <li><a className=\"dropdown-item\" href=\"#\" onClick={function(event){ addchecklist(); forceUpdate()}}><text className=\"text-custom\">Nouvelle checklist</text></a></li>\n              {checklistList.map(i => (\n                <li><a className=\"dropdown-item\" href=\"#\" onClick={() => swapchecklist(i.checklist_id)}>\n                  <text className=\"text-custom\">Checklist n°{i.checklist_id}</text></a>\n                </li>\n              ))}\n            </ul>\n          </div>\n        </div>\n        <div className=\"col align-items-center p-2\">\n          <div className=\"card card-grey text-center shadow-sm\">\n            <text className=\"text-custom\">Checklist n°{checklistId} </text>\n          </div>\n        </div>\n        <div className=\"col align-items-center p-2\">\n          <div className=\"card card-grey text-center shadow-sm\">\n            <text className=\"text-custom\">Question n°{currentQuestion.id}</text>\n          </div>\n        </div>\n        <div className=\"col align-items-center \">\n          <div className=\"dropdown text-center\">\n            <button className=\"btn btn-val dropdown-toggle \" type=\"button\" id=\"dropdownMenuButton1\"\n                    data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\n              <text className=\"text-custom \"> Sélectionnez la question</text>\n            </button>\n            <ul className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton1\">\n              <li><a className=\"dropdown-item\" href=\"#\" onClick={function(event){ addnewquestion(); forceUpdate()}}><text className=\"text-custom\">Nouvelle question</text></a></li>\n              {questionList.map(i => (\n                <li><a className=\"dropdown-item\" href=\"#\" onClick={() => searchquestion(checklist, null, i)}>\n                  <text className=\"text-custom\">Question n°{i}</text></a>\n                </li>\n              ))}\n            </ul>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"row align-items-center p-2 m-0 border-bottom\">\n        <div className=\"col-sm-4 align-items-center \">\n          <text className=\"text-custom\"> Nom de la question : </text>\n        </div>\n        <div className=\"col-sm-4 align-items-center\">\n          <input className=\"card w-100 text-custom\" type = \"text \" aria-label=\"text input\" value={currentName} onChange={modifyname}/>\n        </div>\n        <div className=\"col-sm-4 align-items-center p-0 text-center\">\n          <button className=\"btn btn-change\" >\n            <text className=\"text-custom\" onClick={function(event){ updatename(); forceUpdate()}}>Valider le nom</text>\n          </button>\n        </div>\n      </div>\n\n      <div className=\"row align-items-center p-2 m-0 border-bottom\">\n        <div className=\"col-sm-4 align-items-center\">\n          <text className=\"text-custom\">Souhaitez vous placer la question à la suite d'une autre ? : </text>\n        </div>\n        <div className=\"col-sm-4 align-items-center\">\n        </div>\n        <div className=\"col-sm-4 align-items-center p-0 text-center\">\n          <div className=\"dropdown text-center\">\n            <button className=\"btn btn-change dropdown-toggle\" type=\"button\" id=\"dropdownMenuButton1\"\n                    data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\n              <text className=\"text-custom\"> A la suite de quelle question ?</text>\n            </button>\n            <ul className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton1\">\n              <li><a className=\"dropdown-item\" href=\"#\" onClick={() => movecurrentquestion(-1)}>\n                  <text className=\"text-custom\">Aucune</text></a>\n                </li>\n              {questionList.map(i => (\n                <li><a className=\"dropdown-item\" href=\"#\" onClick={() => movecurrentquestion(i)}>\n                  <text className=\"text-custom\">Question n°{i}</text></a>\n                </li>\n              ))}\n            </ul>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"row align-items-center p-2 m-0 border-bottom\">\n        <div className=\"col-sm-4 align-items-center\">\n          <text className=\"text-custom\">Sélectionnez la position de la question : </text>\n        </div>\n        <div className=\"col-sm-4 align-items-center\">\n        </div>\n        <div className=\"col-sm-4 align-items-center p-0 text-center\">\n          <div className=\"dropdown text-center\">\n            <button className=\"btn btn-change dropdown-toggle\" type=\"button\" id=\"dropdownMenuButton1\"\n                    data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\n              <text className=\"text-custom\"> Quelle position ?</text>\n            </button>\n            <ul className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton1\">\n              {currentParentQuestion.values.map((value, index) => (\n                <li><a className=\"dropdown-item\" href=\"#\" onClick={() => changepositionquestion(index)}>\n                  <text className=\"text-custom\">Question n°{value.id}</text></a>\n                </li>\n              ))}\n            </ul>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"row align-items-center p-2 m-0 border-bottom\">\n        <div className=\"col-sm-4 align-items-center\">\n          <text className=\"text-custom\">Quelles réponses possibles ? : </text>\n        </div>\n        <div className=\"col-sm-4 align-items-center\">\n        </div>\n        <div className=\"col-sm-4 align-items-center p-0 text-center\">\n          <BootstrapSelect options={possible_options} isMultiSelect={true} placeholder=\"Aucune\" onChange={changecheck} onClose={forceUpdate}/>\n        </div>\n      </div>\n\n\n      <div className=\"row align-items-center p-2 m-0\">\n        <div className=\"col-sm-4 align-items-center text-center\">\n          <button className=\"btn btn-change \" >\n            <text className=\"text-custom\" onClick={function(event){ removechecklist(); forceUpdate()}}>Supprimer la checklist</text>\n          </button>\n        </div>\n        <div className=\"col-sm-4 align-items-center text-center\">\n          <button className=\"btn btn-change \" >\n            <text className=\"text-custom\" onClick={() => checklist_to_json()}>Sauvegarder la liste de checklists</text>\n          </button>\n        </div>\n        <div className=\"col-sm-4 align-items-center text-center\">\n          <button className=\"btn btn-change \" >\n            <text className=\"text-custom\" onClick={function(event){ removequestion(); forceUpdate()}}>Supprimer la question</text>\n          </button>\n        </div>\n      </div>\n\n    </div>\n  )\n\n  let credits = (\n    <div className=\"card-inv text-center position-absolute top-50 start-50 translate-middle\">\n      <div className=\"card-body\">\n        <h5 className=\"card-title m-0\"><text className=\"text-custom\">SLS Checklist App</text></h5>\n        <p className=\"card-text text-custom m-0\">v0.2</p>\n        <p className=\"card-text text-custom m-0\">Développé par Théo Stassen</p>\n        <p className=\"card-text text-custom\">theo.stassen@protonmail.com</p>\n      </div>\n    </div>\n  )\n\n  const checklist_to_json = () => {\n\n    // let checklist_list_json = JSON.stringify(checklistList)\n    var dataStr = \"data:text/json;charset=utf-8,\" + encodeURIComponent(JSON.stringify(checklistList));\n    console.log(dataStr)\n    var b = document.createElement('a');\n    b.href = dataStr ;\n    b.download = \"checklist.json\";\n    document.body.appendChild(b);\n    b.click();\n    b.remove()\n  }\n\n  let save_checklist_button = (\n    <div className=\"container p-2 container-custom border border-2 shadow-sm mt-4\">\n      <div className=\"row text-center p-2 m-0\">\n        <div className=\"col-lg-12 \">\n          <button className=\"btn btn-change \" >\n            <text className=\"text-custom\" onClick={() => checklist_to_json()}>Télécharger la liste de checklists</text>\n          </button>\n        </div>\n      </div>\n    </div>\n  )\n\n  let select_patient = (\n    <div className=\"container p-2 container-custom border border-2 shadow-sm\">\n      <div className=\"row align-items-center p-2 m-0\">\n        <div className=\"col-sm-4 align-items-center \">\n          <text className=\"text-custom\"> Patient Actuel : </text>\n        </div>\n        <div className=\"col-sm-4 align-items-center \">\n          <div className=\"card card-grey text-center shadow-sm\">\n            <text className=\"text-custom\">{currentPatient.name}</text>\n          </div>\n        </div>\n        <div className=\"col-sm-4 align-items-center \">\n          <div className=\"dropdown text-center\">\n            <button className=\"btn btn-val dropdown-toggle\" type=\"button\" id=\"dropdownMenuButton1\"\n                    data-bs-toggle=\"dropdown\" aria-expanded=\"false\">\n              <text className=\"text-custom\"> Sélectionnez le patient</text>\n            </button>\n            <ul className=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton1\">\n              {patientList.map(i => (\n                <li><a className=\"dropdown-item\" href=\"#\" onClick={() => changecurrentpatient(i.id)}>\n                  <text className=\"text-custom\">{i.name}</text></a>\n                </li>\n              ))}\n            </ul>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n\n  console.log(\"main function return\")\n  return (\n    <div>\n      <div className=\"bg-color-custom min-vh-100\">\n        {navbar}\n        {!creditMode ? (\n          <div>\n            {creationMode ? (create_box) : (select_patient)}\n            {items_.map(i => (\n              <ListItem init_items={checklist} item={i} dicts={dicts} key={i.id} forceUpdate = {forceUpdate} />\n            ))}\n            {!creationMode ? (signature) : null}\n            {/*{creationMode ? (save_checklist_button) : null}*/}\n          </div>\n        ) : (<div>{credits}</div>)}\n      </div>\n      <div>\n        <nav className=\"navbar navbar-hidden\">\n          <a className=\"navbar-brand\" href=\"#\">{null}</a>\n        </nav>\n      </div>\n    </div>\n  );\n}\n\nfunction clean_children_rec(init_item, item, id, isDict, setIsDict, result, answers) {\n  console.log(\"clean_children_rec enter\", item, id, answers)\n  let is_remove = false\n  if(item.cond){\n    answers.forEach(function(answer){\n      console.log(answer, item.cond[answer], id)\n      if(item.cond[answer] && item.cond[answer].includes(id)){\n        list_possible_answer.forEach(function(elm){isDict[elm][item.id]= false})\n        delete result[item.id]\n        is_remove = true\n        console.log(\"is removed\")\n      }\n    })\n  }\n\n  if (item.values && item.values.length){\n    item.values.forEach( function (value) {\n      clean_children_rec(init_item, value, id, isDict, setIsDict, result, answers) // Recursive call to remove the upper id\n    })\n  }\n    if (id !== item.id && is_remove) {\n        clean_children_rec(init_item, init_item, item.id, isDict, setIsDict, result, answers) // Recursive call to remove the current id also\n  }\n}\n\n\nfunction ListItem({init_items, item, dicts, forceUpdate }) {\n\n\n  let [isDict, setIsDict, numDict, result, setResult, isPreCheckDone, setIsPreCheckDone] = dicts\n  console.log(\"list item enter\", item.id)\n\n  const handleOnChangeIs = (answer) => {\n    const is_check = !isDict[answer][item.id]\n    console.log(\"handle\", answer, is_check, item.id)\n    const list_other_answer = list_possible_answer.filter(elm => elm !== answer)\n    console.log(\"list other answer\", list_other_answer)\n    if (is_check){\n      result[item.id]={name:item.name,answer:answer}\n\n      clean_children_rec(init_items, init_items, item.id,isDict, setIsDict, result, list_other_answer)\n    }\n    else{\n      delete result[item.id]\n      clean_children_rec(init_items, init_items, item.id, isDict, setIsDict, result, [answer])\n    }\n    setResult(result)\n    isDict[answer][item.id] = is_check\n    list_other_answer.forEach(function(elm){isDict[elm][item.id]= false})\n    setIsDict(isDict)\n  }\n\n  const handleOnChangeText = (event) => {\n    const input_text = event.target.value;\n    result[item.id]={name:item.name,answer:input_text}\n    setResult(result)\n  };\n\n\n\n  console.log(result)\n  console.log(isDict)\n    console.log(isPreCheckDone)\n\n  if(item.pre_check && !isPreCheckDone.includes(item.id)){\n    if (item.pre_check.if.every(function (item){ return simple_operation(numDict[item.var],item.op, item.val);})){\n      console.log(\"pre check enter\", item.id)\n      handleOnChangeIs(item.pre_check.then); isPreCheckDone.push(item.id); setIsPreCheckDone(isPreCheckDone);\n    }\n  }\n\n  let children = null;\n  let values = null;\n  console.log(\"before item values filter\", item)\n  console.log(numDict)\n  if (item.values)\n    values = item.values.filter( item=>\n      Object.keys(item.cond).every(\n        function(answer){\n          return (answer === \"num\" || !item.cond[answer] || item.cond[answer].every(\n            function(elm) {return isDict[answer][elm];}\n          ))\n        }\n      )\n      &&\n      item.cond.num.every(\n        function(elm) {\n          console.log(numDict[elm.var], elm.op, elm.var)\n          return simple_operation(numDict[elm.var],elm.op, elm.val) }\n      ) &&\n      true\n    )\n\n  console.log(\"children creation\", item.id)\n  if (values && values.length) {\n    children = (\n      <ul className=\"mb-0\">\n        {values.map(i => (\n          <ListItem init_items={init_items} item={i} dicts={dicts} key={i.id} forceUpdate = {forceUpdate}/>\n        ))}\n      </ul>\n    );\n  }\n\n  return (\n    <div className=\"container m-0 mt-3 p-0 mx-auto\">\n      <div className=\"row align-items-center m-0 p-0\">\n        <div className=\"col-sm-1 m-0 p-0 w-auto\">\n          <div className=\"card card-grey text-center w-100 shadow-sm\" >\n            <div className=\"card-body\">\n              <text>{item.id}</text>\n            </div>\n          </div>\n        </div>\n        <div className=\"col m-0 p-0 \">\n          {/*{item.cond.num.length ? (*/}\n          {/*<div className=\"alert alert-primary m-0 mt-0 align- shadow-sm\" role=\"alert\">*/}\n          {/*  <p className=\"mb-0\"><text className=\"text-custom\">Important: &nbsp;{item.cond.num.map(i => i.var + i.op + i.val + nbsc_str + nbsc_str)}.</text> </p>*/}\n          {/*  <p className=\"mb-0\"><text className=\"text-custom\">Veuillez répondre cette question supplémentaire </text></p>*/}\n          {/*</div>*/}\n          {/*) : null*/}\n          {/*}*/}\n          {item.comment ? (\n          <div className=\"alert alert-info m-0 mt-0 align- shadow-sm\" role=\"alert\">\n            <p className=\"mb-0\"> <text className=\"text-custom\">{item.comment}</text> </p>\n          </div>\n          ) : null\n          }\n          <div className=\"card w-100 shadow-sm\" >\n            <div className=\"card-body\">\n              <text className=\"text-custom\">{item.name}</text>\n            </div>\n          </div>\n        </div>\n\n        {item.check.length ? (\n        <div className=\"col-md-auto\">\n          <div className=\"input-group \">\n            {list_possible_answer.map(answer => (\n              item.check.includes(answer) ? (\n              <div className=\"input-group-prepend \">\n                <div className=\"input-group-text shadow\">\n                  <text className=\"text-custom\">\n                    <input type=\"checkbox\"\n                           aria-label=\"Checkbox\"\n                           checked={isDict[answer][item.id]}\n                           onChange={function(event){handleOnChangeIs(answer); forceUpdate()}}\n                    />\n                      &nbsp;{trad_answer(answer)}\n                  </text>\n                </div>\n              </div>\n              ) : null\n            ))}\n            {item.check.includes(\"text\") ? (\n            <div className=\"input-group-prepend\">\n              <div className=\"input-group-text\">\n                  <input type = \"text\"\n                         aria-label=\"text input\"\n                         onChange={handleOnChangeText}\n                  />\n              </div>\n            </div>\n            ) : null }\n          </div>\n        </div>\n        ) : <div className=\"col-sm-8\"> {null} </div>}\n      </div>\n      {children}\n    </div>\n  );\n}\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}