(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{239:function(e,n,t){},258:function(e,n,t){},345:function(e,n,t){},485:function(e,n){},486:function(e,n,t){"use strict";t.r(n);var l=t(1),a=t.n(l),r=t(38),i=t.n(r),s=(t(239),t(2)),c=t(11),o=t.n(c),u=(t(258),[[['"id"','"name"','"parent_id"','"position"','"comment"','"section_title"','"cond"','"check"','"color"','"pre_check"','"importance'],[1,'"Dossier infirmier pr\xe9sent"',-1,0,null,'"Infirmi\xe8re de l\'unit\xe9 de soin qui pr\xe9pare le patient"','{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[2,'"Patient"',-1,1,null,null,'{"yes":[],"no":[],"num":[]}','["list_patient-states"]',"[0]",null,0],[3,'"Le patient d\xe9cline son nom"',-1,2,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no","na"]',"[0,1,2]",null,0],[4,'"Le patient d\xe9cline son pr\xe9nom"',-1,3,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no","na"]',"[0,1,2]",null,0],[5,'"Le patient d\xe9cline sa date de naissance"',-1,4,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no","na"]',"[0,1,2]",null,0],[6,'"V\xe9rifier la concordance entre le dossier et le bracelet d\'identit\xe9 du patient"',-1,5,null,null,'{"yes":[],"no":[],"num":[]}','["ok","not_ok"]',"[0,1]",null,0],[7,'"Consentement du patient"',-1,6,'"Pdf du Consentement"',null,'{"yes":[],"no":[],"num":[{"var":"age","op":">","val":17}]}','["yes","no"]',"[0,1]",null,0],[8,'"Consentement des deux parents ( <18 ans )"',-1,7,'"Pdf du Consentement"',null,'{"yes":[],"no":[],"num":[{"var":"age","op":"<","val":18}]}','["yes","no"]',"[0,1]",null,0],[9,'"Le patient d\xe9cline le c\xf4t\xe9 \xe0 op\xe9rer"',-1,8,null,null,'{"yes":[],"no":[],"num":[]}','["left","right","bilateral","idk","na"]',"[2,2,2,1,2]",null,0],[10,'"Marquage r\xe9alis\xe9 ?"',-1,9,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[11,'"Pr\xe9paration du site op\xe9ratoire"',-1,10,null,null,'{"yes":[],"no":[],"num":[]}','["ok","not_ok"]',"[0,1]",null,0],[12,"\"L'infirmi\xe8re v\xe9rifie dans le dossier le type d'intervention\"",-1,11,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[13,'"Maladies transmissibles connues"',-1,12,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no"]',"[1,0,2]",null,0],[14,'"Lesquelles ?_Maladies"',13,0,null,null,'{"yes":[13],"no":[],"num":[]}','["list_diseases"]',"[1]",null,0],[15,'"Patient(e) sous Xarelto. Arr\xeat\xe9 depuis 48h ?"',-1,13,null,null,'{"yes":[],"no":[],"num":[{"var":"xarelto","op":"=","val":"vrai"}]}','["yes","no"]',"[0,1]",null,1],[16,'"Patient(e) sous Insuline. Pas d\u2019injection personnelle ce matin ?"',-1,14,null,null,'{"yes":[],"no":[],"num":[{"var":"insulin","op":"=","val":"vrai"}]}','["yes","no"]',"[1,0]",null,1],[17,'"Patient(e) \xe0 jeun"',-1,15,null,'"\xc0 v\xe9rifier"','{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[18,'"Vernis \xe0 ongles \xf4t\xe9"',-1,16,null,null,'{"yes":[],"no":[],"num":[{"var":"age","op":">","val":11}]}','["yes","no"]',"[0,1]",null,0],[19,'"A urin\xe9"',-1,17,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[20,'"Proth\xe8ses retir\xe9es (dentier, appareil auditif, lentilles)"',-1,18,null,null,'{"yes":[],"no":[],"num":[{"var":"age","op":">","val":11}]}','["yes","no"]',"[0,1]",null,0],[21,'"Bijoux/piercings \xf4t\xe9s"',-1,19,null,null,'{"yes":[],"no":[],"num":[{"var":"age","op":">","val":11}]}','["yes","no"]',"[0,1]",null,0],[22,'"M\xe9dicamenteuses d\xe9clar\xe9es"',-1,20,null,'"Le patient d\xe9clare ses allergies"','{"yes":[],"no":[],"num":[]}','["yes","no","na"]',"[1,0,2]",null,0],[23,'"Lesquelles ?_Allergies_Meds"',22,0,null,null,'{"yes":[22],"no":[],"num":[]}','["list_alergy-meds"]',"[1]",null,0],[24,'"Alimentaires d\xe9clar\xe9es"',-1,21,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no","na"]',"[1,0,2]",null,0],[25,'"Lesquelles ?_Allergies_Alim"',24,0,null,null,'{"yes":[24],"no":[],"num":[]}','["list_alergy-aliments"]',"[1]",null,0],[26,'"Hygi\xe8ne du patient correcte"',-1,22,null,'"Hygi\xe8ne"','{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[27,'"Propret\xe9 et int\xe9grit\xe9 du site op\xe9ratoire"',-1,23,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[28,'"Pr\xe9sence de bas de contention"',-1,24,null,null,'{"yes":[],"no":[],"num":[{"var":"age","op":">","val":11}]}','["yes","no","na"]',"[0,1,2]",null,0],[29,'"Scan :"',-1,25,null,'"Infirmi\xe8r(e) de l\'US qui a pr\xe9par\xe9 le patient pour le BO "','{"yes":[],"no":[],"num":[]}','["scan"]',"[0]",null,0]],[['"id"','"name"','"parent_id"','"position"','"comment"','"section_title"','"cond"','"check"','"color"','"pre_check"','"importance'],[1,'"Dossier infirmier pr\xe9sent"',-1,0,null,'"Infirmi\xe8re de l\'unit\xe9 de soin qui pr\xe9pare le patient"','{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[2,'"Patient"',-1,1,null,null,'{"yes":[],"no":[],"num":[]}','["list_patient-states"]',"[0]",null,0],[3,'"Le patient d\xe9cline son nom"',-1,2,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no","na"]',"[0,1,2]",null,0],[4,'"Le patient d\xe9cline son pr\xe9nom"',-1,3,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no","na"]',"[0,1,2]",null,0],[5,'"Le patient d\xe9cline sa date de naissance"',-1,4,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no","na"]',"[0,1,2]",null,0],[6,'"V\xe9rifier la concordance entre le dossier et le bracelet d\'identit\xe9 du patient"',-1,5,null,null,'{"yes":[],"no":[],"num":[]}','["ok","not_ok"]',"[0,1]",null,0],[7,'"Consentement du patient"',-1,6,'"Pdf du Consentement"',null,'{"yes":[],"no":[],"num":[{"var":"age","op":">","val":17}]}','["yes","no"]',"[0,1]",null,0],[8,'"Consentement des parents ( <18 ans )"',-1,7,'"Pdf du Consentement"',null,'{"yes":[],"no":[],"num":[{"var":"age","op":"<","val":18}]}','["yes","no"]',"[0,1]",null,0],[9,'"Le patient d\xe9cline le c\xf4t\xe9 \xe0 op\xe9rer"',-1,8,null,null,'{"yes":[],"no":[],"num":[]}','["left","right","bilateral","idk","na"]',"[2,2,2,1,2]",null,0],[10,'"Marquage r\xe9alis\xe9 ?"',-1,9,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[11,'"Pr\xe9paration du site op\xe9ratoire"',-1,10,null,null,'{"yes":[],"no":[],"num":[]}','["ok","not_ok"]',"[0,1]",null,0],[12,"\"L'infirmi\xe8re v\xe9rifie dans le dossier le type d'intervention\"",-1,11,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[13,'"Maladies transmissibles connues"',-1,12,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no"]',"[1,0,2]",null,0],[14,'"Lesquelles ?_Maladies"',13,0,null,null,'{"yes":[13],"no":[],"num":[]}','["list_diseases"]',"[1]",null,0],[15,'"Arr\xeat coagulant ?"',-1,13,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[16,'"Patient(e) \xe0 jeun"',-1,14,null,'"\xc0 v\xe9rifier"','{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[17,'"Vernis \xe0 ongles \xf4t\xe9"',-1,15,null,null,'{"yes":[],"no":[],"num":[{"var":"age","op":">","val":11}]}','["yes","no"]',"[0,1]",null,0],[18,'"A urin\xe9"',-1,16,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[19,'"Proth. dentaire/auditives/lentilles \xf4t\xe9es"',-1,17,null,null,'{"yes":[],"no":[],"num":[{"var":"age","op":">","val":11}]}','["yes","no"]',"[0,1]",null,0],[20,'"Bijoux/piercings \xf4t\xe9s"',-1,18,null,null,'{"yes":[],"no":[],"num":[{"var":"age","op":">","val":11}]}','["yes","no"]',"[0,1]",null,0],[21,'"Patient(e) sous Xarelto. Arr\xeat\xe9 depuis 48h ?"',-1,19,null,null,'{"yes":[],"no":[],"num":[{"var":"xarelto","op":"=","val":"vrai"}]}','["yes","no"]',"[0,1]",null,0],[22,'"Patient(e) sous Insuline. Pas d\u2019injection personnelle ce matin ?"',-1,20,null,null,'{"yes":[],"no":[],"num":[{"var":"insulin","op":"=","val":"vrai"}]}','["yes","no"]',"[0,1]",null,0],[23,'"M\xe9dicamenteuses d\xe9clar\xe9es"',-1,21,null,'"Le patient d\xe9clare ses allergies"','{"yes":[],"no":[],"num":[]}','["yes","no","na"]',"[1,0,2]",null,0],[24,'"Lesquelles ?_Allergies_Meds"',23,0,null,null,'{"yes":[23],"no":[],"num":[]}','["list_alergy-meds"]',"[1]",null,0],[25,'"Alimentaires d\xe9clar\xe9es"',-1,22,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no","na"]',"[1,0,2]",null,0],[26,'"Lesquelles ?_Allergies_Alim"',25,0,null,null,'{"yes":[25],"no":[],"num":[]}','["list_alergy-aliments"]',"[1]",null,0],[27,'"Hygi\xe8ne du patient correcte"',-1,23,null,'"Hygi\xe8ne"','{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[28,'"Propret\xe9 et int\xe9grit\xe9 du site op\xe9ratoire"',-1,24,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[29,'"Pr\xe9sence de bas de contention"',-1,25,null,null,'{"yes":[],"no":[],"num":[{"var":"age","op":">","val":11}]}','["yes","no","na"]',"[0,1,2]",null,0],[30,'"Scan :"',-1,26,null,'"Infirmi\xe8re qui accueille le patient au BO :"','{"yes":[],"no":[],"num":[]}','["scan"]',"[0]",null,0]],[['"id"','"name"','"parent_id"','"position"','"comment"','"section_title"','"cond"','"check"','"color"','"pre_check"','"importance'],[1,'"Date de l\'intervention"',-1,0,null,null,'{"yes":[],"no":[],"num":[]}','["date"]',"[0,1,2]",null,0],[2,'"Heure"',-1,1,null,null,'{"yes":[],"no":[],"num":[]}','["hour"]',"[0,1]",null,0],[3,'"Salle "',-1,2,null,null,'{"yes":[],"no":[],"num":[]}','["list_room"]',"[0,1]",null,0],[4,'"Pr\xe9sentation des personnes inhabituelles"',-1,3,null,'"Chirurgien / Inf. circul. / Instrumentaliste / Anesth\xe9siste"','{"yes":[],"no":[],"num":[]}','["yes","no","na"]',"[0,1,2]",null,0],[5,'"V\xe9rification identit\xe9 du patient"',-1,4,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[6,"\"Rappel de l'intitul\xe9 de l'intervention\"",-1,5,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[7,'"Site op\xe9ratoire"',-1,6,null,null,'{"yes":[],"no":[],"num":[]}','["left","right","bilateral","idk","na"]',"[2,2,2,1,2]",null,0],[8,'"Maladies transmissibles"',-1,7,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no"]',"[1,0]",null,0],[9,'"Lesquelles ?_Maladies"',8,0,null,null,'{"yes":[8],"no":[],"num":[]}','["list_diseases"]',"[1]",null,0],[10,'"Poches de sang disponibles ?"',-1,8,'"Poches de sang command\xe9es : _bloodbags"',null,'{"yes":[],"no":[],"num":[]}','["number"]',"[1]",null,0],[11,'"Cell saver disponible"',-1,9,null,null,'{"yes":[],"no":[],"num":[{"var":"type","op":"=","val":"major"}]}','["yes","no"]',"[0,1,2]",null,0],[12,'"Cell saver en ordre de marche"',-1,10,null,null,'{"yes":[],"no":[],"num":[{"var":"type","op":"=","val":"major"}]}','["yes","no"]',"[0,1]",null,0],[13,'"AB Prophyl."',-1,11,null,'"V\xe9rifications administration"','{"yes":[],"no":[],"num":[]}','["yes","no"]',"[2,2]",null,0],[14,'"Lesquels ?_Antibotiques"',13,0,null,null,'{"yes":[13],"no":[],"num":[]}','["list_antibiotics"]',"[0]",null,0],[15,'"Type d\'an\xe9sth\xe9sie "',-1,12,null,'"An\xe9sthesiste"','{"yes":[],"no":[],"num":[]}','["list_anesthesia"]',"[0,1]",null,0],[16,'"Mat\xe9riel d\'anesth\xe9sie disponible / ordre de marche"',-1,13,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[17,'"Respirateur"',-1,14,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[18,'"Oxym. de pouls"',-1,15,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[19,'"Monitoring"',-1,16,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[20,'"Mat\xe9riel de monitorage invasif disponible (cath\xe9 art\xe9riel, VVC,\u2026) "',-1,17,null,null,'{"yes":[],"no":[],"num":[{"var":"type","op":"=","val":"major"}]}','["yes","no"]',"[0,1]",null,0],[21,'"Possibilit\xe9 de difficult\xe9s d\u2019intubation signal\xe9e"',-1,18,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no","na"]',"[1,0,2]",null,1],[22,'"Mat\xe9riel d\u2019intubation difficile disponible ?"',21,0,null,null,'{"yes":[21],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[23,'"Fibroscope en ordre de marche"',21,1,null,null,'{"yes":[21],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[24,'"2e anesth\xe9siste disponible ?"',21,2,null,null,'{"yes":[21],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[25,'"Mat\xe9riel pour l\'infirmi\xe8re circulante disponible et en ordre de marche "',-1,19,null,'"Infirmi\xe8re circulante"','{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[26,'"Imagerie disponible "',-1,20,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[27,'"Implants st\xe9riles et adapt\xe9s "',-1,21,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[28,'"La st\xe9rilit\xe9 du mat\xe9riel disposable et non disposable a \xe9t\xe9 v\xe9rifi\xe9e (r\xe9sultats des indicateurs + v\xe9rification date p\xe9remption)"',-1,22,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0]],[['"id"','"name"','"parent_id"','"position"','"comment"','"section_title"','"cond"','"check"','"color"','"pre_check"','"importance'],[1,'"Date de l\'intervention"',-1,0,null,null,'{"yes":[],"no":[],"num":[]}','["date"]',"[0,1,2]",null,0],[2,'"Heure"',-1,1,null,null,'{"yes":[],"no":[],"num":[]}','["hour"]',"[0,1]",null,0],[3,'"Salle "',-1,2,null,null,'{"yes":[],"no":[],"num":[]}','["list_room"]',"[0,1]",null,0],[4,'"Pr\xe9sentation des personnes inhabituelles"',-1,3,null,'"Chirurgien / Inf. circul. / Instrumentaliste / Anesth\xe9siste"','{"yes":[],"no":[],"num":[]}','["yes","no","na"]',"[0,1,2]",null,0],[5,'"V\xe9rification identit\xe9 du patient"',-1,4,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[6,"\"Rappel de l'intitul\xe9 de l'intervention\"",-1,5,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[7,'"Site op\xe9ratoire"',-1,6,null,null,'{"yes":[],"no":[],"num":[]}','["left","right","bilateral","na"]',"[2,2,2,2,2]",null,0],[8,'"Maladies transmissibles"',-1,7,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no"]',"[1,0]",null,0],[9,'"Lesquelles ?_"',8,0,null,null,'{"yes":[8],"no":[],"num":[]}','["list_diseases"]',"[1]",null,0],[10,'"Risque de perte sanguine ?"',-1,8,null,null,'{"yes":[],"no":[],"num":[{"var":"type","op":"=","val":"major"}]}','["yes","no","na"]',"[1,0,2]",null,0],[11,'"Poches de sang disponibles ?"',10,0,null,null,'{"yes":[10],"no":[],"num":[]}','["number"]',"[1]",null,0],[12,'"V\xe9rification installation patient correcte"',-1,9,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no","na"]',"[0,1,2]",null,0],[13,'"V\xe9rification plaque bistouri"',-1,10,null,null,'{"yes":[],"no":[],"num":[{"var":"type","op":"=","val":"major"}]}','["yes","no","na"]',"[0,1,2]",null,0],[14,'"V\xe9rification position patient"',-1,11,null,null,'{"yes":[],"no":[],"num":[{"var":"type","op":"=","val":"major"}]}','["yes","no","na"]',"[0,1,2]",null,0],[15,'"Documents n\xe9cessaires disponibles (RX, Imagerie, CD, ..)"',-1,12,null,'"Chirurgien"','{"yes":[],"no":[],"num":[]}','["yes","no","na"]',"[0,1,2]",null,0],[16,'"Particularit\xe9 de l\'intervention li\xe9e \xe0 la chirurgie \xe9nonc\xe9e"',-1,13,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no","na"]',"[0,1,2]",null,0],[17,'"Mat\xe9riel pour le chirurgien et/ou l\'instrumentiste disponible"',-1,14,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1,2]",null,0],[18,'"V\xe9rif. compte initial des compresses"',-1,15,null,'"An\xe9sthesiste"','{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0]],[],[['"id"','"name"','"parent_id"','"position"','"comment"','"section_title"','"cond"','"check"','"color"','"pre_check"','"importance'],[1,'"Pr\xe9l\xe9vements"',-1,0,null,'"Confirmation orale par le personnel aupr\xe8s de l\'\xe9quipe"','{"yes":[],"no":[],"num":[]}','["yes","no","na"]',"[1,0,2]",null,0],[2,'"Etiquet\xe9s correctement"',1,0,null,null,'{"yes":[1],"no":[],"num":[]}','["yes","no","na"]',"[0,1,2]",null,0],[3,'"Achemin\xe9s correctement"',1,1,null,null,'{"yes":[1],"no":[],"num":[]}','["yes","no","na"]',"[0,1,2]",null,0],[4,'"Signature"',-1,1,null,null,'{"yes":[],"no":[],"num":[]}','["signature"]',"[0,1]",null,0],[5,'"Signalement/notification \xe9crite des dysfonctionnements mat\xe9riels majeurs au responsable BO pr\xe9sent"',-1,2,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no","na"]',"[0,1,2]",null,0],[6,'"Dysfonctionnement/ Disponibilit\xe9 du mat\xe9riel implantable (Vis, proth\xe8se, greffe, ...)"',-1,3,null,'"Chirurgien / Inf. circul. / Instrumentaliste / Anesth\xe9siste"','{"yes":[],"no":[],"num":[]}','["yes","no","na"]',"[1,0,2]",null,0],[7,'"Drains, sonde urinaire, tamponnement, m\xe9chage, traitements, ..."',-1,4,null,'"Les prescriptions pour les suites op\xe9ratoires sont v\xe9rfi\xe9es de mani\xe8re conjointe (post op)"','{"yes":[],"no":[],"num":[]}','["yes","no", "na"]',"[0,1,2]",null,0],[18,'"Tout OK ?"',-1,5,null,'"D\xe9briefing"','{"yes":[0],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[19,'"Quels probl\xe8mes rencontr\xe9s ? "',18,0,null,null,'{"yes":[],"no":[18],"num":[]}','["list_problems"]',"[0]",null,0]],[['"id"','"name"','"parent_id"','"position"','"comment"','"section_title"','"cond"','"check"','"color"','"pre_check"','"importance'],[1,'"Anesth\xe9siste : Scan"',-1,0,null,'"Anesth\xe9sistes"','{"yes":[],"no":[],"num":[]}','["scan"]',"[0,1]",null,0],[2,'"Signature"',-1,1,null,null,'{"yes":[],"no":[],"num":[]}','["signature"]',"[0,1]",null,0],[3,'"Assistant Anesth\xe9siste : Scan"',-1,2,null,null,'{"yes":[],"no":[],"num":[]}','["scan"]',"[0,1]",null,0],[4,'"Signature"',-1,3,null,null,'{"yes":[],"no":[],"num":[]}','["signature"]',"[0,1]",null,0],[5,'"Chirurgien : Scan"',-1,4,null,'"Chirurgiens"','{"yes":[],"no":[],"num":[]}','["scan"]',"[0,1]",null,0],[6,'"Signature"',-1,5,null,null,'{"yes":[],"no":[],"num":[]}','["signature"]',"[0,1]",null,0],[7,'"Assistant Chirurgien : Scan"',-1,6,null,null,'{"yes":[],"no":[],"num":[]}','["scan"]',"[0,1]",null,0],[8,'"Signature"',-1,7,null,null,'{"yes":[],"no":[],"num":[]}','["signature"]',"[1,0,2]",null,0],[9,'"Infirmi\xe8re Circulante: Scan"',-1,8,null,'"Infirmi\xe8res"','{"yes":[],"no":[],"num":[]}','["scan"]',"[0]",null,0],[10,'"Signature"',-1,9,null,null,'{"yes":[],"no":[],"num":[]}','["signature"]',"[0]",null,0],[11,'"Infirmi\xe8re Instrumentiste : Scan"',-1,10,null,null,'{"yes":[],"no":[],"num":[]}','["scan"]',"[0]",null,0],[12,'"Signature"',-1,11,null,null,'{"yes":[0],"no":[],"num":[]}','["signature"]',"[0]",null,0]]]),d=[{path_id:1,patient_id:1,date:"01/01/2022"},{path_id:2,patient_id:2,date:"01/01/2022"},{path_id:3,patient_id:3,date:"01/01/2022"},{path_id:4,patient_id:4,date:"01/01/2022"},{path_id:5,patient_id:5,date:"01/01/2022"},{path_id:6,patient_id:6,date:"01/01/2022"}],m={1:{path_id:1,patient_id:1,date:"01/01/2022",checklists:[{checklist_id:1,name:"Unit\xe9 de soins",person:"Inf. de l'US qui pr\xe9pare le patient ",fill:!1,counter:!1},{checklist_id:2,name:"Accueil Patient BO",person:"Inf. BO qui accueille le patient",fill:!1,counter:!1},{checklist_id:3,name:"Avant Induction An\xe9sth\xe9sique",person:"Chirurgien/Inf. \n Circul./Instrumentiste/An\xe9st.",fill:!1,counter:!1},{checklist_id:4,name:"Avant Incision chirurgicale",person:"Chirurgien/Inf. \n Circul./Instrumentiste/Anest.",fill:!1,counter:!1},{checklist_id:5,name:"Compte des compresses",person:"Chirurgien/Inf. \n Circul./Instrumentiste/Anest.",fill:!1,counter:!0},{checklist_id:6,name:"Avant la sortie de la salle d'op\xe9ration",person:"Chirurgien/Inf. \n Circul./Instrumentiste/Anest.",fill:!1,counter:!1},{checklist_id:7,name:"Signatures",person:"Chirurgiens/An\xe9sth\xe9sistes/Infirmi\xe8res",fill:!1,counter:!1}]},2:{path_id:2,patient_id:2,date:"01/01/2022",checklists:[{checklist_id:1,name:"Unit\xe9 de soins",person:"Inf. de l'US qui pr\xe9pare le patient ",fill:!0,counter:!1},{checklist_id:2,name:"Accueil Patient BO",person:"Inf. BO qui accueille le patient",fill:!0,counter:!1},{checklist_id:3,name:"Avant Induction An\xe9sth\xe9sique",person:"Chirurgien/Inf. \n Circul./Instrumentiste/An\xe9st.",fill:!1,counter:!1},{checklist_id:4,name:"Avant Incision chirurgicale",person:"Chirurgien/Inf. \n Circul./Instrumentiste/Anest.",fill:!1,counter:!1},{checklist_id:5,name:"Compte des compresses",person:"Chirurgien/Inf. \n Circul./Instrumentiste/Anest.",fill:!1,counter:!0},{checklist_id:6,name:"Avant la sortie de la salle d'op\xe9ration",person:"Chirurgien/Inf. \n Circul./Instrumentiste/Anest.",fill:!1,counter:!1},{checklist_id:7,name:"Signatures",person:"Chirurgiens/An\xe9sth\xe9sistes/Infirmi\xe8res",fill:!1,counter:!1}]},3:{path_id:3,patient_id:3,date:"01/01/2022",checklists:[{checklist_id:1,name:"Unit\xe9 de soins",person:"Inf. de l'US qui pr\xe9pare le patient ",fill:!0,counter:!1},{checklist_id:2,name:"Accueil Patient BO",person:"Inf. BO qui accueille le patient",fill:!1,counter:!1},{checklist_id:3,name:"Avant Induction An\xe9sth\xe9sique",person:"Chirurgien/Inf. \n Circul./Instrumentiste/An\xe9st.",fill:!1,counter:!1},{checklist_id:4,name:"Avant Incision chirurgicale",person:"Chirurgien/Inf. \n Circul./Instrumentiste/Anest.",fill:!1,counter:!1},{checklist_id:5,name:"Compte des compresses",person:"Chirurgien/Inf. \n Circul./Instrumentiste/Anest.",fill:!1,counter:!0},{checklist_id:6,name:"Avant la sortie de la salle d'op\xe9ration",person:"Chirurgien/Inf. \n Circul./Instrumentiste/Anest.",fill:!1,counter:!1},{checklist_id:7,name:"Signatures",person:"Chirurgiens/An\xe9sth\xe9sistes/Infirmi\xe8res",fill:!1,counter:!1}]},4:{path_id:4,patient_id:4,date:"01/01/2022",checklists:[{checklist_id:1,name:"Unit\xe9 de soins",person:"Inf. de l'US qui pr\xe9pare le patient ",fill:!0,counter:!1},{checklist_id:2,name:"Accueil Patient BO",person:"Inf. BO qui accueille le patient",fill:!1,counter:!1},{checklist_id:3,name:"Avant Induction An\xe9sth\xe9sique",person:"Chirurgien/Inf. \n Circul./Instrumentiste/An\xe9st.",fill:!1,counter:!1},{checklist_id:4,name:"Avant Incision chirurgicale",person:"Chirurgien/Inf. \n Circul./Instrumentiste/Anest.",fill:!1,counter:!1},{checklist_id:5,name:"Compte des compresses",person:"Chirurgien/Inf. \n Circul./Instrumentiste/Anest.",fill:!1,counter:!0},{checklist_id:6,name:"Avant la sortie de la salle d'op\xe9ration",person:"Chirurgien/Inf. \n Circul./Instrumentiste/Anest.",fill:!1,counter:!1},{checklist_id:7,name:"Signatures",person:"Chirurgiens/An\xe9sth\xe9sistes/Infirmi\xe8res",fill:!1,counter:!1}]},5:{path_id:5,patient_id:5,date:"01/01/2022",checklists:[{checklist_id:1,name:"Unit\xe9 de soins",person:"Inf. de l'US qui pr\xe9pare le patient ",fill:!0,counter:!1},{checklist_id:2,name:"Accueil Patient BO",person:"Inf. BO qui accueille le patient",fill:!1,counter:!1},{checklist_id:3,name:"Avant Induction An\xe9sth\xe9sique",person:"Chirurgien/Inf. \n Circul./Instrumentiste/An\xe9st.",fill:!1,counter:!1},{checklist_id:4,name:"Avant Incision chirurgicale",person:"Chirurgien/Inf. \n Circul./Instrumentiste/Anest.",fill:!1,counter:!1},{checklist_id:5,name:"Compte des compresses",person:"Chirurgien/Inf. \n Circul./Instrumentiste/Anest.",fill:!1,counter:!0},{checklist_id:6,name:"Avant la sortie de la salle d'op\xe9ration",person:"Chirurgien/Inf. \n Circul./Instrumentiste/Anest.",fill:!1,counter:!1},{checklist_id:7,name:"Signatures",person:"Chirurgiens/An\xe9sth\xe9sistes/Infirmi\xe8res",fill:!1,counter:!1}]},6:{path_id:6,patient_id:6,date:"01/01/2022",checklists:[{checklist_id:1,name:"Unit\xe9 de soins",person:"Inf. de l'US qui pr\xe9pare le patient ",fill:!0,counter:!1},{checklist_id:2,name:"Accueil Patient BO",person:"Inf. BO qui accueille le patient",fill:!1,counter:!1},{checklist_id:3,name:"Avant Induction An\xe9sth\xe9sique",person:"Chirurgien/Inf. \n Circul./Instrumentiste/An\xe9st.",fill:!1,counter:!1},{checklist_id:4,name:"Avant Incision chirurgicale",person:"Chirurgien/Inf. \n Circul./Instrumentiste/Anest.",fill:!1,counter:!1},{checklist_id:5,name:"Compte des compresses",person:"Chirurgien/Inf. \n Circul./Instrumentiste/Anest.",fill:!1,counter:!0},{checklist_id:6,name:"Avant la sortie de la salle d'op\xe9ration",person:"Chirurgien/Inf. \n Circul./Instrumentiste/Anest.",fill:!1,counter:!1},{checklist_id:7,name:"Signatures",person:"Chirurgiens/An\xe9sth\xe9sistes/Infirmi\xe8res",fill:!1,counter:!1}]}},p=[{id:1,user_code:"1234567",lastname:"Jonas",firstname:"Michel",role:"Assistant An\xe9st."},{id:2,user_code:"7654321",lastname:"Van Acker",firstname:"Denise",role:"Infirmi\xe8re US"}],b=[{id:1,patient_code:"12345678",lastname:"Dubois",firstname:"Germaine"},{id:2,patient_code:"65464684",lastname:"Vandamme",firstname:"Gilbert"},{id:3,patient_code:"54875149",lastname:"Franklin",firstname:"Rachel"},{id:4,patient_code:"56892134",lastname:"Leroy",firstname:"Michel"},{id:5,patient_code:"96587412",lastname:"Girard",firstname:"Alexandra"},{id:6,patient_code:"78451236",lastname:"Van den Broucke",firstname:"Kevin"}],h={1:{id:1,patient_code:"12345678",lastname:"Dubois",firstname:"Germaine",gender:"F",dateofbirth:"01/01/1940",optional_data:{diabetic:"faux",difficult_intubation:"vrai",insulin:"faux",xarelto:"faux"},photo:"photos/photo1.jpg",consent_pdf:"photos/pdf1.jpg",type:"major",intervention_name:"PTG"},2:{id:2,patient_code:"65464684",lastname:"Vandamme",firstname:"Gilbert",gender:"M",dateofbirth:"01/01/2017",optional_data:{diabetic:"vrai",difficult_intubation:"vrai",insulin:"faux",xarelto:"faux"},photo:"photos/photo2.jpg",consent_pdf:"photos/pdf1.jpg",type:"minor",intervention_name:"Ablation V\xe9g\xe9tations"},3:{id:3,patient_code:"54875149",lastname:"Franklin",firstname:"Rachel",gender:"F",dateofbirth:"01/01/1986",optional_data:{diabetic:"faux",difficult_intubation:"faux",insulin:"faux",xarelto:"faux"},photo:"photos/photo3.jpg",consent_pdf:"photos/pdf1.jpg",type:"minor",intervention_name:"Varice bilat\xe9rale"},4:{id:4,patient_code:"56892134",lastname:"Leroy",firstname:"Michel",gender:"M",dateofbirth:"01/01/1958",optional_data:{diabetic:"vrai",difficult_intubation:"vrai",insulin:"vrai",xarelto:"vrai",bloodbags:3},photo:"photos/photo4.jpg",consent_pdf:"photos/pdf1.jpg",type:"major",intervention_name:"An\xe9vrisme Aorte Abdominale"},5:{id:5,patient_code:"96587412",lastname:"Girard",firstname:"Alexandra",gender:"F",dateofbirth:"01/01/1986",optional_data:{diabetic:"faux",difficult_intubation:"faux",insulin:"faux",xarelto:"faux"},photo:"photos/photo5.jpg",consent_pdf:"photos/pdf1.jpg",type:"minor",intervention_name:"Varices"},6:{id:6,patient_code:"78451236",lastname:"Van den Broucke",firstname:"Kevin",gender:"M",dateofbirth:"01/01/1970",optional_data:{diabetic:"faux",difficult_intubation:"faux",insulin:"faux",xarelto:"faux"},photo:"photos/photo6.jpg",consent_pdf:"photos/pdf1.jpg",type:"minor",intervention_name:"Varice"}},j={meds:["Mc","Lis","Kl","Eft","Aucun"],diseases:["H\xe9patite A","H\xe9patite B","H\xe9patite C","Covid","HIV","Tuberculose","MRSA"],"patient-states":["Conscient","Inconscient","D\xe9ment","Dyscommunicant"],"alergy-meds":["Latex","Peniciline","Insuline","Ibuprof\xe8ne"],"alergy-aliments":["Gluten","Lactose","Arachides","Banane","Kiwi","Noix","Fruits secs"],nurses:["Avril Charpentier"," Emilie Lachance","Camille Dupond","Alix Lefurgey","Bastien Bellerose","J\xe9r\xe9my Duchamps"],anesthesists:["Jean Dupond","Carole Marchal","Louis Libier","Charles Van Acker"],room:["N1","N2","N3","N4","N5","N6","U1","U2","U3","U4","U5","U6","U7","U8","U9","U10","I1","I2","I3","I4"],antibiotics:["Cefazoline","Zinacef","Flagyl"],anesthesia:["AG","AG + \xe9pidurale","\xe9pidurale","rachi","bloc"],problems:["Complications m\xe9dicales","Dysfonct. mat\xe9r. : Pr\xe9paration incorrecte","Dysfonct. mat\xe9r. : Probl\xe8me de proth\xe8se","Dysfonct. mat\xe9r. : Probl\xe8me de st\xe9rilisation"]},x={meds:"M\xe9dicaments",diseases:"Maladies","patient-states":"Etats Patients","alergy-meds":"Allergies M\xe9dicamenteuses","alergy-aliments":"Allergies Alimentaires",nurses:"Infirmi\xe8res",anesthesists:"Anesth\xe9sistes",room:"Salle",antibiotics:"Antibiotiques"},v=(t(259),["yes","no","idk","ok","not_ok","normal","anormal","left","right","na","a","b","c","d","text","list","date","hour","scan","signature","bilateral","number"]),y={yes:"Oui",no:"Non",idk:"?",ok:"OK",not_ok:"Non OK",normal:"Normal",anormal:"Anormal",na:"N.A.",left:"Gauche",right:"Droite",a:"A",b:"B",c:"C",d:"D",text:"Texte",list:"Liste",date:"Date",hour:"Hour",scan:"Scan",signature:"Signature",bilateral:"Bilat\xe9ral",number:"Nombre"},f=["diabetic","age","yearofbirth","difficult_intubation","gender","xarelto","insulin"],O={diabetic:"Diab\xe9tique",age:"\xc2ge",yearofbirth:"Ann\xe9e de naissance",difficult_intubation:"Intubation Difficile",gender:"Genre",xarelto:"Patient sous Xarelto",insulin:"Patient sous Insuline"},g=["<",">","="],k=function(e){return y[e]},C=function(e){return O[e]};var N=function(e,n,t){switch(n){case">":return e>t;case"<":return e<t;case"=":case"est":return e===t;default:return!0}};function _(e,n,t,l){this.dataArray=e,this.fileName=n,this.separator=t||";",this.addQuotes=!!l,this.addQuotes&&(this.separator='"'+this.separator+'"'),this.getDownloadLink=function(){var e=this.separator,n=this.addQuotes,t="data:text/csv;charset=utf-8",l=this.dataArray.map((function(t){var l=t.join(e);return l.length&&n?'"'+l+'"':l})).join("\n");return"function"===typeof btoa?(t+=";base64",l=btoa(l)):l=encodeURIComponent(l),this.downloadLink=this.downloadLink||t+","+l},this.getLinkElement=function(e){var n=this.getDownloadLink(),t=this.fileName;return this.linkElement=this.linkElement||function(){var l=document.createElement("a");return l.innerHTML=e||"",l.href=n,l.download=t,l}(),this.linkElement},this.download=function(e){var n=this.getLinkElement();n.style.display="none",document.body.appendChild(n),n.click(),e&&document.body.removeChild(n)}}function w(e){var n=[{}];return n=A(e,n,0,0),console.log(n),function(e){var n="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(e,null,"\t"));console.log(n);var t=document.createElement("a");t.href=n,t.download="checklist.json",document.body.appendChild(t),t.click(),t.remove()}(n),n}function A(e,n,t,l){e.id>0&&(console.log(JSON.stringify(e.cond)),n.push({id:e.id,name:e.name,parent_itemId:t,position:l,comment:e.comment,section_title:e.section_title,cond:JSON.stringify(e.cond),check:JSON.stringify(e.check),color:JSON.stringify(e.color),pre_check:e.pre_check?JSON.stringify(e.pre_check):null}));for(var a=0;a<e.values.length;a++)n=A(e.values[a],n,e.id,a);return n}function I(e,n){return S({checklist_id:n,id:-1,num_values:[],values:[]},e)}function S(e,n){var t=n.filter((function(n){return n[2]===e.id}));if(t.sort((function(e,n){return e[3]-n[3]})),!t.length)return e;for(var l=0;l<t.length;l++){var a=t[l],r={id:a[0],name:JSON.parse(a[1]),comment:JSON.parse(a[4]),section_title:JSON.parse(a[5]),cond:JSON.parse(a[6]),check:JSON.parse(a[7]),color:JSON.parse(a[8]),pre_check:JSON.parse(a[9]),importance:JSON.parse(a[10]),values:[]};r=S(r,n),e.values.push(r)}return e}var E=t(22),B=t(492),D=t(0);function F(e){var n=e.props,t=n.creationMode,a=n.setCreationMode,r=(n.creditMode,n.setCreditMode),i=n.setCommentMode,c=n.commentMode,u=n.setDebugMode,d=n.debugMode,m=(n.trimmedCanvasUrl,n.checklistList),p=(n.swapchecklist,n.reset,n.forceUpdate,n.import_csv_result),b=(n.result,n.setCurrentQuestion),h=n.checklist,j=n.homeMode,x=n.setHomeMode,v=n.setChecklistList,y=n.setScanValue,f=n.setCurrentPatient,O=n.setUserCode,g=n.setScanValueError,k=n.setCurrentUser,C=function(){a(!1),b(h&&h.values.length?h.values[0]:null)},N=function(){t?(C(),_(!0)):(a(!0),x(!1))},_=function(e){r(!1),C(),x(!0),g(null),e&&(v(null),y(null),f(null),O(null),k(null))},w=Object(l.useState)(!1),A=Object(s.a)(w,2),I=A[0],S=A[1],F=function(){P(null),T(null),S(!1)},q=Object(l.useState)(""),G=Object(s.a)(q,2),M=G[0],P=G[1],R=Object(l.useState)(""),L=Object(s.a)(R,2),V=L[0],T=L[1];return Object(D.jsx)("div",{className:"iq-top-navbar h-auto",children:Object(D.jsx)("div",{className:"iq-navbar-custom py-2",children:Object(D.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light p-0 ",children:[Object(D.jsx)("div",{className:"navbar-brand pl-4",children:Object(D.jsx)("a",{href:"#",onClick:function(){return _(!0)},children:Object(D.jsx)("span",{children:"SLS"})})}),Object(D.jsx)("button",{className:"navbar-toggler p-0","data-toggle":"collapse","data-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(D.jsx)("span",{className:"navbar-toggler-icon"})}),Object(D.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNavAltMarkup",children:Object(D.jsxs)("div",{className:"navbar-nav  p-2 pl-4",children:[m?Object(D.jsx)("label",{className:"nav-link m-0 my-auto","data-toggle":"collapse","data-target":".navbar-collapse.show",onClick:function(){return _(!0)},children:"Revenir \xe0 l'accueil"}):null,t||!m||j?null:Object(D.jsx)("label",{className:"nav-link m-0 my-auto","data-toggle":"collapse","data-target":".navbar-collapse.show",onClick:function(){return _(!1)},children:"Revenir \xe0 la s\xe9lection des checklists"}),m&&!j?Object(D.jsx)("label",{className:"nav-link m-0 my-auto","data-toggle":"collapse","data-target":".navbar-collapse.show",onClick:p,children:"Importer les r\xe9sultats de la checklist"}):null,t?null:Object(D.jsx)("label",{className:"nav-link m-0 my-auto","data-toggle":"collapse","data-target":".navbar-collapse.show",onClick:function(){return N()},children:"Activer Mode Cr\xe9ation"}),t?Object(D.jsx)("label",{className:"nav-link m-0 my-auto","data-toggle":"collapse","data-target":".navbar-collapse.show",onClick:function(){return N()},children:"D\xe9sactiver Mode Cr\xe9ation"}):null,Object(D.jsxs)("li",{className:"nav-item dropdown my-auto",children:[Object(D.jsx)("label",{className:"nav-link dropdown-toggle m-0",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-expanded":"false",children:"Options"}),Object(D.jsxs)("ul",{className:"dropdown-menu","aria-labelledby":"navbarDropdown",children:[Object(D.jsx)("li",{children:Object(D.jsxs)("label",{className:"dropdown-item m-0","data-toggle":"collapse","data-target":".navbar-collapse.show",children:[Object(D.jsx)("input",{type:"checkbox",checked:!d,onClick:function(){u(!d)}}),"\xa0 Activer le dynamisme"]})}),Object(D.jsx)("li",{children:Object(D.jsxs)("label",{className:"dropdown-item m-0","data-toggle":"collapse","data-target":".navbar-collapse.show",children:[Object(D.jsx)("input",{type:"checkbox",checked:c,onClick:function(){i(!c)}}),"\xa0 Activer les commentaires"]})})]})]}),Object(D.jsx)("label",{className:"nav-link m-0 my-auto","data-toggle":"collapse","data-target":".navbar-collapse.show",onClick:function(){r(!0)},children:"A propos"}),Object(D.jsx)("div",{className:"nav-link m-0",children:Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(B.a,{variant:"warning",onClick:function(){return S(!0)},children:"Signaler \xe9v\xe8nement"}),Object(D.jsxs)(E.a,{show:I,onHide:F,children:[Object(D.jsx)(E.a.Header,{closeButton:!0,variant:"white",children:Object(D.jsx)(E.a.Title,{children:"Signalement d'\xe9v\xe8nements ind\xe9sirables"})}),Object(D.jsxs)(E.a.Body,{children:["Type de probl\xe8me",Object(D.jsxs)("div",{className:"row my-2",children:[Object(D.jsxs)("div",{className:"col-sm-6 dropdown text-center m-0 my-auto",children:[Object(D.jsx)("button",{className:"btn btn-info dropdown-toggle  ",type:"button",id:"dropdownMenuButton1","data-toggle":"dropdown","aria-expanded":"false",children:"S\xe9lectionnez le probl\xe8me"}),Object(D.jsx)("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:["Probl\xe8me Patient : Arriv\xe9e tardive","Probl\xe8me Patient : Pas \xe0 jeun","Probl\xe8me Brancardage : Arriv\xe9e tardive","Probl\xe8me Brancardage : Mat\xe9riel","Probl\xe8me Brancardage : Mauvaise Pr\xe9paration","Autre"].map((function(e,n){return Object(D.jsx)("li",{children:Object(D.jsx)("label",{className:"dropdown-item ",onClick:function(){return P(e)},children:e})},n)}))})]}),M?Object(D.jsx)("div",{className:"col-sm-5 iq-card iq-bg-secondary w-100 text-center my-2 mx-2 border border-dark ",children:M}):null]}),"Description du probl\xe8me",Object(D.jsx)("textarea",{className:"form-control form-control-custom textarea",rows:"4",value:V,onChange:function(e){return T(e.target.value)}})]}),Object(D.jsxs)(E.a.Footer,{children:[Object(D.jsx)(B.a,{variant:"secondary",onClick:F,children:"Fermer"}),Object(D.jsx)(B.a,{variant:"primary",onClick:function(){S(!1),P(null),T(null),o.a.post("#",{name:M,description:V}).then((function(e){}))},children:"Sauvegarder"})]})]})]})})]})})]})})})}var q=t(48),G=t(10),M=t(12),P=t.n(M);function R(e){var n=e.props,t=n.checklist,a=n.setChecklist,r=n.checklistList,i=n.setChecklistList,c=n.checklistId,d=n.setChecklistId,p=n.forceUpdate,b=n.currentQuestion,h=n.setCurrentQuestion,y=n.reset,O=Object(l.useState)(null),N=Object(s.a)(O,2),_=N[0],A=N[1],S=Object(l.useState)(null),E=Object(s.a)(S,2),B=E[0],F=E[1],M=Object(l.useState)(null),R=Object(s.a)(M,2),L=R[0],V=R[1],T=Object(l.useState)(null),U=Object(s.a)(T,2),K=U[0],Q=U[1],H=Object(l.useState)({}),J=Object(s.a)(H,2),z=J[0],X=J[1],W=Object(l.useState)(null),Z=Object(s.a)(W,2),Y=Z[0],$=Z[1],ee=Object(l.useState)(0),ne=Object(s.a)(ee,2),te=ne[0],le=ne[1],ae=Object(l.useState)(!1),re=Object(s.a)(ae,2),ie=re[0],se=re[1],ce=function(e,n){(t=I(u[n-1],n)).name=e.filter((function(e){return e.checklist_id===n}))[0].name,t.person=e.filter((function(e){return e.checklist_id===n}))[0].person,t.counter=e.filter((function(e){return e.checklist_id===n}))[0].counter,a(t),d(n),h(t.values[0]),y(),A(t),F(t.values[0].name),V(t.values[0].comment),Q(t.values[0].section_title?t.values[0].section_title:null),$({type:"and",then:t.values[0].pre_check&&t.values[0].pre_check.then?t.values[0].pre_check.then:null})};Object(l.useEffect)((function(){o.a.get("#").then((function(e){console.log(e);var n=m[1].checklists,t=n[0].checklist_id;n&&n.length&&(i(n,n),ce(n,t))}))}),[]),console.log("main",b),console.log("name",B);var oe=[];t&&function e(n){n.id>0&&oe.push(n.id);var t,l=Object(G.a)(n.values);try{for(l.s();!(t=l.n()).done;){e(t.value)}}catch(a){l.e(a)}finally{l.f()}}(t);var ue=[],de=[],me=[];b&&(ue=[],v.forEach((function(e){["text","list"].includes(e)?me.push({labelKey:e,value:k(e)}):(ue.push({labelKey:e,value:k(e),isSelected:b.check.includes(e)}),de.push({labelKey:e,value:k(e)}))})));var pe=[];b&&(pe=[],f.forEach((function(e){pe.push({labelKey:e,value:C(e)})})));var be=JSON.parse(JSON.stringify(pe));b&&oe.forEach((function(e){be.push({labelKey:e,value:"Question "+e})}));var he=[];b&&(he=[],g.forEach((function(e){he.push({labelKey:e,value:e})})));var je=[];b&&(je=[],b.check.forEach((function(e){je.push({labelKey:e,value:k(e)})})));var xe=[];function ve(e,n,t){if(e.id===t)return console.log("found",e),_=n,h(b=e),A(_),F(b.name),X({}),$({}),V(b.comment),Q(b.section_title),le(!te),se(!1),b;var l,a=null,r=Object(G.a)(e.values);try{for(r.s();!(l=r.n()).done;){a=ve(l.value,e,t)||a}}catch(i){r.e(i)}finally{r.f()}return a}function ye(){_&&(_.values=_.values.filter((function(e){return e.id!==b.id})),function(e){console.log("reinit",e),h(e&&e.values.length?e.values[0]:null),A(e),F(e&&e.values.length?e.values[0].name:""),V(e&&e.values.length?e.values[0].comment:""),Q(e&&e.values[0].section_title?e.values[0].section_title:null),X({}),$({type:"and",then:e.values[0].pre_check&&e.values[0].pre_check.then?e.values[0].pre_check.then:null}),se(!1)}(t),p())}function fe(e,n){return e.id===n||e.values.length&&e.values.every((function(e){return fe(e)}))}function Oe(e){if(!fe(b,e)){var n=Object(q.a)({},b);n.cond={yes:[],no:[],num:[]},ye(),ve(t,null,e),b.values.splice(0,0,n),ve(t,null,n.id),p()}}b&&Object.keys(j).forEach((function(e){xe.push({labelKey:e,value:x[e]})}));var ge=function(e){if(e.selectedKey.length)if(e.selectedKey.includes("list")||e.selectedKey.includes("text"))"list"===e.selectedKey[0]?b.check=["list_meds"]:b.check=e.selectedKey;else{b.check=e.selectedKey;var n=b.color;b.check.length>=n.length&&(n=n.concat(new Array(b.check.length-n.length).fill(2))),b.color=n}else b.check=[];h(b),Ne(),p()},ke=function(e){z||(z={}),z.var&&["diabetic","difficult_intubation","gender"].includes(z.var)?z.val=e.selectedKey[0]:z.val=e.target.value,X(z),p()},Ce=function(e){Y.var&&!["age","yearofbirth"].includes(Y.var)?Y.val=e.selectedKey[0]:Y.val=e.target.value,$(Y),p()},Ne=function(){te=(te+1)%4};return console.log(b),console.log(B),Object(D.jsx)("div",{children:t&&Y?Object(D.jsxs)("div",{className:"container iq-card pt-2 mb-4 border border-dark shadow",children:[Object(D.jsx)("div",{className:"iq-card bg-primary text-center mb-2",children:Object(D.jsxs)("div",{className:"card-body",children:[Object(D.jsx)("h4",{className:"card-title text-white",children:"Mode Cr\xe9ation "}),Object(D.jsx)("p",{className:"card-text  m-0",children:"Vous pouvez ajouter, supprimer, modifier des checklists et des questions ici."}),Object(D.jsx)("p",{className:"card-text ",children:"La checklist modifi\xe9e s'affiche en dessous."})]})}),Object(D.jsxs)("div",{className:"row align-items-center p-0 m-0 pb-2 border-bottom border-",children:[Object(D.jsx)("div",{className:"col align-items-center ",children:Object(D.jsxs)("div",{className:"dropright text-center",children:[Object(D.jsx)("button",{className:"btn btn-info dropdown-toggle ",type:"button",id:"dropdownMenuButton1","data-toggle":"dropdown","aria-expanded":"false",children:"S\xe9lectionnez la checklist"}),Object(D.jsxs)("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:[Object(D.jsx)("li",{children:Object(D.jsx)("label",{className:"dropdown-item ",onClick:function(e){!function(){var e=r.length?r[r.length-1].checklist_id+1:0;o.a.post("http://checklists.metoui.be/api/checklists",{name:"Nouvelle Checklist",data:[[1,'"Question vide"',-1,0,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0]]}).then((function(n){ce(r,e),console.log("add checklist get call and set finished")}))}(),p()},children:"Nouvelle checklist"})}),r.map((function(e,n){return Object(D.jsx)("li",{children:Object(D.jsxs)("label",{className:"dropdown-item ",onClick:function(){ce(r,e.checklist_id)},children:["Checklist ",e.name]})},n)}))]})]})}),Object(D.jsx)("div",{className:"col align-items-center p-2",children:Object(D.jsxs)("div",{className:"iq-card card-light text-dark text-center shadow-sm mb-0 ",children:["Checklist ",t.name]})}),Object(D.jsx)("div",{className:"col align-items-center p-2",children:Object(D.jsxs)("div",{className:"iq-card card-light text-dark text-center shadow-sm mb-0",children:["Question n\xb0",b?b.id:" -"]})}),Object(D.jsx)("div",{className:"col align-items-center ",children:Object(D.jsxs)("div",{className:"dropleft text-center",children:[Object(D.jsx)("button",{className:"btn btn-info dropdown-toggle  ",type:"button",id:"dropdownMenuButton1","data-toggle":"dropdown","aria-expanded":"false",children:"S\xe9lectionnez la question"}),Object(D.jsxs)("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:[Object(D.jsx)("li",{children:Object(D.jsx)("label",{className:"dropdown-item ",onClick:function(e){!function(){var e=oe.length?oe.length:0,n={id:e+1,name:"",cond:{yes:[],no:[],num:[]},check:["yes","no"],color:[0,1],values:[]};t.values.push(n),ve(t,null,e+1)}(),p()},children:"Nouvelle question"})}),oe.map((function(e,n){return Object(D.jsx)("li",{children:Object(D.jsxs)("label",{className:"dropdown-item ",onClick:function(){ve(t,null,e)},children:["Question n\xb0",e]})},n)}))]})]})})]}),b?Object(D.jsxs)("div",{children:[Object(D.jsxs)("div",{className:"row align-items-center p-2 m-0 border-bottom",children:[Object(D.jsx)("div",{className:"col-sm-4 align-items-center text-dark ",children:"Nom de la checklist :"}),Object(D.jsx)("div",{className:"col-sm-8 align-items-center",children:Object(D.jsx)("input",{className:"form-control w-100 mb-0",type:"text ","aria-label":"text input",value:t.name,onChange:function(e){a(Object(q.a)(Object(q.a)({},t),{},{name:e.target.value}))}},c)})]}),Object(D.jsxs)("div",{className:"row align-items-center p-2 m-0 border-bottom border-dark",children:[Object(D.jsx)("div",{className:"col-sm-4 align-items-center text-dark ",children:"Description de la checklist :"}),Object(D.jsx)("div",{className:"col-sm-8 align-items-center",children:Object(D.jsx)("textarea",{className:"form-control form-control-custom textarea",rows:"2",value:t.description?t.description:"",onChange:function(e){a(Object(q.a)(Object(q.a)({},t),{},{description:e.target.value}))}})})]}),Object(D.jsxs)("div",{className:"row align-items-center p-2 m-0 border-bottom",children:[Object(D.jsx)("div",{className:"col-sm-4 align-items-center text-dark ",children:"Nom de la question :"}),Object(D.jsx)("div",{className:"col-sm-4 align-items-center",children:Object(D.jsx)("input",{className:"form-control w-100 mb-0",type:"text ","aria-label":"text input",value:B,onChange:function(e){B=e.target.value,F(B)}},c)}),Object(D.jsx)("div",{className:"col-sm-4 align-items-center p-0 text-center ",children:Object(D.jsx)("button",{className:"btn btn-warning ",onClick:function(){return b.name=B,h(b),void p()},children:"Valider le nom"})})]}),Object(D.jsxs)("div",{className:"row align-items-center p-2 m-0 border-bottom",children:[Object(D.jsx)("div",{className:"col-sm-4 align-items-center text-dark  ",children:"Commentaire (optionnel) de la question :"}),Object(D.jsx)("div",{className:"col-sm-4 align-items-center ",children:Object(D.jsx)("textarea",{className:"form-control form-control-custom textarea",id:"exampleFormControlTextarea1",rows:"2",value:L||"",onChange:function(e){L=e.target.value,V(L)}})}),Object(D.jsx)("div",{className:"col-sm-4 align-items-center p-0 text-center",children:Object(D.jsx)("button",{className:"btn btn-warning ",onClick:function(e){L?b.comment=L:delete b.comment,p(),p()},children:"Valider le commentaire"})})]}),-1===_.id?Object(D.jsxs)("div",{className:"row align-items-center p-2 m-0 border-bottom",children:[Object(D.jsx)("div",{className:"col-sm-4 align-items-center text-dark  ",children:"Nom de section (optionnel) devant la question :"}),Object(D.jsx)("div",{className:"col-sm-4 align-items-center ",children:Object(D.jsx)("textarea",{className:"form-control form-control-custom textarea",id:"exampleFormControlTextarea1",rows:"2",value:K||"",onChange:function(e){K=e.target.value,Q(K)}})}),Object(D.jsx)("div",{className:"col-sm-4 align-items-center p-0 text-center",children:Object(D.jsx)("button",{className:"btn btn-warning ",onClick:function(e){K?b.section_title=K:delete b.section_title,p(),p()},children:"Valider le titre"})})]}):null,Object(D.jsxs)("div",{className:"row align-items-center p-2 m-0 border-bottom",children:[Object(D.jsx)("div",{className:"col-sm-4 align-items-center text-dark",children:"Placer la question \xe0 la suite d'une autre :"}),Object(D.jsx)("div",{className:"col-sm-4 align-items-center"}),Object(D.jsx)("div",{className:"col-sm-4 align-items-center p-0 text-center",children:Object(D.jsxs)("div",{className:"dropleft text-center",children:[Object(D.jsx)("button",{className:"btn btn-warning dropdown-toggle ",type:"button",id:"dropdownMenuButton1","data-toggle":"dropdown","aria-expanded":"false",children:"Quelle question ?"}),Object(D.jsxs)("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:[Object(D.jsx)("li",{children:Object(D.jsx)("label",{className:"dropdown-item ",onClick:function(){return Oe(-1)},children:"Au d\xe9but"})}),oe.map((function(e,n){return Object(D.jsx)("li",{children:Object(D.jsxs)("label",{className:"dropdown-item ",onClick:function(){return function(e){if(!fe(b,e)){var n=Object(q.a)({},b);ye(),ve(t,null,e);var l=_.values.findIndex((function(n){return n.id===e}));n.cond={yes:[],no:[],num:[]},_.values.splice(l+1,0,n),ve(t,null,n.id),p()}}(e)},children:["Question n\xb0",e]})},n)}))]})]})})]}),Object(D.jsxs)("div",{className:"row align-items-center p-2 m-0 border-bottom",children:[Object(D.jsx)("div",{className:"col-sm-4 align-items-center text-dark ",children:"Placer la question comme d\xe9coulant d'une autre :"}),Object(D.jsx)("div",{className:"col-sm-4 align-items-center"}),Object(D.jsx)("div",{className:"col-sm-4 align-items-center p-0 text-center",children:Object(D.jsxs)("div",{className:"dropleft text-center",children:[Object(D.jsx)("button",{className:"btn btn-warning dropdown-toggle ",type:"button",id:"dropdownMenuButton1","data-toggle":"dropdown","aria-expanded":"false",children:"Quelle question ?"}),Object(D.jsxs)("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:[Object(D.jsx)("li",{children:Object(D.jsx)("label",{className:"dropdown-item ",onClick:function(){return Oe(-1)},children:"Au d\xe9but"})}),oe.map((function(e,n){return Object(D.jsx)("li",{children:Object(D.jsxs)("label",{className:"dropdown-item ",onClick:function(){return Oe(e)},children:["Question n\xb0",e]})},n)}))]})]})})]}),Object(D.jsxs)("div",{className:"row align-items-center p-2 m-0 border-bottom",children:[Object(D.jsx)("div",{className:"col-sm-4 align-items-center text-dark ",children:"Quelles r\xe9ponses possibles ? :"}),Object(D.jsx)("div",{className:"col-sm-4 align-items-center"}),Object(D.jsx)("div",{className:"col-sm-4 align-items-center p-0 text-center",children:Object(D.jsxs)("div",{className:"row",children:[ie?Object(D.jsx)(P.a,{className:" col w-100 my-auto ",selectStyle:"btn-warning",options:me,isMultiSelect:!1,placeholder:"Entrer Autres",onChange:ge},!te):Object(D.jsx)(P.a,{className:" col w-100 my-auto ",selectStyle:"btn-warning",options:ue,isMultiSelect:!0,placeholder:"Entrer checkboxs",onChange:ge},te),Object(D.jsx)("button",{className:"col-sm-2 btn btn-outline-info",onClick:function(){se(!ie)},children:Object(D.jsx)("div",{"data-icon":"\ue049",className:"icon mt-1"})})]})})]}),b.check[0]&&"list"===b.check[0].split("_")[0]?Object(D.jsxs)("div",{className:"row align-items-center p-2 m-0 border-bottom",children:[Object(D.jsx)("div",{className:"col-sm-4 align-items-center text-dark ",children:"Quelle liste ? :"}),Object(D.jsx)("div",{className:"col-sm-4 align-items-center"}),Object(D.jsx)("div",{className:"col-sm-4 align-items-center p-0 text-center",children:Object(D.jsx)("div",{className:"row",children:Object(D.jsx)(P.a,{className:" col w-100 my-auto ",selectStyle:"btn-warning",options:xe,isMultiSelect:!1,placeholder:"Aucune",onChange:function(e){e.selectedKey.length&&(b.check=[b.check[0].split("_")[0]+"_"+e.selectedKey[0]],console.log(b.check),h(b),p())}},te)})})]}):null,ie?null:Object(D.jsxs)("div",{className:"border-bottom m-0 py-2 text-center",children:[Object(D.jsxs)("button",{className:"btn btn-secondary m-auto p-2 my-2 ",type:"button","data-toggle":"collapse","data-target":"#collapseColors","aria-expanded":"false","aria-controls":"collapseExample",children:[Object(D.jsx)("i",{className:"las la-angle-down"})," Modifier les couleurs des questions ",Object(D.jsx)("i",{className:"las la-angle-down"})]}),Object(D.jsx)("div",{className:"collapse m-0 p-0",id:"collapseColors",children:Object(D.jsxs)("div",{className:"row align-items-center p-2 m-0 border-bottom",children:[Object(D.jsx)("div",{className:"col-sm-3 align-items-center text-dark ",children:"Avec quelles couleurs ? :"}),Object(D.jsx)("div",{className:"col-sm-9 align-items-center text-center",children:b.check.map((function(e,n){return Object(D.jsxs)("div",{className:"row",children:[Object(D.jsx)("div",{className:"col text-center justify-content-center my-4",children:Object(D.jsx)("div",{className:" iq-card card-grey text-center shadow-sm text-dark m-0",children:k(e)})}),Object(D.jsx)("div",{className:"col text-center justify-content-center my-4",children:Object(D.jsx)("div",{className:" iq-card card-grey text-center shadow-sm text-dark m-0",children:0===b.color[n]?"Vert":1===b.color[n]?"Rouge":"Gris"})}),Object(D.jsx)("div",{className:"col text-center justify-content-center my-3",children:Object(D.jsxs)("div",{className:"dropleft text-center",children:[Object(D.jsx)("button",{className:"btn btn-warning dropdown-toggle m-0 ",type:"button",id:"dropdownMenuButton1","data-toggle":"dropdown","aria-expanded":"false",children:"Quelle couleur ?"}),Object(D.jsx)("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:["Vert","Rouge","Gris"].map((function(n,t){return Object(D.jsx)("li",{children:Object(D.jsx)("label",{className:"dropdown-item ",onClick:function(){return function(e,n){b.color[b.check.indexOf(e)]=n,h(b),p()}(e,t)},children:n})},t)}))})]})})]},n)}))})]})})]}),Object(D.jsxs)("div",{className:"border-bottom m-0 py-2 text-center",children:[Object(D.jsxs)("button",{className:"btn btn-secondary m-auto p-2 my-2 ",type:"button","data-toggle":"collapse","data-target":"#collapseQuestionConditions","aria-expanded":"false","aria-controls":"collapseExample",children:[Object(D.jsx)("i",{className:"las la-angle-down"})," Ajouter/Supprimer des conditions sur les autres questions ",Object(D.jsx)("i",{className:"las la-angle-down"})]}),Object(D.jsx)("div",{className:"collapse m-0 p-0",id:"collapseQuestionConditions",children:Object(D.jsxs)("div",{className:"row align-items-center p-2 m-0",children:[Object(D.jsx)("div",{className:"col-sm-3 align-items-center text-dark ",children:"Quelles conditions sur les r\xe9ponses ? :"}),Object(D.jsx)("div",{className:"col-sm-9 align-items-center",children:v.map((function(e,n){return Object(D.jsxs)("div",{className:"row",children:[Object(D.jsx)("div",{className:"col align-items-center p-2 my-auto",children:Object(D.jsx)("div",{className:"iq-card card-grey text-center shadow-sm m-0 text-dark ",children:k(e)})}),Object(D.jsx)("div",{className:"col align-items-center p-2",children:Object(D.jsx)("div",{className:"list-group list-group-horizontal m-0",children:b&&b.cond[e]?b.cond[e].map((function(n,t){return Object(D.jsxs)("button",{className:" list-group-item list-group-item-custom btn btn-outline-secondary ",type:"button",onClick:function(){return function(e,n){b.cond[e]=b.cond[e].filter((function(e){return e!==n})),console.log(b),h(b),p()}(e,n)},children:[n," "]},t)})):null})}),Object(D.jsx)("div",{className:"col align-items-center p-2 my-auto",children:Object(D.jsxs)("div",{className:"dropleft text-center",children:[Object(D.jsx)("button",{className:"btn btn-warning dropdown-toggle ",type:"button",id:"dropdownMenuButton1","data-toggle":"dropdown","aria-expanded":"false",children:"Quelle question ?"}),Object(D.jsx)("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:oe.map((function(n,t){return Object(D.jsx)("li",{children:Object(D.jsxs)("label",{className:"dropdown-item ",onClick:function(){return function(e,n){b.cond[e]?b.cond[e].push(n):b.cond[e]=[n],h(b),p()}(e,n)},children:["Question n\xb0",n]})},t)}))})]})})]},n)}))})]})})]}),Object(D.jsxs)("div",{className:"border-bottom m-0 py-2 text-center",children:[Object(D.jsxs)("button",{className:"btn btn-secondary m-auto p-2 my-2 ",type:"button","data-toggle":"collapse","data-target":"#collapseNumConditions","aria-expanded":"false","aria-controls":"collapseExample",children:[Object(D.jsx)("i",{className:"las la-angle-down"})," Ajouter/Supprimer des conditions num\xe9riques ",Object(D.jsx)("i",{className:"las la-angle-down"})]}),Object(D.jsx)("div",{className:"collapse m-0 p-0",id:"collapseNumConditions",children:Object(D.jsxs)("div",{className:"col align-items-center p-2 m-0",children:[b&&b.cond.num?b.cond.num.map((function(e,n){return Object(D.jsxs)("div",{className:"row justify-content-md-center py-2",children:[Object(D.jsx)("div",{className:"col-sm-3 align-items-center my-auto",children:Object(D.jsx)("div",{className:"iq-card card-grey shadow-sm text-center m-0 text-dark ",children:C(e.var)})}),Object(D.jsx)("div",{className:"col-sm-3 align-items-center my-auto ",children:Object(D.jsx)("div",{className:"iq-card card-grey shadow-sm text-center m-0 text-dark ",children:e.op})}),Object(D.jsx)("div",{className:"col-sm-3 align-items-center my-auto ",children:Object(D.jsx)("div",{className:"iq-card card-grey shadow-sm text-center m-0 text-dark",children:e.val})}),Object(D.jsx)("div",{className:"col-sm-3 align-items-center my-auto text-center",children:Object(D.jsx)("button",{className:"btn btn-danger ",onClick:function(){return function(e){console.log("supprimer",e),b.cond.num.splice(e,1),console.log(b.cond.num),h(b),p()}(n)},children:Object(D.jsx)("div",{"data-icon":"\ue053",className:"icon mt-1"})})})]},n)})):null,Object(D.jsx)("div",{children:Object(D.jsxs)("div",{className:"row justify-content-md-center py-2",children:[Object(D.jsx)("div",{className:"col-sm-3 align-items-center my-auto",children:Object(D.jsx)(P.a,{className:"w-100 ",selectStyle:"btn border",placeholder:"Quelle variable ?",options:pe,onChange:function(e){z||(z={}),(z={}).var=e.selectedKey[0],X(z),p()}},te)}),Object(D.jsx)("div",{className:"col-sm-3 align-items-center my-auto",children:["diabetic","difficult_intubation","gender"].includes(z.var)?Object(D.jsx)("div",{children:"est"}):Object(D.jsx)(P.a,{className:"w-100 ",selectStyle:"btn border",placeholder:"Quel op\xe9rateur ?",options:he,onChange:function(e){z||(z={}),z.op=e.selectedKey[0],X(z),p()}},te)}),Object(D.jsx)("div",{className:"col-sm-3 align-items-center my-auto ",children:["diabetic","difficult_intubation"].includes(z.var)?Object(D.jsx)(P.a,{className:"w-100 ",selectStyle:"btn border",placeholder:"Quelle valeur ?",options:[{labelKey:"vrai",value:"Vrai"},{labelKey:"faux",value:"Faux"}],onChange:ke},z.var):Object(D.jsxs)("div",{children:[" ","gender"===z.var?Object(D.jsx)(P.a,{className:"w-100 ",selectStyle:"btn border",placeholder:"Quelle valeur ?",options:[{labelKey:"F",value:"F"},{labelKey:"M",value:"M"}],onChange:ke},z.var):Object(D.jsx)("input",{type:"number",className:"form-control ",placeholder:"Quelle valeur ?",onChange:ke})," "]})}),Object(D.jsx)("div",{className:"col-sm-3 align-items-center text-center my-auto",children:Object(D.jsx)("button",{className:"btn btn-warning w-100 ",onClick:function(){z.var&&z.val&&["diabetic","difficult_intubation","gender"].includes(z.var)?(b.cond.num.push({var:z.var,op:"est",val:z.val}),h(b),p()):z.var&&z.op&&z.val&&(b.cond.num.push({var:z.var,op:z.op,val:z.val}),h(b),p())},children:"Valider"})})]})})]})})]}),Object(D.jsxs)("div",{className:"border-bottom m-0 py-2 text-center",children:[Object(D.jsxs)("button",{className:"btn btn-secondary m-auto p-2 my-2 ",type:"button","data-toggle":"collapse","data-target":"#collapsePreCheck","aria-expanded":"false","aria-controls":"collapseExample",children:[Object(D.jsx)("i",{className:"las la-angle-down"})," Ajouter/Supprimer des conditions pour que la question soit pr\xe9-check\xe9e ",Object(D.jsx)("i",{className:"las la-angle-down"})]}),Object(D.jsx)("div",{className:"collapse m-0 p-0",id:"collapsePreCheck",children:Object(D.jsxs)("div",{className:"col align-items-center p-2 m-0",children:[b&&b.pre_check?b.pre_check.if.map((function(e,n){return Object(D.jsxs)("div",{children:[n?Object(D.jsx)("div",{className:"mx-auto w-50 border-top border-bottom border-light",children:"et"}):Object(D.jsx)("div",{className:"mx-auto w-50 border-top border-light"}),e.map((function(e,t){return Object(D.jsxs)("div",{children:[t?Object(D.jsx)("div",{children:"ou"}):null,Object(D.jsxs)("div",{className:"row justify-content-md-center py-2",children:[Object(D.jsx)("div",{className:"col-sm-3 align-items-center my-auto",children:Object(D.jsx)("div",{className:"iq-card card-grey shadow-sm text-center m-0 text-dark ",children:f.includes(e.var)?C(e.var):"Question "+e.var})}),Object(D.jsx)("div",{className:"col-sm-3 align-items-center my-auto ",children:Object(D.jsx)("div",{className:"iq-card card-grey shadow-sm text-center m-0 text-dark",children:e.op?e.op:"est"})}),Object(D.jsx)("div",{className:"col-sm-3 align-items-center my-auto ",children:Object(D.jsx)("div",{className:"iq-card card-grey shadow-sm text-center m-0 text-dark",children:f.includes(e.var)?e.val:k(e.val)})}),Object(D.jsx)("div",{className:"col-sm-3 align-items-center my-auto text-center",children:Object(D.jsx)("button",{className:"btn btn-danger ",onClick:function(){return function(e,n){b.pre_check.if[e].splice(n,1),b.pre_check.if[e].length||b.pre_check.if.splice(e,1),b.pre_check.if.length||(b.pre_check=null),h(b),p()}(n,t)},children:Object(D.jsx)("div",{"data-icon":"\ue053",className:"icon mt-1"})})})]},n)]})}))]})})):null,b&&b.pre_check?Object(D.jsx)("div",{className:"row mx-auto w-50 justify-content-md-center py-2 border-top",children:Object(D.jsx)("div",{className:"col-sm-2 align-items-center my-auto",children:Object(D.jsx)("div",{className:"iq-card card-grey shadow-sm text-center m-0 text-dark",children:k(b.pre_check.then)})})}):null,Object(D.jsx)("div",{children:Object(D.jsxs)("div",{children:[Object(D.jsxs)("div",{className:"row justify-content-md-center py-2",children:[Object(D.jsx)("div",{className:"col-sm-3 align-items-center my-auto",children:Object(D.jsx)(P.a,{className:"w-100 ",selectStyle:"btn border",placeholder:"Et/Ou",options:[{labelKey:"and",value:"Et",isSelected:!0},{labelKey:"or",value:"Ou"}],onChange:function(e){e.selectedKey[0]&&(Y.type=e.selectedKey[0]),$(Y),p()}},te)}),Object(D.jsx)("div",{className:"col-sm-3 align-items-center my-auto",children:Object(D.jsx)(P.a,{className:"w-100 ",selectStyle:"btn border",placeholder:"Quelle variable ?",options:be,onChange:function(e){(Y={type:Y.type,then:b.pre_check&&b.pre_check.then?b.pre_check.then:null}).var=e.selectedKey[0],$(Y),p()}},te)}),Object(D.jsx)("div",{className:"col-sm-3 align-items-center my-auto ",children:["age","yearofbirth"].includes(Y.var)?Object(D.jsx)(P.a,{className:"w-100 ",selectStyle:"btn border",placeholder:"Quel op\xe9rateur ?",options:he,onChange:function(e){Y.op=e.selectedKey[0],$(Y),p()}},Y.var):Object(D.jsx)("div",{children:"est"})}),Object(D.jsx)("div",{className:"col-sm-3 align-items-center my-auto",children:["diabetic","difficult_intubation"].includes(Y.var)?Object(D.jsx)(P.a,{className:"w-100 ",selectStyle:"btn border",placeholder:"Quelle valeur ?",options:[{labelKey:"vrai",value:"Vrai"},{labelKey:"faux",value:"Faux"}],onChange:Ce},Y.var):Object(D.jsxs)("div",{children:[" ","gender"===Y.var?Object(D.jsx)(P.a,{className:"w-100 ",selectStyle:"btn border",placeholder:"Quelle valeur ?",options:[{labelKey:"F",value:"F"},{labelKey:"M",value:"M"}],onChange:Ce},Y.var):Object(D.jsxs)("div",{children:[" ",Number.isInteger(Y.var)?Object(D.jsx)(P.a,{className:"w-100 ",selectStyle:"btn border",placeholder:"Quelle valeur ?",options:de,onChange:Ce},Y.var):Object(D.jsx)("input",{type:"number",className:"form-control ",placeholder:"Quelle valeur ?",onChange:Ce},Y.var)]})]})})]}),Object(D.jsxs)("div",{className:"row justify-content-md-center py-2",children:[Object(D.jsx)("div",{className:"col-sm-3 align-items-center my-auto ",children:Object(D.jsx)(P.a,{className:"w-100 ",selectStyle:"btn border",placeholder:"Quel pre-check ?",options:je,onChange:function(e){e.selectedKey[0]&&(Y.then=e.selectedKey[0]),$(Y),p()}},Y.var+b.check.length)}),Object(D.jsx)("div",{className:"col-sm-3 align-items-center ",children:Object(D.jsx)("button",{className:"btn btn-warning w-100  ",onClick:function(){b.pre_check&&(b.pre_check.then=Y.then,h(b),p())},children:"Modifier le precheck"})}),Object(D.jsx)("div",{className:"col-sm-3 align-items-center text-center my-auto",children:Object(D.jsx)("button",{className:"btn btn-warning w-100  ",onClick:function(){return console.log(Y),void(Y.var&&Y.val&&Y.then&&(!["age","yearofbirth"].includes(Y.var)||Y.op)&&(b.pre_check||(b.pre_check={if:[],then:null}),b.pre_check.then=Y.then,Y.op||(f.includes(Y.var)?Y.op="est":Y.op=null),"and"!==Y.type&&b.pre_check.if.length?"or"===Y.type&&(console.log(b.pre_check.if.length),b.pre_check.if[b.pre_check.if.length-1].push({var:Y.var,val:Y.val,op:Y.op})):b.pre_check.if.push([{var:Y.var,val:Y.val,op:Y.op}]),h(b),p()))},children:"Valider"})})]})]})})]})})]})]},b.id):null,Object(D.jsxs)("div",{className:"row align-items-center p-2 m-0",children:[Object(D.jsx)("div",{className:"col-sm-4 align-items-center text-center",children:Object(D.jsx)("button",{className:"btn btn-danger  ",onClick:function(){var e=r.length?r[0].checklist_id:0;o.a.delete("http://checklists.metoui.be/api/checklists/"+c).then((function(n){ce(r,e),console.log("remove checklist get call and set finished")}))},children:"Supprimer la checklist"})}),Object(D.jsx)("div",{className:"col-sm-4 align-items-center text-center",children:Object(D.jsx)("button",{className:"btn btn-warning  ",onClick:function(){return function(){var e=r.length?c:0,n={id:c,data:w(t).slice(1)};console.log(n),o.a.put("http://checklists.metoui.be/api/checklists/"+c,n).then((function(n){ce(r,e),console.log("add checklist get call and set finished")}))}()},children:"Sauvegarder la checklist"})}),Object(D.jsx)("div",{className:"col-sm-4 align-items-center text-center",children:Object(D.jsx)("button",{className:"btn btn-danger ",onClick:ye,children:"Supprimer la question"})})]})]}):null})}function L(e){e.props;return Object(D.jsx)("div",{className:"",children:Object(D.jsx)("div",{className:"card-inv text-center",children:Object(D.jsxs)("div",{className:"card-body",children:[Object(D.jsx)("h5",{className:"card-title m-0 text-custom",children:"SLS Checklist App"}),Object(D.jsx)("p",{className:"card-text text-custom m-0",children:"v0.15"}),Object(D.jsx)("p",{className:"card-text text-custom m-0",children:"D\xe9velopp\xe9 par Th\xe9o Stassen"}),Object(D.jsx)("p",{className:"card-text text-custom",children:"theo.stassen@protonmail.com"})]})})})}function V(e){var n=e.props,t=n.currentPatient,l=(n.setCurrentPatient,n.setIsDict,n.setResult,n.setIsPreCheckDone,n.forceUpdate,n.patientList),a=n.switchUser,r=(n.setChecklistList,n.setPathId,n.onNewScanResult),i=n.is_local,s=n.numDict;return Object(D.jsx)("div",{className:"container p-2",children:Object(D.jsx)("div",{className:"iq-card bg-primary col-sm-12 mx-auto p-2 text-center shadow border border-dark justify-content-center ",children:Object(D.jsxs)("div",{className:"card-body",children:[t?Object(D.jsxs)("h3",{className:"card-title text-white m-0",children:["Patient(e) : ",t.firstname," ",t.lastname," "]}):null,t?Object(D.jsx)("h4",{className:"card-title text-dark m-0",children:t.dateofbirth}):null,t?Object(D.jsxs)("h4",{className:"card-text text-white m-0",children:[" ",s.intervention_name]}):null,t?Object(D.jsx)("img",{className:"border border-dark mt-2 mb-4",src:i?t.photo:"http://checklists.metoui.be/storage/"+t.photo,width:"128",height:"128",alt:"Photo"}):null,t?null:Object(D.jsx)("h3",{className:"card-title text-white",children:"Liste des patients du jour"}),Object(D.jsx)("div",{className:"align-items-center",children:Object(D.jsxs)("div",{className:"dropdown text-center",children:[Object(D.jsx)("button",{className:"btn btn-secondary btn-round dropdown-toggle",type:"button",id:"dropdownMenuButton1","data-toggle":"dropdown","aria-expanded":"false",children:"S\xe9lectionnez le patient"}),Object(D.jsxs)("ul",{className:"dropdown-menu dropdown-menu-custom","aria-labelledby":"dropdownMenuButton1",children:[l?l.map((function(e,n){return Object(D.jsx)("li",{children:Object(D.jsxs)("label",{className:"dropdown-item ",onClick:function(){return a(e.id)},children:[e.firstname,"\xa0",e.lastname]})},n)})):null,Object(D.jsx)("li",{children:Object(D.jsx)("label",{className:"dropdown-item text-center m-0 ",id:"dropdownMenuButton1","data-toggle":"dropdown",children:Object(D.jsx)("div",{"data-icon":"W",className:"icon"})})})]})]})}),t?Object(D.jsx)("h4",{className:"card-title text-white mt-4 mb-0",children:"Scannez le QR code correspondant"}):null,t?Object(D.jsx)("h4",{className:"card-title text-white",children:Object(D.jsx)("div",{"data-icon":"k",className:"icon"})}):null,t?Object(D.jsx)("button",{className:"btn btn-info btn-round m-2",onClick:function(){r(h[t.id].patient_code)},children:"Passer Qr Code"}):null]})})})}var T=t(140),U="html5qr-code-full-region";var K=function(e){Object(l.useEffect)((function(){if(e.is_home){var n=document.getElementById("input1");n.focus(),n.select()}var t=function(e){var n={};return e.fps&&(n.fps=e.fps),e.qrbox&&(n.qrbox=e.qrbox),e.aspectRatio&&(n.aspectRatio=e.aspectRatio),void 0!==e.disableFlip&&(n.disableFlip=e.disableFlip),n}(e),l=!0===e.verbose;if(!e.qrCodeSuccessCallback)throw"qrCodeSuccessCallback is required callback.";var a=new T.a(U,t,l);return a.render(e.qrCodeSuccessCallback,e.qrCodeErrorCallback),function(){a.clear().catch((function(e){console.error("Failed to clear html5QrcodeScanner. ",e)}))}}),[]);var n=Object(l.useState)(""),t=Object(s.a)(n,2),a=t[0],r=t[1];return Object(D.jsxs)("div",{className:"col-sm-12 mx-auto p-0",children:["-",null===e.scanValue?Object(D.jsx)("div",{className:" container custom-scanner pt-4 border border-dark rounded rounded-0-bottom bg-white mx-auto w-100 "+(e.scanValueError||e.scanValue?" rounded-0-bottom":null),id:U}):Object(D.jsx)("div",{id:U}),Object(D.jsx)("input",{id:"input1",type:"text",className:"form-control w-100 mb-0 bg-white rounded-0-top border-dark border-top-0 "+(e.scanValueError?"rounded-0":null),value:a,onChange:function(e){console.log(e),r(e.target.value)},onKeyPress:function(n){"Enter"===n.key&&e.qrCodeSuccessCallback(a)}}),null!==e.scanValue?Object(D.jsx)("div",{className:"container custom-scanner card rounded bg-success mx-auto text-center p-2 border border-dark justify-content-center ",children:Object(D.jsx)("div",{className:"card-body m-0 p-0",children:Object(D.jsxs)("h5",{className:"card-title text-dark m-0",children:['Code "',e.scanValue,'" enregistr\xe9']})})}):null,null!==e.scanValueError?Object(D.jsx)("div",{className:"container custom-scanner card rounded rounded-0-top bg-warning mx-auto text-center p-2  border border-dark justify-content-center ",children:Object(D.jsx)("div",{className:"card-body m-0 p-0",children:Object(D.jsxs)("h5",{className:"card-title text-dark m-0",children:['Erreur : le code "',e.scanValueError,'" ne correspond pas ']})})}):null]})},Q=t(228),H=t.n(Q);function J(e){var n=e.sigpad;Object(l.useEffect)((function(){t()}),[]);var t=function(){n.clear(),e.setTrimmedCanvasUrl(null),e.item&&(delete e.result[e.item.id],e.setResult(e.result))};return Object(D.jsx)("div",{className:"container iq-card border-bottom border-right border-left border-dark shadow mx-auto "+(e.is_end_sign?"rounded-0-top":"border-top m-0 mr-3"),children:Object(D.jsxs)("div",{className:"row align-items-center p-0 m-0 h-100",children:[Object(D.jsx)("div",{className:"col-sm-3 m-0 p-0 text-center text-dark",children:"Veuillez rentrer votre signature :"}),Object(D.jsx)("div",{className:"col m-0 p-0 h-100 py-2 ",children:Object(D.jsx)("div",{className:"container iq-card m-0 bg-light border",children:Object(D.jsx)("div",{className:"sigContainer",children:Object(D.jsx)(H.a,{canvasProps:{className:"sigPad"},ref:function(e){n=e}})})})}),Object(D.jsxs)("div",{className:"col-sm-3 mx-2 p-0",children:[Object(D.jsx)("div",{className:"row align-items-center p-0 m-0 mb-2 mt-4 px-4",children:Object(D.jsx)("button",{type:"button",className:"btn btn-warning w-100",onClick:function(){var t=n.getTrimmedCanvas().toDataURL();e.setTrimmedCanvasUrl(t),e.result[e.item.id]={name:e.item.name,answer:t},e.setResult(e.result),e.forceUpdate()},children:"Valider la signature"})}),Object(D.jsx)("div",{className:" row align-items-center p-0 m-0 mb-4 px-4",children:Object(D.jsx)("button",{type:"button",className:"btn btn-secondary w-100",onClick:t,children:"R\xe9initialiser"})})]})]})})}function z(e){var n=e.init_items,t=e.item,a=e.dicts,r=e.forceUpdate,i=e.values_filter_cond,c=e.creationMode,u=e.currentId,d=e.warningId,m=e.precheckMode,p=e.is_root,b=e.alertList,h=e.scan_bookmark,x=e.checklist_name,y=e.is_local,f=Object(s.a)(a,13),O=f[0],g=f[1],C=f[2],_=f[3],w=f[4],A=f[5],I=f[6],S=f[7],E=f[8],B=f[9],F=(f[10],f[11]),q=f[12],G=Object(l.useState)(!1),M=Object(s.a)(G,2),R=M[0],L=M[1],V=Object(l.useState)(null),T=Object(s.a)(V,2),U=(T[0],T[1]),Q=Object(l.useState)(null),H=Object(s.a)(Q,2),W=H[0],Z=H[1],Y=Object(l.useState)(null),$=Object(s.a)(Y,2),ee=$[0];$[1];Object(l.useEffect)((function(){if(t.check.includes("scan")&&h&&W&&!_[t.id]){console.log(_);var e=_;e[t.id]={name:t.name,answer:W},A(e)}}));var ne=function(e){console.log("handle change",t);var l=!O[e][t.id];console.log(l);var a=v.filter((function(n){return n!==e}));l?(_[t.id]={name:t.name,answer:e},delete w[t.id],1===t.color[t.check.indexOf(e)]&&(w[t.id]={name:t.name,answer:e,checklist_name:x}),X(n,n,t.id,O,g,_,w,a)):(delete _[t.id],delete w[t.id],X(n,n,t.id,O,g,_,w,[e])),A(_),I(w),O[e][t.id]=l,a.forEach((function(e){O[e][t.id]=!1})),g(O)},te=function(e){var n=e.target.value;_[t.id]={name:t.name,answer:n,checklist_name:x},A(_),1===t.color[0]&&(w[t.id]={name:t.name,answer:n},I(w))};m&&t.pre_check&&!S.includes(t.id)&&t.pre_check.if.every((function(e){return e.some((function(e){return e.op?N(C[e.var],e.op,e.val):O[e.val][e.var]}))}))&&(ne(t.pre_check.then),S.push(t.id),E(S));var le=null,ae=null;return t.values&&(ae=i(t.values,O,C,c,F)).forEach((function(e){return!B.includes(e.id)&&e.check.length?B.push(e.id):null})),ae&&ae.length&&(le=Object(D.jsx)("ul",{className:"mb-0",children:ae.map((function(e,t){return Object(D.jsx)(z,{init_items:n,item:e,dicts:a,forceUpdate:r,values_filter_cond:i,creationMode:c,currentId:u,warningId:d,is_root:!1,alertList:b,scan_bookmark:h,checklist_name:x},t)}))})),Object(D.jsxs)("div",{className:"container p-0 mx-auto "+(p?"":"mt-3"),children:[d===t.id?Object(D.jsxs)("div",{className:" alert text-white bg-warning rounded",role:"alert",children:[Object(D.jsx)("div",{className:"iq-alert-icon",children:Object(D.jsx)("i",{className:"ri-alert-fill"})}),Object(D.jsx)("div",{className:"iq-alert-text",children:"Vous n'avez pas r\xe9pondu \xe0 cette question"})]}):null,Object(D.jsxs)("div",{id:"question"+t.id,className:"row align-items-center m-0 p-0"+(c&&u===t.id?" border border-danger ":" "),children:[Object(D.jsxs)("div",{className:"col list-group list-group-horizontal m-0 p-0 w-auto",children:[Object(D.jsx)("div",{className:"list-group-item m-0 p-0 text-center shadow-sm my-auto "+(t.importance||b&&Object.values(b).some((function(e){return e.name===t.name}))?"bg-danger":"bg-primary"),children:Object(D.jsx)("h5",{className:"card-body p-auto text-white",children:t.id})}),Object(D.jsxs)("div",{className:"list-group-item m-0 p-0 w-100 shadow-sm h-auto text-dark bg- ",children:[t.comment&&q&&(1===t.comment.split("_").length||t.comment.split("_").length>1&&C[t.comment.split("_")[1]])?Object(D.jsxs)("div",{className:"row alert alert-light px-0 m-0 mt-0 border-0 text-primary my-auto text-center align-content-center",role:"alert",children:[t.comment.split("_").length>1?Object(D.jsx)("p",{className:"w-100 m-0",children:t.comment.split("_")[0]+C[t.comment.split("_")[1]]}):Object(D.jsx)("p",{className:"w-100 m-0",children:t.comment}),t.comment.includes("Consentement")?Object(D.jsxs)("div",{className:"text-center mx-auto",children:[Object(D.jsx)("button",{className:"btn m-0 p-0 mx-auto ",type:"button","data-toggle":"collapse","data-target":"#collapseconsentpdf","aria-expanded":"false","aria-controls":"collapseExample",children:Object(D.jsx)("div",{"data-icon":"T",className:"icon"})}),Object(D.jsx)("div",{className:"collapse m-0 p-0",id:"collapseconsentpdf",children:Object(D.jsxs)("p",{className:"col-sm-12 mx-0 px-0 mb-0",children:[" ",Object(D.jsx)("img",{src:y?C.consent_pdf:"http://checklists.metoui.be/storage/"+C.consent_pdf,width:"280"})," "]})})]}):null]}):null,Object(D.jsx)("div",{className:"card-body my-auto",children:t.name.split("_")[0]})]})]}),t.check.length?Object(D.jsxs)("div",{className:"col-sm-auto p-0 pl-3",children:[Object(D.jsxs)("div",{className:"row px-3",children:[Object(D.jsx)("div",{className:"list-group list-group-horizontal ",children:t.check.map((function(e,n){return n<3&&!["text","list","date","hour","scan","signature","number"].includes(e.split("_")[0])?Object(D.jsxs)("label",{className:"list-group-item list-group-item-custom btn m-0"+(t.color&&0===t.color[n]?" btn-outline-success":t.color&&1===t.color[n]?" btn-outline-danger":" btn-outline-secondary"),children:[Object(D.jsx)("input",{type:"checkbox","aria-label":"Checkbox",checked:O[e]&&O[e][t.id]?1:0,onChange:function(n){ne(e),r()}}),"\xa0",k(e)]},n):null}))}),Object(D.jsx)("div",{className:"list-group list-group-horizontal ",children:t.check.map((function(e,n){return n>=3&&!["text","list","date","hour","scan","signature","number"].includes(e.split("_")[0])?Object(D.jsxs)("label",{className:"list-group-item list-group-item-custom btn m-0"+(t.color&&0===t.color[n]?" btn-outline-success":t.color&&1===t.color[n]?" btn-outline-danger":" btn-outline-secondary"),children:[Object(D.jsx)("input",{type:"checkbox","aria-label":"Checkbox",checked:O[e]&&O[e][t.id]?1:0,onChange:function(n){ne(e),r()}}),"\xa0",k(e)]},n):null}))})]}),t.check.includes("text")?Object(D.jsx)("input",{className:"form-control w-100 mb-0 bg-white",type:"text ","aria-label":"text input",placeholder:"Ins\xe9rez ici",onChange:te}):null,t.check.includes("date")?Object(D.jsx)("input",{className:"form-control w-100 mb-0 bg-white",type:"date","aria-label":"text input",defaultValue:function(){var e=(new Date).toISOString().split("T")[0];return _[t.id]={name:t.name,answer:e,checklist_name:x},A(_),console.log(e),e}(),placeholder:"Ins\xe9rez ici",onChange:te}):null,t.check.includes("hour")?Object(D.jsx)("input",{className:"form-control w-100 mb-0 bg-white",type:"time","aria-label":"text input",defaultValue:function(){var e=(new Date).toTimeString().split(" ")[0].substring(0,5);return _[t.id]={name:t.name,answer:e,checklist_name:x},A(_),console.log(e),e}(),placeholder:"Ins\xe9rez ici",onChange:te}):null,t.check.includes("number")?Object(D.jsx)("input",{className:"form-control w-100 mb-0 bg-white",type:"number","aria-label":"text input",defaultValue:function(e){var n=e;return _[t.id]={name:t.name,answer:n,checklist_name:x},A(_),1===t.color[0]&&(w[t.id]={name:t.name,answer:n},I(w)),n}("0"),placeholder:"Ins\xe9rez ici",onChange:te}):null,t.check[0].split("_").includes("list")?Object(D.jsx)(P.a,{className:" my-auto ",selectStyle:"py-2  btn btn-outline-dark bg-white text-dark ",options:function(e){var n=[];return j[e].forEach((function(e){n.push({labelKey:e,value:e})})),n.push({labelKey:"other",value:"Autre"}),n}(t.check[0].split("_")[1]),isMultiSelect:!0,placeholder:"-",onChange:function(e){var n=JSON.parse(JSON.stringify(e.selectedValue));e.selectedKey.includes("other")?L(!0):L(!1),_[t.id]={name:t.name,answer:n},A(_),1!==t.color[0]||e.selectedKey.includes("Aucune")||e.selectedKey.includes("Aucun")?(delete w[t.id],I(w)):(w[t.id]={name:t.name,answer:n,checklist_name:x},I(w))},menuSize:10},t.check[0].split("_")[1]):null,R?Object(D.jsx)("input",{className:"form-control w-100 mb-0 bg-white",type:"text ","aria-label":"text input",placeholder:"Ins\xe9rez ici",onChange:function(e){var n=e.target.value,l=_[t.id].answer;l.pop(),l.push(n),_[t.id]={name:t.name,answer:l},A(_)}}):null,"is"]}):Object(D.jsxs)("div",{className:"col-sm-6",children:[" ",null," "]})]}),t.check.includes("scan")&&h&&!W?Object(D.jsx)("div",{className:"row m-0 p-0 mt-2 align-items-center justify-content-center col-sm-6 mx-auto",children:Object(D.jsx)(K,{item_id:t.id,fps:10,qrbox:250,disableFlip:!1,qrCodeSuccessCallback:function(e,n){o.a.get("#").then((function(n){e&&(Z(e),console.log("write decoded scan",e,_))})),console.log("scan result",e,W)},scanValueError:ee,scanValue:W,scan_bookmark:h,is_home:!1},t.id)}):null,t.check.includes("signature")?Object(D.jsx)("div",{className:"row m-0 p-0 mt-2 align-items-center justify-content-center mx-auto",children:Object(D.jsx)(J,{sigpad:{},setTrimmedCanvasUrl:U,is_end_sign:!1,setResult:A,result:_,item:t,forceUpdate:r})}):null,le]})}function X(e,n,t,l,a,r,i,s){var c=!1;n.cond&&s.forEach((function(e){n.cond[e]&&n.cond[e].includes(t)&&(console.log("delete",n),v.forEach((function(e){l[e][n.id]=!1})),delete r[n.id],delete i[n.id],c=!0)})),n.values&&n.values.length&&n.values.forEach((function(n){X(e,n,t,l,a,r,i,s)})),t!==n.id&&c&&X(e,e,n.id,l,a,r,i,s)}function W(e){var n=e.section_title,t=e.index;return Object(D.jsx)("div",{className:"card p-2 px-4  mb-0 bg-dark shadow-sm border-bottom border-dark text-center "+(t?"border-top":"rounded rounded-0-bottom"),children:Object(D.jsx)("h5",{className:"text-white ",children:n})})}t(487);function Z(e){var n=e.visibleList,t=e.result,a=e.import_result,r=(e.checklist,e.setWarningId),i=e.checklistList,c=e.setChecklistList,o=e.checklistId,u=e.forceValidationMode;function d(e,n,t){if(u)return"";for(var l=e.sort((function(e,n){return e>n})),a=0;a<l.length;a+=1)if(!n[l[a]])return t&&r(l[a]),a?"question"+l[a-1]:"title";return t&&r(0),""}var m=Object(l.useState)(!1),p=Object(s.a)(m,2),b=p[0],h=p[1],j=function(){return h(!1)};function x(){a(),i.filter((function(e){return e.checklist_id===o}))[0].fill=!0,c(i),h(!0),console.log("handle validation end")}return Object(D.jsxs)("div",{className:"container custom-container iq-card  mt-5 text-center p-2 mx-auto shadow border border-dark",children:[Object(D.jsx)("a",{onClick:function(){return""===d(n,t,!0)?x():null},href:"#"+d(n,t,!1),className:"",children:Object(D.jsx)("div",{className:"btn-group btn-group-lg w-100 ",role:"group","aria-label":"Basic example",children:Object(D.jsx)("button",{type:"button",className:"btn btn-warning w-100",children:"Valider la checklist"})})}),Object(D.jsx)(D.Fragment,{children:Object(D.jsxs)(E.a,{show:b,onHide:j,children:[Object(D.jsx)(E.a.Header,{closeButton:!0,variant:"white",children:Object(D.jsx)(E.a.Title,{children:"La checklist est valid\xe9e"})}),Object(D.jsx)(E.a.Body,{children:"Les r\xe9sultats sont transmis au dossier patient"}),Object(D.jsx)(E.a.Footer,{children:Object(D.jsx)(B.a,{variant:"secondary",onClick:j,children:"Fermer"})})]})})]})}function Y(e){var n=e.alertList;console.log("enter alert box",n);var t=Object.values(n);console.log(t);var l=t?Math.ceil(t.length/2):0,a=t?t.slice(0,l):[],r=t&&t.length>1?t.length%2===0?t.slice(-l):t.slice(1-l):[];return Object(D.jsx)("div",{className:"container iq-card pt-3 pb-1 border border-dark shadow mb-3",children:Object(D.jsxs)("div",{className:"row align-items-center",children:[Object(D.jsx)("div",{className:"col-sm-6 pr-2",children:a.map((function(e,n){return Object(D.jsxs)("div",{className:"col-sm-12 alert rounded "+(0===e.gravity?"bg-danger":1===e.gravity?"bg-warning":"bg-light text-dark"),role:"alert",children:[Object(D.jsxs)("div",{className:"iq-alert-text",children:["Checklist ",Object(D.jsx)("b",{children:e.checklist_name})," : ",e.name.split("_")[0],e.question_id>-1?" (Question ":null,Object(D.jsx)("b",{children:e.question_id>-1?e.question_id:null}),e.question_id>-1?")":null,"  -> ",e.answer]}),Object(D.jsx)("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close",children:Object(D.jsx)("i",{className:"ri-close-line text-dark"})})]})}))}),Object(D.jsx)("div",{className:"col-sm-6 pl-2",children:r.map((function(e,n){return Object(D.jsxs)("div",{className:"col-sm-12 alert rounded "+(0===e.gravity?"bg-danger":1===e.gravity?"bg-warning":"bg-light text-dark"),role:"alert",children:[Object(D.jsxs)("div",{className:"iq-alert-text",children:["Checklist ",Object(D.jsx)("b",{children:e.checklist_name})," : ",e.name.split("_")[0],e.question_id>-1?" (Question ":null,Object(D.jsx)("b",{children:e.question_id>-1?e.question_id:null}),e.question_id>-1?")":null,"  -> ",e.answer]}),Object(D.jsx)("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close",children:Object(D.jsx)("i",{className:"ri-close-line text-dark"})})]})}))})]})})}function $(e){var n=e.checklistList,t=e.checklistId,l=e.numDict,a=e.currentPatient,r=(e.forceValidationMode,e.setForceValidationMode,e.is_local),i=n?n.filter((function(e){return e.checklist_id===t}))[0]:null;return Object(D.jsx)("div",{className:"container",children:Object(D.jsx)("div",{className:"iq-card bg-primary  mt-4 text-center p-2 shadow border border-dark",children:Object(D.jsxs)("div",{className:"card-body",children:[Object(D.jsxs)("h3",{className:"card-title text-white",children:[i?"Checklist "+i.name:null," "]}),Object(D.jsxs)("h4",{className:"card-title text-white m-0",children:[a.firstname," ",a.lastname," "]}),Object(D.jsx)("h4",{className:"card-title text-dark m-0",children:a.dateofbirth}),Object(D.jsx)("img",{className:"border border-dark my-2",src:r?a.photo:"http://checklists.metoui.be/storage/"+a.photo,width:"128",height:"128"}),Object(D.jsx)("h4",{className:"card-text text-white m-0",children:i?"Checklist "+("major"===a.type?"Majeure":"Mineure")+(l.age<19?" Enfant":" Adulte"):null}),Object(D.jsx)("h4",{className:"card-text text-white m-0",children:i?l.intervention_name:null}),Object(D.jsx)("h4",{className:"card-text text-dark m-0",children:i?i.person:null})]})})})}function ee(e){var n=e.checklistList,t=e.swapchecklist,a=(e.scanValue,e.currentPatient),r=e.is_local,i=Object(l.useState)(!1),c=Object(s.a)(i,2),o=c[0],u=c[1],d=n?n.length:0;console.log("home",n);return Object(D.jsx)("div",{children:n&&a?Object(D.jsxs)("div",{className:"container",children:[Object(D.jsx)("div",{className:"iq-card bg-primary col-sm-6 mx-auto text-center p-2 shadow border border-dark justify-content-center ",children:Object(D.jsxs)("div",{className:"card-body",children:[Object(D.jsxs)("h3",{className:"card-title text-white m-0",children:["Patient(e) : ",a.firstname," ",a.lastname," "]}),Object(D.jsx)("h4",{className:"card-title text-dark m-0",children:a.dateofbirth}),Object(D.jsx)("h4",{className:"card-title text-white m-0",children:a.intervention_name}),Object(D.jsx)("img",{className:"border border-dark mt-2",src:r?a.photo:"http://checklists.metoui.be/storage/"+a.photo,width:"128",height:"128"})]})}),Object(D.jsx)("div",{className:"iq-card iq-bg-secondary col-sm-6 mx-auto text-center p-2 shadow border border-dark justify-content-center ",children:Object(D.jsxs)("div",{className:"card-body m-0 p-2",children:[Object(D.jsx)("h4",{className:"card-title text-dark m-0 p-0",children:"Note"}),o?null:Object(D.jsx)("h6",{className:"card-text text-dark m-0 p-0",children:"Vous devez choisir la prochaine checklist non remplie. Si vous souhaitez quand m\xeame en choisir une autre, appuyer ici"}),o?null:Object(D.jsx)("button",{className:"btn btn-warning m-0 mt-2 mb-1",onClick:function(){return u(!o)},children:"Autorise choix libre"}),o?Object(D.jsx)("h6",{className:"card-text text-dark m-0 p-0",children:"Vous pouvez choisir la checklist que vous souhaitez"}):null,o?Object(D.jsx)("button",{className:"btn btn-warning m-0 mt-2 mb-1",onClick:function(){return u(!o)},children:"Ne plus autoriser"}):null]})}),Object(D.jsx)("div",{className:"list-group text-center text-dark justify-content-center "+(d<3?"list-group-horizontal":""),children:n.map((function(e,l){return Object(D.jsxs)("div",{className:"list-group-item shadow "+(d<3?"col-sm-3 ":"col-sm-6 mx-auto list-group-item-rounded ")+(e.fill?"iq-bg-success":"iq-bg-danger"),children:[Object(D.jsxs)("h4",{children:["Checklist n\xb0 ",e.checklist_id]}),Object(D.jsx)("p",{children:e.name}),Object(D.jsx)("button",{className:" btn btn-primary m-2",type:"button",onClick:function(){(function(e){if(!o)for(var t=0;t<n.length;t++)if(!1===n[t].fill)return n[t].checklist_id===e;return!0})(e.checklist_id)&&t(e.checklist_id)},children:"Remplir"})]})}))})]}):null})}var ne=t(8),te=t(96),le=t(97),ae=t(31),re=t(232),ie=t(231),se=t(32),ce=t.n(se),oe=t(491),ue=t(229),de=t.n(ue),me=(t(345),t(346),function(e){Object(re.a)(t,e);var n=Object(ie.a)(t);function t(e){var l;return Object(te.a)(this,t),(l=n.call(this,e)).generateButton=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=ce.a.assign({},l.state),r=l.cellUpdate,i=l.setState,s=l.setResult;return Object(D.jsx)("button",{className:"btn w-100 "+(0===n?"btn-primary":"btn-light"),onClick:function(){var n=a[e].value;r(a,{key:a[e].key,name:a[e].name,value:n,expr:n,readOnly:a[e].readOnly},JSON.stringify(parseInt(n)+t)),i(a);var l={};Object.keys(a).forEach((function(e,n){a[e].name&&a[e].name.length&&(l[n]={name:a[e].name,answer:a[e].value})})),s(l)},children:"+"})},l.result=e.result,l.setResult=e.setResult,l.onCellsChanged=l.onCellsChanged.bind(Object(ae.a)(l)),l.cellUpdate=l.cellUpdate.bind(Object(ae.a)(l)),l.switchMode=l.switchMode.bind(Object(ae.a)(l)),l.addAdditional=l.addAdditional.bind(Object(ae.a)(l)),l.subElement=l.subElement.bind(Object(ae.a)(l)),l.setState=l.setState.bind(Object(ae.a)(l)),l.state={mode:!1,number_additional:0,A1:{key:"A1",name:"5x5 Rx D\xe9part",value:"0",expr:"0",readOnly:!0},B1:{key:"B1",name:"10x10 Rx D\xe9part",value:"0",expr:"0",readOnly:!0},C1:{key:"C1",name:"10x20 Rx D\xe9part",value:"0",expr:"0",readOnly:!0},D1:{key:"D1",name:"T\xe9tras D\xe9part",value:"0",expr:"0",readOnly:!0},E1:{key:"E1",name:"Tampons D\xe9part",value:"0",expr:"0",readOnly:!0},F1:{key:"F1",name:"Peanuts D\xe9part",value:"0",expr:"0",readOnly:!0},G1:{key:"G1",name:"Cotono\xefdes D\xe9part",value:"0",expr:"0",readOnly:!0},A2:{key:"A2",name:"5x5 Rx 1er Infirmi\xe8re circulante",value:"0",expr:"0",readOnly:!0},B2:{key:"B2",name:"10x10 Rx 1er Infirmi\xe8re circulante",value:"0",expr:"0",readOnly:!0},C2:{key:"C2",name:"10x20 Rx 1er Infirmi\xe8re circulante",value:"0",expr:"0",readOnly:!0},D2:{key:"D2",name:"T\xe9tras 1er Infirmi\xe8re circulante",value:"0",expr:"0",readOnly:!0},E2:{key:"E2",name:"Tampons 1er Infirmi\xe8re circulante",value:"0",expr:"0",readOnly:!0},F2:{key:"F2",name:"Peanuts 1er Infirmi\xe8re circulante",value:"0",expr:"0",readOnly:!0},G2:{key:"G2",name:"Cotono\xefdes 1er Infirmi\xe8re circulante",value:"0",expr:"0",readOnly:!0},A3:{key:"A3",name:"5x5 Rx 1er Infirmi\xe8re instrumentiste",value:"0",expr:"0",readOnly:!0},B3:{key:"B3",name:"10x10 Rx 1er Infirmi\xe8re instrumentiste",value:"0",expr:"0",readOnly:!0},C3:{key:"C3",name:"10x20 Rx 1er Infirmi\xe8re instrumentiste",value:"0",expr:"0",readOnly:!0},D3:{key:"D3",name:"T\xe9tras 1er Infirmi\xe8re instrumentiste",value:"0",expr:"0",readOnly:!0},E3:{key:"E3",name:"Tampons 1er Infirmi\xe8re instrumentiste",value:"0",expr:"0",readOnly:!0},F3:{key:"F3",name:"Peanuts 1er Infirmi\xe8re instrumentiste",value:"0",expr:"0",readOnly:!0},G3:{key:"G3",name:"Cotono\xefdes 1er Infirmi\xe8re instrumentiste",value:"0",expr:"0",readOnly:!0},A4:{key:"A4",name:"5x5 Rx Compte avant fermeture",value:"0",expr:"=A2+A3",readOnly:!0},B4:{key:"B4",name:"10x10 Rx Compte avant fermeture",value:"0",expr:"=B2+B3",readOnly:!0},C4:{key:"C4",name:"10x20 Rx Compte avant fermeture",value:"0",expr:"=C2+C3",readOnly:!0},D4:{key:"D4",name:"T\xe9tras Compte avant fermeture",value:"0",expr:"=D2+D3",readOnly:!0},E4:{key:"E4",name:"Tampons Compte avant fermeture",value:"0",expr:"=E2+E3",readOnly:!0},F4:{key:"F4",name:"Peanuts Compte avant fermeture",value:"0",expr:"=F2+F3",readOnly:!0},G4:{key:"G4",name:"Cotono\xefdes Compte avant fermeture",value:"0",expr:"=G2+G3",readOnly:!0},A10:{key:"A10",name:"5x5 Rx Additionnel 1 Infirmi\xe8re circulante",value:"0",expr:"0",readOnly:!0},B10:{key:"B10",name:"10x10 Rx Additionnel 1 Infirmi\xe8re circulante",value:"0",expr:"0",readOnly:!0},C10:{key:"C10",name:"10x20 Rx Additionnel 1 Infirmi\xe8re circulante",value:"0",expr:"0",readOnly:!0},D10:{key:"D10",name:"T\xe9tras Additionnel 1 Infirmi\xe8re circulante",value:"0",expr:"0",readOnly:!0},E10:{key:"E10",name:"Tampons Additionnel 1 Infirmi\xe8re circulante",value:"0",expr:"0",readOnly:!0},F10:{key:"F10",name:"Peanuts Additionnel 1 Infirmi\xe8re circulante",value:"0",expr:"0",readOnly:!0},G10:{key:"G10",name:"Cotono\xefdes Additionnel 1 Infirmi\xe8re circulante",value:"0",expr:"0",readOnly:!0},A11:{key:"A11",name:"5x5 Rx Additionnel 1 Infirmi\xe8re instrumentiste",value:"0",expr:"0",readOnly:!0},B11:{key:"B11",name:"10x10 Rx Additionnel 1 Infirmi\xe8re instrumentiste",value:"0",expr:"0",readOnly:!0},C11:{key:"C11",name:"10x20 Rx Additionnel 1 Infirmi\xe8re instrumentiste",value:"0",expr:"0",readOnly:!0},D11:{key:"D11",name:"T\xe9tras Additionnel 1 Infirmi\xe8re instrumentiste",value:"0",expr:"0",readOnly:!0},E11:{key:"E11",name:"Tampons Additionnel 1 Infirmi\xe8re instrumentiste",value:"0",expr:"0",readOnly:!0},F11:{key:"F11",name:"Peanuts Additionnel 1 Infirmi\xe8re instrumentiste",value:"0",expr:"0",readOnly:!0},G11:{key:"G11",name:"Cotono\xefdes Additionnel 1 Infirmi\xe8re instrumentiste",value:"0",expr:"0",readOnly:!0},A12:{key:"A12",name:"5x5 Rx Compte Additionnel 1",value:"0",expr:"=A10+A11",readOnly:!0},B12:{key:"B12",name:"10x10 Rx Compte Additionnel 1",value:"0",expr:"=B10+B11",readOnly:!0},C12:{key:"C12",name:"10x20 Rx Compte Additionnel 1",value:"0",expr:"=C10+C11",readOnly:!0},D12:{key:"D12",name:"T\xe9tras Compte Additionnel 1",value:"0",expr:"=D10+D11",readOnly:!0},E12:{key:"E12",name:"Tampons Compte Additionnel 1",value:"0",expr:"=E10+E11",readOnly:!0},F12:{key:"F12",name:"Peanuts Compte Additionnel 1",value:"0",expr:"=F10+F11",readOnly:!0},G12:{key:"G12",name:"Cotono\xefdes Compte Additionnel 1",value:"0",expr:"=G10+G11",readOnly:!0},A14:{key:"A14",name:"5x5 Rx Additionnel 2 Infirmi\xe8re circulante",value:"0",expr:"0",readOnly:!0},B14:{key:"B14",name:"10x10 Rx Additionnel 2 Infirmi\xe8re circulante",value:"0",expr:"0",readOnly:!0},C14:{key:"C14",name:"10x20 Rx Additionnel 2 Infirmi\xe8re circulante",value:"0",expr:"0",readOnly:!0},D14:{key:"D14",name:"T\xe9tras Additionnel 2 Infirmi\xe8re circulante",value:"0",expr:"0",readOnly:!0},E14:{key:"E14",name:"Tampons Additionnel 2 Infirmi\xe8re circulante",value:"0",expr:"0",readOnly:!0},F14:{key:"F10",name:"Peanuts Additionnel 2 Infirmi\xe8re circulante",value:"0",expr:"0",readOnly:!0},G14:{key:"G14",name:"Cotono\xefdes Additionnel 2 Infirmi\xe8re circulante",value:"0",expr:"0",readOnly:!0},A15:{key:"A15",name:"5x5 Rx Additionnel 2 Infirmi\xe8re instrumentiste",value:"0",expr:"0",readOnly:!0},B15:{key:"B15",name:"10x10 Rx Additionnel 2 Infirmi\xe8re instrumentiste",value:"0",expr:"0",readOnly:!0},C15:{key:"C15",name:"10x20 Rx Additionnel 2 Infirmi\xe8re instrumentiste",value:"0",expr:"0",readOnly:!0},D15:{key:"D15",name:"T\xe9tras Additionnel 2 Infirmi\xe8re instrumentiste",value:"0",expr:"0",readOnly:!0},E15:{key:"E15",name:"Tampons Additionnel 2 Infirmi\xe8re instrumentiste",value:"0",expr:"0",readOnly:!0},F15:{key:"F15",name:"Peanuts Additionnel 2 Infirmi\xe8re instrumentiste",value:"0",expr:"0",readOnly:!0},G15:{key:"G15",name:"Cotono\xefdes Additionnel 2 Infirmi\xe8re instrumentiste",value:"0",expr:"0",readOnly:!0},A16:{key:"A16",name:"5x5 Rx Compte Additionnel 2",value:"0",expr:"=A14+A15",readOnly:!0},B16:{key:"B16",name:"10x10 Rx Compte Additionnel 2",value:"0",expr:"=B14+B15",readOnly:!0},C16:{key:"C16",name:"10x20 Rx Compte Additionnel 2",value:"0",expr:"=C14+C15",readOnly:!0},D16:{key:"D16",name:"T\xe9tras Compte Additionnel 2",value:"0",expr:"=D14+D15",readOnly:!0},E16:{key:"E16",name:"Tampons Compte Additionnel 2",value:"0",expr:"=E14+E15",readOnly:!0},F16:{key:"F16",name:"Peanuts Compte Additionnel 2",value:"0",expr:"=F14+F15",readOnly:!0},G16:{key:"G16",name:"Cotono\xefdes Compte Additionnel 2",value:"0",expr:"=G14+G15",readOnly:!0},A18:{key:"A18",name:"5x5 Rx Additionnel 3 Infirmi\xe8re circulante",value:"0",expr:"0",readOnly:!0},B18:{key:"B18",name:"10x10 Rx Additionnel 3 Infirmi\xe8re circulante",value:"0",expr:"0",readOnly:!0},C18:{key:"C18",name:"10x20 Rx Additionnel 3 Infirmi\xe8re circulante",value:"0",expr:"0",readOnly:!0},D18:{key:"D18",name:"T\xe9tras Additionnel 3 Infirmi\xe8re circulante",value:"0",expr:"0",readOnly:!0},E18:{key:"E18",name:"Tampons Additionnel 3 Infirmi\xe8re circulante",value:"0",expr:"0",readOnly:!0},F18:{key:"F18",name:"Peanuts Additionnel 3 Infirmi\xe8re circulante",value:"0",expr:"0",readOnly:!0},G18:{key:"G18",name:"Cotono\xefdes Additionnel 3 Infirmi\xe8re circulante",value:"0",expr:"0",readOnly:!0},A19:{key:"A19",name:"5x5 Rx Additionnel 3 Infirmi\xe8re instrumentiste",value:"0",expr:"0",readOnly:!0},B19:{key:"B19",name:"10x10 Rx Additionnel 3 Infirmi\xe8re instrumentiste",value:"0",expr:"0",readOnly:!0},C19:{key:"C19",name:"10x20 Rx Additionnel 3 Infirmi\xe8re instrumentiste",value:"0",expr:"0",readOnly:!0},D19:{key:"D19",name:"T\xe9tras Additionnel 3 Infirmi\xe8re instrumentiste",value:"0",expr:"0",readOnly:!0},E19:{key:"E19",name:"Tampons Additionnel 3 Infirmi\xe8re instrumentiste",value:"0",expr:"0",readOnly:!0},F19:{key:"F19",name:"Peanuts Additionnel 3 Infirmi\xe8re instrumentiste",value:"0",expr:"0",readOnly:!0},G19:{key:"G19",name:"Cotono\xefdes Additionnel 3 Infirmi\xe8re instrumentiste",value:"0",expr:"0",readOnly:!0},A20:{key:"A20",name:"5x5 Rx Compte Additionnel 3",value:"0",expr:"=A18+A19",readOnly:!0},B20:{key:"B20",name:"10x10 Rx Compte Additionnel 3",value:"0",expr:"=B18+B19",readOnly:!0},C20:{key:"C20",name:"10x20 Rx Compte Additionnel 3",value:"0",expr:"=C18+C19",readOnly:!0},D20:{key:"D20",name:"T\xe9tras Compte Additionnel 3",value:"0",expr:"=D18+D19",readOnly:!0},E20:{key:"E20",name:"Tampons Compte Additionnel 3",value:"0",expr:"=E18+E19",readOnly:!0},F20:{key:"F20",name:"Peanuts Compte Additionnel 3",value:"0",expr:"=F18+F19",readOnly:!0},G20:{key:"G20",name:"Cotono\xefdes Compte Additionnel 3",value:"0",expr:"=G18+G19",readOnly:!0},A5:{key:"A5",name:"5x5 Rx 2eme Infirmi\xe8re circulante",value:"0",expr:"0",readOnly:!0},B5:{key:"B5",name:"10x10 Rx 2eme Infirmi\xe8re circulante",value:"0",expr:"0",readOnly:!0},C5:{key:"C5",name:"10x20 Rx 2eme Infirmi\xe8re circulante",value:"0",expr:"0",readOnly:!0},D5:{key:"D5",name:"T\xe9tras 2eme Infirmi\xe8re circulante",value:"0",expr:"0",readOnly:!0},E5:{key:"E5",name:"Tampons 2eme Infirmi\xe8re circulante",value:"0",expr:"0",readOnly:!0},F5:{key:"F5",name:"Peanuts 2eme Infirmi\xe8re circulante",value:"0",expr:"0",readOnly:!0},G5:{key:"G5",name:"Cotono\xefdes 2eme Infirmi\xe8re circulante",value:"0",expr:"0",readOnly:!0},A6:{key:"A6",name:"5x5 Rx 2eme Infirmi\xe8re instrumentiste",value:"0",expr:"0",readOnly:!0},B6:{key:"B6",name:"10x10 Rx 2eme Infirmi\xe8re instrumentiste",value:"0",expr:"0",readOnly:!0},C6:{key:"C6",name:"10x20 Rx 2eme Infirmi\xe8re instrumentiste",value:"0",expr:"0",readOnly:!0},D6:{key:"D6",name:"T\xe9tras 2eme Infirmi\xe8re instrumentiste",value:"0",expr:"0",readOnly:!0},E6:{key:"E6",name:"Tampons 2eme Infirmi\xe8re instrumentiste",value:"0",expr:"0",readOnly:!0},F6:{key:"F6",name:"Peanuts 2eme Infirmi\xe8re instrumentiste",value:"0",expr:"0",readOnly:!0},G6:{key:"G6",name:"Cotono\xefdes 2eme Infirmi\xe8re instrumentiste",value:"0",expr:"0",readOnly:!0},A7:{key:"A7",name:"5x5 Rx Compte apr\xe8s fermeture",value:"0",expr:"=A5+A6",readOnly:!0},B7:{key:"B7",name:"10x10 Rx Compte apr\xe8s fermeture",value:"0",expr:"=B5+B6",readOnly:!0},C7:{key:"C7",name:"10x20 Rx Compte apr\xe8s fermeture",value:"0",expr:"=C5+C6",readOnly:!0},D7:{key:"D7",name:"T\xe9tras Compte apr\xe8s fermeture",value:"0",expr:"=D5+D6",readOnly:!0},E7:{key:"E7",name:"Tampons Compte apr\xe8s fermeture",value:"0",expr:"=E5+E6",readOnly:!0},F7:{key:"F7",name:"Peanuts Compte apr\xe8s fermeture",value:"0",expr:"=F5+F6",readOnly:!0},G7:{key:"G7",name:"Cotono\xefdes Compte apr\xe8s fermeture",value:"0",expr:"=G5+G6",readOnly:!0},A8:{key:"A8",value:"",expr:'=(A1 == A2+A3 ? "Correct" : "Incorr." )',readOnly:!0},B8:{key:"B8",value:"",expr:'=(B1 == B2+B3 ? "Correct" : "Incorr." )',readOnly:!0},C8:{key:"C8",value:"",expr:'=(C1 == C2+C3 ? "Correct" : "Incorr." )',readOnly:!0},D8:{key:"D8",value:"",expr:'=(D1 == D2+D3 ? "Correct" : "Incorr." )',readOnly:!0},E8:{key:"E8",value:"",expr:'=(E1 == E2+E3 ? "Correct" : "Incorr." )',readOnly:!0},F8:{key:"F8",value:"",expr:'=(F1 == F2+F3 ? "Correct" : "Incorr." )',readOnly:!0},G8:{key:"G8",value:"",expr:'=(G1 == G2+G3 ? "Correct" : "Incorr." )',readOnly:!0},H8:{key:"H8",value:"",expr:'=(H1 == H2+H3 ? "Correct" : "Incorr." )',readOnly:!0},A9:{key:"A9",value:"",expr:'=(A1 == A5+A6 ? "Correct" : "Incorr." )',readOnly:!0},B9:{key:"B9",value:"",expr:'=(B1 == B5+B6 ? "Correct" : "Incorr." )',readOnly:!0},C9:{key:"C9",value:"",expr:'=(C1 == C5+C6 ? "Correct" : "Incorr." )',readOnly:!0},D9:{key:"D9",value:"",expr:'=(D1 == D5+D6 ? "Correct" : "Incorr." )',readOnly:!0},E9:{key:"E9",value:"",expr:'=(E1 == E5+E6 ? "Correct" : "Incorr." )',readOnly:!0},F9:{key:"F9",value:"",expr:'=(F1 == F5+F6 ? "Correct" : "Incorr." )',readOnly:!0},G9:{key:"G9",value:"",expr:'=(G1 == G5+G6 ? "Correct" : "Incorr." )',readOnly:!0},H9:{key:"H9",value:"",expr:'=(H1 == H5+H6 ? "Correct" : "Incorr." )',readOnly:!0},A13:{key:"A13",value:"",expr:'=(A1 == A10+A11 ? "Correct" : "Incorr." )',readOnly:!0},B13:{key:"B13",value:"",expr:'=(B1 == B10+B11 ? "Correct" : "Incorr." )',readOnly:!0},C13:{key:"C13",value:"",expr:'=(C1 == C10+C11 ? "Correct" : "Incorr." )',readOnly:!0},D13:{key:"D13",value:"",expr:'=(D1 == D10+D11 ? "Correct" : "Incorr." )',readOnly:!0},E13:{key:"E13",value:"",expr:'=(E1 == E10+E11 ? "Correct" : "Incorr." )',readOnly:!0},F13:{key:"F13",value:"",expr:'=(F1 == F10+F11 ? "Correct" : "Incorr." )',readOnly:!0},G13:{key:"G13",value:"",expr:'=(G1 == G10+G11 ? "Correct" : "Incorr." )',readOnly:!0},H13:{key:"H13",value:"",expr:'=(H1 == H10+H11 ? "Correct" : "Incorr." )',readOnly:!0},A17:{key:"A17",value:"",expr:'=(A1 == A14+A15 ? "Correct" : "Incorr." )',readOnly:!0},B17:{key:"B17",value:"",expr:'=(B1 == B14+B15 ? "Correct" : "Incorr." )',readOnly:!0},C17:{key:"C17",value:"",expr:'=(C1 == C14+C15 ? "Correct" : "Incorr." )',readOnly:!0},D17:{key:"D17",value:"",expr:'=(D1 == D14+D15 ? "Correct" : "Incorr." )',readOnly:!0},E17:{key:"E17",value:"",expr:'=(E1 == E14+E15 ? "Correct" : "Incorr." )',readOnly:!0},F17:{key:"F17",value:"",expr:'=(F1 == F14+F15 ? "Correct" : "Incorr." )',readOnly:!0},G17:{key:"G17",value:"",expr:'=(G1 == G14+G15 ? "Correct" : "Incorr." )',readOnly:!0},H17:{key:"H17",value:"",expr:'=(H1 == H14+H15 ? "Correct" : "Incorr." )',readOnly:!0},A21:{key:"A21",value:"",expr:'=(A1 == A18+A19 ? "Correct" : "Incorr." )',readOnly:!0},B21:{key:"B21",value:"",expr:'=(B1 == B18+B19 ? "Correct" : "Incorr." )',readOnly:!0},C21:{key:"C21",value:"",expr:'=(C1 == C18+C19 ? "Correct" : "Incorr." )',readOnly:!0},D21:{key:"D21",value:"",expr:'=(D1 == D18+D19 ? "Correct" : "Incorr." )',readOnly:!0},E21:{key:"E21",value:"",expr:'=(E1 == E18+E19 ? "Correct" : "Incorr." )',readOnly:!0},F21:{key:"F21",value:"",expr:'=(F1 == F18+F19 ? "Correct" : "Incorr." )',readOnly:!0},G21:{key:"G21",value:"",expr:'=(G1 == G18+G19 ? "Correct" : "Incorr." )',readOnly:!0},H21:{key:"H21",value:"",expr:'=(H1 == H18+H19 ? "Correct" : "Incorr." )',readOnly:!0}},l}return Object(le.a)(t,[{key:"subElement",value:function(e,n){var t=ce.a.assign({},this.state),l=this.cellUpdate,a=this.setState,r=this.setResult,i=t[e].value;i>=n&&l(t,{key:t[e].key,name:t[e].name,value:i,expr:i,readOnly:t[e].readOnly},JSON.stringify(parseInt(i)-n)),a(t);var s={};Object.keys(t).forEach((function(e,n){t[e].name&&t[e].name.length&&(s[n]={name:t[e].name,answer:t[e].value})})),r(s)}},{key:"generateGrid",value:function(){var e=this;console.log("generate grid");var n=[[{readOnly:!0,colSpan:7,value:Object(D.jsx)("div",{className:"bg-dark rounded text-white",children:"1er Compte"}),className:"grey"}],[{readOnly:!0,value:"Rx: 5x5"},{readOnly:!0,value:"10x10"},{readOnly:!0,value:"10x20"},{readOnly:!0,value:"T\xe9tras"},{readOnly:!0,value:"Tamp."},{readOnly:!0,value:"Peanuts"},{readOnly:!0,value:"Cotono."}],[{readOnly:!0,colSpan:7,value:"D\xe9part",className:"grey"}],["A","B","C","D","E","F","G"].map((function(n){return{readOnly:!0,value:e.generateButton(n+1,0,"A"===n?5:"B"===n||"C"===n?10:1),className:"button"}})),["A","B","C","D","E","F","G"].map((function(n){return e.state[n+1]})),[{readOnly:!0,colSpan:7,value:"Total infirmi\xe8re circulante",className:"grey"}],["A","B","C","D","E","F","G"].map((function(n){return{readOnly:!0,value:e.generateButton(n+2,0),className:"button"}})),["A","B","C","D","E","F","G"].map((function(n,t){return e.state[n+2]})),[{readOnly:!0,colSpan:7,value:"Total infirmi\xe8re instrumentiste ou chirurgien",className:"grey"}],["A","B","C","D","E","F","G"].map((function(n){return{readOnly:!0,value:e.generateButton(n+3,0),className:"button"}})),["A","B","C","D","E","F","G"].map((function(n,t){return e.state[n+3]})),[{readOnly:!0,colSpan:7,value:Object(D.jsx)("div",{className:"iq-bg-primary text-dark",children:"Compte interm\xe9diaire (avant fermeture)"}),className:"grey"}],["A","B","C","D","E","F","G"].map((function(n,t){return e.state[n+4]})),["A","B","C","D","E","F","G"].map((function(n,t){return e.state[n+8]})),[{readOnly:!0,colSpan:7,value:Object(D.jsx)("div",{className:"bg-dark rounded text-white",children:"2\xe8me Compte"}),className:"grey"}],[{readOnly:!0,colSpan:7,value:"Total infirmi\xe8re circulante",className:"grey"}],["A","B","C","D","E","F","G"].map((function(n){return{readOnly:!0,value:e.generateButton(n+5,0),className:"button"}})),["A","B","C","D","E","F","G"].map((function(n,t){return e.state[n+5]})),[{readOnly:!0,colSpan:7,value:"Total infirmi\xe8re instrumentiste ou chirurgien",className:"grey"}],["A","B","C","D","E","F","G"].map((function(n){return{readOnly:!0,value:e.generateButton(n+6,0),className:"button"}})),["A","B","C","D","E","F","G"].map((function(n,t){return e.state[n+6]})),[{readOnly:!0,colSpan:7,value:Object(D.jsx)("div",{className:"iq-bg-primary text-dark",children:"Compte total final (apr\xe8s fermeture)"}),className:"grey"}],["A","B","C","D","E","F","G"].map((function(n,t){return e.state[n+7]})),["A","B","C","D","E","F","G"].map((function(n,t){return e.state[n+9]}))];return this.state.number_additional>0&&n.push([{readOnly:!0,colSpan:7,value:Object(D.jsx)("div",{className:"bg-dark rounded text-white",children:"Compte additionnel 1"}),className:"grey"}],[{readOnly:!0,colSpan:7,value:"Total infirmi\xe8re circulante",className:"grey"}],["A","B","C","D","E","F","G"].map((function(n){return{readOnly:!0,value:e.generateButton(n+10,0),className:"button"}})),["A","B","C","D","E","F","G"].map((function(n,t){return e.state[n+10]})),[{readOnly:!0,colSpan:7,value:"Total infirmi\xe8re instrumentiste ou chirurgien",className:"grey"}],["A","B","C","D","E","F","G"].map((function(n){return{readOnly:!0,value:e.generateButton(n+11,0),className:"button"}})),["A","B","C","D","E","F","G"].map((function(n,t){return e.state[n+11]})),[{readOnly:!0,colSpan:7,value:Object(D.jsx)("div",{className:"iq-bg-primary text-dark",children:"Compte total additionnel 1"}),className:"grey"}],["A","B","C","D","E","F","G"].map((function(n,t){return e.state[n+12]})),["A","B","C","D","E","F","G"].map((function(n,t){return e.state[n+13]}))),this.state.number_additional>1&&n.push([{readOnly:!0,colSpan:7,value:Object(D.jsx)("div",{className:"bg-dark rounded text-white",children:"Compte additionnel 2"}),className:"grey"}],[{readOnly:!0,colSpan:7,value:"Total infirmi\xe8re circulante",className:"grey"}],["A","B","C","D","E","F","G"].map((function(n){return{readOnly:!0,value:e.generateButton(n+14,0),className:"button"}})),["A","B","C","D","E","F","G"].map((function(n,t){return e.state[n+14]})),[{readOnly:!0,colSpan:7,value:"Total infirmi\xe8re instrumentiste ou chirurgien",className:"grey"}],["A","B","C","D","E","F","G"].map((function(n){return{readOnly:!0,value:e.generateButton(n+15,0),className:"button"}})),["A","B","C","D","E","F","G"].map((function(n,t){return e.state[n+15]})),[{readOnly:!0,colSpan:7,value:Object(D.jsx)("div",{className:"iq-bg-primary text-dark",children:"Compte total additionnel 2"}),className:"grey"}],["A","B","C","D","E","F","G"].map((function(n,t){return e.state[n+16]})),["A","B","C","D","E","F","G"].map((function(n,t){return e.state[n+17]}))),this.state.number_additional>2&&n.push([{readOnly:!0,colSpan:7,value:Object(D.jsx)("div",{className:"bg-dark rounded text-white",children:"Compte additionnel 3"}),className:"grey"}],[{readOnly:!0,colSpan:7,value:"Total infirmi\xe8re circulante",className:"grey"}],["A","B","C","D","E","F","G"].map((function(n){return{readOnly:!0,value:e.generateButton(n+18,0),className:"button"}})),["A","B","C","D","E","F","G"].map((function(n,t){return e.state[n+18]})),[{readOnly:!0,colSpan:7,value:"Total infirmi\xe8re instrumentiste ou chirurgien",className:"grey"}],["A","B","C","D","E","F","G"].map((function(n){return{readOnly:!0,value:e.generateButton(n+19,0),className:"button"}})),["A","B","C","D","E","F","G"].map((function(n,t){return e.state[n+19]})),[{readOnly:!0,colSpan:7,value:Object(D.jsx)("div",{className:"iq-bg-primary text-dark",children:"Compte total additionnel 3"}),className:"grey"}],["A","B","C","D","E","F","G"].map((function(n,t){return e.state[n+20]})),["A","B","C","D","E","F","G"].map((function(n,t){return e.state[n+21]}))),console.log(n),n}},{key:"validateExp",value:function(e,n){var t=this,l=!0;return(n.match(/[A-Z][1-9]+/g)||[]).map((function(n){l=!(e.indexOf(n)>-1)&&t.validateExp([].concat(Object(ne.a)(e),[n]),t.state[n].expr)})),l}},{key:"computeExpr",value:function(e,n,t,l){var a=null;if("="!==t.charAt(0))return{className:"",name:n,value:t,expr:t};try{a=oe.a(t.substring(1),l)}catch(r){a=null}return null!==a&&this.validateExp([e],t)?{className:" "+("Incorr."===a?"red":"Correct"===a?"green":""),name:n,value:a,expr:t}:{className:"error",name:n,value:"error",expr:""}}},{key:"cellUpdate",value:function(e,n,t){var l=this;console.log(e,n,t);var a=ce.a.mapValues(e,(function(e){return isNaN(e.value)?0:parseFloat(e.value)})),r=ce.a.assign({},n,this.computeExpr(n.key,n.name,t,a));return console.log(r),e[n.key]=r,ce.a.each(e,(function(t,a){t.expr&&"="===t.expr.charAt(0)&&t.expr.indexOf(n.key)>-1&&a!==n.key&&(e=l.cellUpdate(e,t,t.expr))})),e}},{key:"onCellsChanged",value:function(e){var n=this;console.log(e);var t=ce.a.assign({},this.state);e.forEach((function(e){var l=e.cell,a=e.value;n.cellUpdate(t,l,a)})),this.setState(t);var l={};Object.keys(t).forEach((function(e,n){t[e].name&&t[e].name.length&&(l[n]={name:t[e].name,answer:t[e].value})})),this.setState(l)}},{key:"switchMode",value:function(){var e=ce.a.assign({},this.state),n=[1,2,3,5,6,10,11,14,15,18,19],t=["A","B","C","D","E","F","G"];!1===e.mode?(e.mode=!0,n.forEach((function(n,l){return t.map((function(t,l){e[t+n].readOnly=!1}))}))):(e.mode=!1,n.forEach((function(n,l){return t.map((function(t,l){e[t+n].readOnly=!0}))}))),this.setState(e)}},{key:"addAdditional",value:function(){var e=ce.a.assign({},this.state);e.number_additional+=1,this.setState(e)}},{key:"render",value:function(){var e=this,n=["5x5 Rx","10x10Rx","10x20Rx","T\xe9tras","Tampons","Peanuts","Cotono."];return Object(D.jsx)("div",{children:Object(D.jsxs)("div",{className:"sheet-container",children:[Object(D.jsx)(de.a,{data:this.generateGrid(),valueRenderer:function(e){return e.value},dataRenderer:function(e){return e.expr},onCellsChanged:this.onCellsChanged}),Object(D.jsx)("div",{className:"bg-white text-dark  text-center p-2 border-bottom",children:Object(D.jsxs)("label",{className:"m-0",children:["Authoriser la modification \xa0 ",Object(D.jsx)("input",{type:"checkbox",checked:this.state.mode,onChange:this.switchMode})]})}),Object(D.jsx)("div",{className:"bg-white text-dark  text-center p-2 border-bottom",children:Object(D.jsxs)("label",{className:"m-0",children:["Ajouter compte additionnel (3 max) \xa0 ",Object(D.jsx)("button",{className:"btn btn-warning btn-round mb-1 py-0",type:"button",onClick:this.addAdditional,children:" + "})]})}),Object(D.jsxs)("div",{className:"bg-white text-dark  text-center p-2",children:["Le compte d'un paquet n'est pas correct ?",Object(D.jsxs)("div",{className:"dropdown text-center mt-2",children:[Object(D.jsx)("button",{className:"btn btn-warning dropdown-toggle  ",type:"button",id:"dropdownMenuButton1","data-toggle":"dropdown","aria-expanded":"false",children:"Rejeter un paquet"}),Object(D.jsx)("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:["A","B","C","D","E","F","G"].map((function(t,l){return Object(D.jsx)("li",{children:Object(D.jsx)("label",{className:"dropdown-item ",onClick:function(){return e.subElement(t+1,"A"===t?5:"B"===t||"C"===t?10:1)},children:n[l]})},l)}))})]})]})]})})}}]),t}(a.a.Component));function pe(e){var n=e.props.onNewScanResult;return Object(D.jsx)("div",{className:"container p-2",children:Object(D.jsx)("div",{className:"iq-card bg-primary col-sm-12 mx-auto p-2 text-center shadow border border-dark justify-content-center ",children:Object(D.jsxs)("div",{className:"card-body",children:[Object(D.jsx)("h3",{className:"card-title text-white m-0",children:" Identification de l'utilisateur "}),Object(D.jsx)("h4",{className:"card-title text-white mt-4 mb-0",children:"Scannez le QR code correspondant"}),Object(D.jsx)("h4",{className:"card-title text-white",children:Object(D.jsx)("div",{"data-icon":"k",className:"icon"})}),Object(D.jsx)("button",{id:"btn1",className:"btn btn-info btn-round m-2",onClick:function(){n("7654321")},children:"Passer Qr Code"})]})})})}function be(){return Object(D.jsx)("div",{})}function he(){var e=this,n=!0,t=Object(l.useReducer)((function(e){return e+1}),0),a=Object(s.a)(t,2)[1],r=Object(l.useState)(null),i=Object(s.a)(r,2),c=i[0],j=i[1],x=Object(l.useState)(null),f=Object(s.a)(x,2),O=f[0],g=f[1],k=Object(l.useState)(null),C=Object(s.a)(k,2),N=C[0],w=C[1],A=Object(l.useState)(null),S=Object(s.a)(A,2),E=S[0],B=S[1],q=Object(l.useState)(null),G=Object(s.a)(q,2),M=G[0],P=G[1],T=Object(l.useState)(-1),U=Object(s.a)(T,2),Q=U[0],H=U[1],J=Object(l.useState)(-1),X=Object(s.a)(J,2),ne=X[0],te=X[1],le=Object(l.useState)(null),ae=Object(s.a)(le,2),re=ae[0],ie=ae[1],se=Object(l.useState)(null),ce=Object(s.a)(se,2),oe=ce[0],ue=ce[1],de=Object(l.useState)(null),he=Object(s.a)(de,2),xe=he[0],ve=he[1],ye=Object(l.useState)({}),fe=Object(s.a)(ye,2),Oe=fe[0],ge=fe[1],ke=Object(l.useState)({}),Ce=Object(s.a)(ke,2),Ne=Ce[0],_e=Ce[1],we=Object(l.useState)({}),Ae=Object(s.a)(we,2),Ie=Ae[0],Se=Ae[1],Ee=Object(l.useState)([]),Be=Object(s.a)(Ee,2),De=Be[0],Fe=Be[1],qe=Object(l.useState)([]),Ge=Object(s.a)(qe,2),Me=Ge[0],Pe=Ge[1],Re=Object(l.useState)(0),Le=Object(s.a)(Re,2),Ve=Le[0],Te=Le[1],Ue=Object(l.useState)(!0),Ke=Object(s.a)(Ue,2),Qe=Ke[0],He=Ke[1],Je=Object(l.useState)(!1),ze=Object(s.a)(Je,2),Xe=ze[0],We=ze[1],Ze=Object(l.useState)(!1),Ye=Object(s.a)(Ze,2),$e=Ye[0],en=Ye[1],nn=Object(l.useState)(!0),tn=Object(s.a)(nn,2),ln=tn[0],an=tn[1],rn=Object(l.useState)(!1),sn=Object(s.a)(rn,2),cn=sn[0],on=sn[1],un=Object(l.useState)(!1),dn=Object(s.a)(un,2),mn=dn[0],pn=dn[1],bn=Object(l.useState)(!0),hn=Object(s.a)(bn,2),jn=hn[0],xn=(hn[1],Object(l.useState)(null)),vn=Object(s.a)(xn,2),yn=vn[0],fn=(vn[1],Object(l.useState)(null)),On=Object(s.a)(fn,2),gn=On[0],kn=On[1],Cn=Object(l.useState)(null),Nn=Object(s.a)(Cn,2),_n=Nn[0],wn=Nn[1],An={};v.forEach((function(e){An[e]={0:!0}}));var In=Object(l.useState)(An),Sn=Object(s.a)(In,2),En=Sn[0],Bn=Sn[1],Dn={};if(M){console.log("enter");for(var Fn=0,qn=Object.entries(M);Fn<qn.length;Fn++){var Gn=Object(s.a)(qn[Fn],2),Mn=Gn[0],Pn=Gn[1];if("object"===typeof Pn)for(var Rn=0,Ln=Object.entries(Pn);Rn<Ln.length;Rn++){var Vn=Object(s.a)(Ln[Rn],2),Tn=Vn[0],Un=Vn[1];Dn[Tn]=Un}else Dn[Mn]=Pn}console.log(M),Dn.age=function(e){var n=e.split("/");return(new Date).getFullYear()-n[2]}(Dn.dateofbirth)}function Kn(){Te(0),_e({}),Se({});var e={};v.forEach((function(n){e[n]={0:!0}})),Bn(e),Pe([])}Object(l.useEffect)((function(){Jn=Jn.bind(e),o.a.get("#").then((function(e){console.log("user list call response",e),console.log("user list call temp",p),j(p),console.log("initial get user list call and set finished")})),o.a.get("#").then((function(e){console.log("patient call response",e.data),console.log("patient call temp",b),B(b),console.log("initial get patient list call and set finished")}))}),[]),Object(l.useEffect)((function(){if(O&&!N){var e=c.filter((function(e){return e.user_code===O}));e.length?w(c?e[0]:{id:0,user_code:"1234567",lastname:"Jonas",firstname:"Michel",role:"Assistant An\xe9st."}):(wn(O),g(null))}}));var Qn=function(e){return o.a.get("#").then((function(n){console.log("checklist swap call temp",u[e-1]);var t=Xe,l=u[e-1];(oe=I(l,e)).name=re.filter((function(n){return n.checklist_id===e}))[0].name,oe.person=re.filter((function(n){return n.checklist_id===e}))[0].person,oe.counter=re.filter((function(n){return n.checklist_id===e}))[0].counter,ue(oe);var a=Object.keys(Oe).reduce((function(n,t){return Oe[t].checklist_id<e&&(n[t]=Oe[t]),n}),{});Object.keys(a).forEach((function(e,n){var t=l.filter((function(n){return n[1].includes(e)}));a[e].question_id=t.length?t[0][0]:-1,!Object.values(Ie).filter((function(n){return n.name===e})).length&&Object.values(Ne).filter((function(n){return n.name===e})).length&&(a[e].gravity=1)})),e>=Q&&Object.keys(Ie).forEach((function(e,n){var t=Ie[e].name,r=l.filter((function(e){return e[1].includes(t)}));console.log(oe),a[t]={id:n,question_id:r.length?r[0][0]:-1,checklist_id:Q,checklist_name:Ie[e].checklist_name,name:t,answer:y[Ie[e].answer]?y[Ie[e].answer]:Ie[e].answer,gravity:0}})),ge(a),We(!1),H(e),ve(oe&&oe.values.length?oe.values[0]:null),We(t),He(!1),Kn(),console.log("switch checklist get call and set finished")})),oe};function Hn(){for(var e=[["id","name","answer","is_problematic"]],n=0,t=Object.entries(Ne);n<t.length;n++){var l=Object(s.a)(t[n],2),a=l[0],r=l[1];e.push([a,r.name,r.answer,Ie[a]?"yes":"no"])}for(var i=[],c=0,u=Object.entries(Ne);c<u.length;c++){var d=Object(s.a)(u[c],2),m=d[0],p=d[1];i.push({item_id:m,name:p.name,answer:p.answer,is_pb:!!Ie[m]})}var b={checklist_id:Q,journey_id:ne,user_id:N.id,patient_id:M.id,answers:i};o.a.post("#",b).then((function(n){console.log("evalutiaon post response",n),new _(e,"my_csv.csv").download(!0)}))}function Jn(e){console.log(e,gn),O?!gn&&e&&(console.log("write decoded scan",e),M.patient_code===e?o.a.get("#").then((function(e){console.log("get journey id for the patient id temp",d.filter((function(e){return e.patient_id===M.id}))[0].path_id);var n=d.filter((function(e){return e.patient_id===M.id}))[0].path_id;te(n),o.a.get("#").then((function(e){console.log("get journey corresponding to journey id response",e.data.checklists),console.log("get journey corresponding to journey id temp",m[n].checklists);var t=m[n].checklists;t&&t.length&&ie(t)}))})):(ie([{}]),wn(e),ie([]))):g(e)}var zn=null;De=[],oe&&oe.values&&(zn=je(oe.values,En,Dn,Xe)).forEach((function(e){return e.check.length?De.push(e.id):null}));var Xn=[En,Bn,Dn,Ne,Ie,_e,Se,Me,Pe,De,Fe,cn,ln],Wn=zn?zn.filter((function(e){return!Ne[e.id]&&e.check.includes("scan")})):null,Zn=Wn&&Wn.length?Wn[0].id:null;return console.log(N),console.log(Dn),Object(D.jsxs)("div",{children:[Object(D.jsx)(be,{}),Object(D.jsxs)("div",{className:"min-vh-100 content-page iq-bg-info",children:[Object(D.jsxs)("div",{children:[Object(D.jsx)(F,{props:{creationMode:Xe,setCreationMode:We,creditMode:$e,setCreditMode:en,setCommentMode:an,commentMode:ln,setDebugMode:on,debugMode:cn,trimmedCanvasUrl:yn,checklistList:re,swapchecklist:Qn,reset:Kn,forceUpdate:a,import_result:Hn,result:Ne,setCurrentQuestion:ve,checklist:oe,homeMode:Qe,setHomeMode:He,setChecklistList:ie,setScanValue:kn,setCurrentPatient:P,setUserCode:g,setScanValueError:wn,setCurrentUser:w}}),$e?Object(D.jsx)(L,{props:null}):Object(D.jsxs)("div",{children:[Xe?Object(D.jsx)(R,{props:{checklist:oe,setChecklist:ue,checklistList:re,setChecklistList:ie,checklistId:Q,setChecklistId:H,forceUpdate:a,currentQuestion:xe,setCurrentQuestion:ve,reset:Kn}}):null,Object(D.jsx)("div",{children:Qe?Object(D.jsx)("div",{children:re&&re.length?Object(D.jsx)(ee,{checklistList:re,swapchecklist:Qn,scanValue:gn,currentPatient:M,is_local:n}):Object(D.jsx)("div",{children:N?Object(D.jsxs)("div",{children:[Object(D.jsx)(V,{props:{currentPatient:M,setCurrentPatient:P,setIsDict:Bn,setResult:_e,setIsPreCheckDone:Pe,forceUpdate:a,patientList:E,switchUser:function(e){o.a.get("#").then((function(n){console.log("get patient at id response",n.data),console.log("get patient at id temp",h[e]);var t=h[e];P(t||null),wn(null)}))},setChecklistList:ie,setPathId:te,onNewScanResult:Jn,is_local:n,numDict:Dn}}),M?Object(D.jsx)("div",{className:"container p-2",children:Object(D.jsx)(K,{fps:10,qrbox:250,disableFlip:!1,qrCodeSuccessCallback:Jn,scanValueError:_n,scanValue:null,is_home:!0})},M.id):null]}):Object(D.jsxs)("div",{children:[Object(D.jsx)(pe,{props:{onNewScanResult:Jn}}),Object(D.jsx)("div",{className:"container p-2",children:Object(D.jsx)(K,{fps:10,qrbox:250,disableFlip:!1,qrCodeSuccessCallback:Jn,scanValueError:_n,scanValue:null,is_home:!0})})]})})}):Object(D.jsxs)("div",{id:"title",children:[Xe?null:Object(D.jsx)($,{checklistList:re,checklistId:Q,numDict:Dn,currentPatient:M,forceValidationMode:mn,setForceValidationMode:pn,is_local:n}),Xe?null:Object(D.jsx)("div",{children:Oe&&Object.values(Oe).length?Object(D.jsx)(Y,{alertList:Oe}):null}),oe?Object(D.jsx)("div",{children:!1===oe.counter?Object(D.jsx)("div",{className:"container p-0 border-bottom border border-dark  shadow rounded ",children:zn?zn.map((function(e,t){return Object(D.jsxs)("div",{children:[e.section_title?Object(D.jsx)(W,{section_title:e.section_title,index:t}):Object(D.jsx)("div",{className:"bg-primary "+(t?"border-dark border-top":"")}),Object(D.jsx)("div",{className:"pb-3 px-3 pt-3 "+(t===zn.length-1?"rounded rounded-0-top ":null)+(t||e.section_title?"":" rounded rounded-0-bottom ")+(e.importance?"iq-bg-danger":"iq-bg-info"),children:Object(D.jsx)(z,{init_items:oe,item:e,dicts:Xn,forceUpdate:a,values_filter_cond:je,creationMode:Xe,currentId:xe?xe.id:null,warningId:Ve,precheckMode:jn,is_root:!0,alertList:Oe,scan_bookmark:Zn===e.id,checklist_name:oe.name,is_local:n},JSON.stringify(Q)+e.id)})]})})):null}):Object(D.jsx)(me,{result:Ne,setResult:_e})}):null,Xe?null:Object(D.jsx)(Z,{visibleList:De,result:Ne,import_result:Hn,checklist:oe,setWarningId:Te,checklistList:re,setChecklistList:ie,checklistId:Q,forceValidationMode:mn})]})})]})]}),Object(D.jsx)("div",{children:Object(D.jsx)("nav",{className:"navbar",children:Object(D.jsx)("label",{className:"navbar-brand",children:null})})})]})]})}function je(e,n,t,l,a){return a?e:e.filter((function(e){return Object.keys(e.cond).every((function(t){return"num"===t||!e.cond[t]||e.cond[t].every((function(e){return n[t][e]}))}))&&(l||e.cond.num.every((function(e){return!t[e.var]||N(t[e.var],e.op,e.val)})))}))}var xe=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,493)).then((function(n){var t=n.getCLS,l=n.getFID,a=n.getFCP,r=n.getLCP,i=n.getTTFB;t(e),l(e),a(e),r(e),i(e)}))};i.a.render(Object(D.jsx)(a.a.StrictMode,{children:Object(D.jsx)(he,{})}),document.getElementById("root")),xe()}},[[486,1,2]]]);
//# sourceMappingURL=main.f94f7c1a.chunk.js.map