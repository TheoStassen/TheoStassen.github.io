(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{241:function(e,t,n){},261:function(e,t,n){},347:function(e,t,n){},487:function(e,t){},488:function(e,t,n){"use strict";n.r(t);var l=n(1),a=n.n(l),i=n(39),s=n.n(i),r=(n(241),n(2)),c=n(11),o=n.n(c),d=n(76),u=n(62),m=n(63),p=n(25),b=n.n(p),h=b.a.create({headers:{Accept:"application/json",withCredentials:!1}}),j=function(){function e(){Object(u.a)(this,e)}return Object(m.a)(e,[{key:"get",value:function(){var e=Object(d.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.get(t,{headers:{Authorization:"Bearer "+window.localStorage.getItem("token")}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"post",value:function(){var e=Object(d.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.post(t,n,{headers:{Authorization:"Bearer "+window.localStorage.getItem("token")}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"put",value:function(){var e=Object(d.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.put(t,n,{headers:{Authorization:"Bearer "+window.localStorage.getItem("token")}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(d.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.delete(t,{headers:{Authorization:"Bearer "+window.localStorage.getItem("token")}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),x=(n(261),[[['"id"','"name"','"parent_id"','"position"','"comment"','"section_title"','"cond"','"check"','"color"','"pre_check"','"importance'],[1,'"Dossier infirmier pr\xe9sent"',-1,0,null,'"Infirmi\xe8re de l\'unit\xe9 de soin qui pr\xe9pare le patient"','{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[2,'"Patient"',-1,1,null,null,'{"yes":[],"no":[],"num":[]}','["list_patient-states"]',"[0]",null,0],[3,'"Le patient d\xe9cline son nom"',-1,2,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no","na"]',"[0,1,2]",null,0],[4,'"Le patient d\xe9cline son pr\xe9nom"',-1,3,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no","na"]',"[0,1,2]",null,0],[5,'"Le patient d\xe9cline sa date de naissance"',-1,4,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no","na"]',"[0,1,2]",null,0],[6,'"V\xe9rifier la concordance entre le dossier et le bracelet d\'identit\xe9 du patient"',-1,5,null,null,'{"yes":[],"no":[],"num":[]}','["ok","not_ok"]',"[0,1]",null,0],[7,'"Consentement du patient"',-1,6,'"Pdf du Consentement"',null,'{"yes":[],"no":[],"num":[{"var":"age","op":">","val":17}]}','["yes","no"]',"[0,1]",null,0],[8,'"Consentement des deux parents ( <18 ans )"',-1,7,'"Pdf du Consentement"',null,'{"yes":[],"no":[],"num":[{"var":"age","op":"<","val":18}]}','["yes","no"]',"[0,1]",null,0],[9,'"Le patient d\xe9cline le c\xf4t\xe9 \xe0 op\xe9rer"',-1,8,null,null,'{"yes":[],"no":[],"num":[]}','["left","right","bilateral","idk","na"]',"[2,2,2,1,2]",null,0],[10,'"Marquage r\xe9alis\xe9 ?"',-1,9,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[11,'"Pr\xe9paration du site op\xe9ratoire"',-1,10,null,null,'{"yes":[],"no":[],"num":[]}','["ok","not_ok"]',"[0,1]",null,0],[12,"\"L'infirmi\xe8re v\xe9rifie dans le dossier le type d'intervention\"",-1,11,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[13,'"Maladies transmissibles connues"',-1,12,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no"]',"[1,0,2]",null,0],[14,'"Lesquelles ?_Maladies"',13,0,null,null,'{"yes":[13],"no":[],"num":[]}','["list_diseases"]',"[1]",null,0],[15,'"Patient(e) sous Xarelto. Arr\xeat\xe9 depuis 48h ?"',-1,13,null,null,'{"yes":[],"no":[],"num":[{"var":"xarelto","op":"=","val":"vrai"}]}','["yes","no"]',"[0,1]",null,1],[16,'"Patient(e) sous Insuline. Pas d\u2019injection personnelle ce matin ?"',-1,14,null,null,'{"yes":[],"no":[],"num":[{"var":"insulin","op":"=","val":"vrai"}]}','["yes","no"]',"[1,0]",null,1],[17,'"Patient(e) \xe0 jeun"',-1,15,null,'"\xc0 v\xe9rifier"','{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[18,'"Vernis \xe0 ongles \xf4t\xe9"',-1,16,null,null,'{"yes":[],"no":[],"num":[{"var":"age","op":">","val":11}]}','["yes","no"]',"[0,1]",null,0],[19,'"A urin\xe9"',-1,17,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[20,'"Proth\xe8ses retir\xe9es (dentier, appareil auditif, lentilles)"',-1,18,null,null,'{"yes":[],"no":[],"num":[{"var":"age","op":">","val":11}]}','["yes","no"]',"[0,1]",null,0],[21,'"Bijoux/piercings \xf4t\xe9s"',-1,19,null,null,'{"yes":[],"no":[],"num":[{"var":"age","op":">","val":11}]}','["yes","no"]',"[0,1]",null,0],[22,'"M\xe9dicamenteuses d\xe9clar\xe9es"',-1,20,null,'"Le patient d\xe9clare ses allergies"','{"yes":[],"no":[],"num":[]}','["yes","no","na"]',"[1,0,2]",null,0],[23,'"Lesquelles ?_Allergies_Meds"',22,0,null,null,'{"yes":[22],"no":[],"num":[]}','["list_alergy-meds"]',"[1]",null,0],[24,'"Alimentaires d\xe9clar\xe9es"',-1,21,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no","na"]',"[1,0,2]",null,0],[25,'"Lesquelles ?_Allergies_Alim"',24,0,null,null,'{"yes":[24],"no":[],"num":[]}','["list_alergy-aliments"]',"[1]",null,0],[26,'"Hygi\xe8ne du patient correcte"',-1,22,null,'"Hygi\xe8ne"','{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[27,'"Propret\xe9 et int\xe9grit\xe9 du site op\xe9ratoire"',-1,23,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[28,'"Pr\xe9sence de bas de contention"',-1,24,null,null,'{"yes":[],"no":[],"num":[{"var":"age","op":">","val":11}]}','["yes","no","na"]',"[0,1,2]",null,0],[29,'"Scan :"',-1,25,null,'"Infirmi\xe8r(e) de l\'US qui a pr\xe9par\xe9 le patient pour le BO "','{"yes":[],"no":[],"num":[]}','["scan"]',"[0]",null,0]],[['"id"','"name"','"parent_id"','"position"','"comment"','"section_title"','"cond"','"check"','"color"','"pre_check"','"importance'],[1,'"Dossier infirmier pr\xe9sent"',-1,0,null,'"Infirmi\xe8re BO qui accueille le patient"','{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[2,'"Patient"',-1,1,null,null,'{"yes":[],"no":[],"num":[]}','["list_patient-states"]',"[0]",null,0],[3,'"Le patient d\xe9cline son nom"',-1,2,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no","na"]',"[0,1,2]",null,0],[4,'"Le patient d\xe9cline son pr\xe9nom"',-1,3,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no","na"]',"[0,1,2]",null,0],[5,'"Le patient d\xe9cline sa date de naissance"',-1,4,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no","na"]',"[0,1,2]",null,0],[6,'"V\xe9rifier la concordance entre le dossier et le bracelet d\'identit\xe9 du patient"',-1,5,null,null,'{"yes":[],"no":[],"num":[]}','["ok","not_ok"]',"[0,1]",null,0],[7,'"Consentement du patient"',-1,6,'"Pdf du Consentement"',null,'{"yes":[],"no":[],"num":[{"var":"age","op":">","val":17}]}','["yes","no"]',"[0,1]",null,0],[8,'"Consentement des parents ( <18 ans )"',-1,7,'"Pdf du Consentement"',null,'{"yes":[],"no":[],"num":[{"var":"age","op":"<","val":18}]}','["yes","no"]',"[0,1]",null,0],[9,'"Le patient d\xe9cline le c\xf4t\xe9 \xe0 op\xe9rer"',-1,8,null,null,'{"yes":[],"no":[],"num":[]}','["left","right","bilateral","idk","na"]',"[2,2,2,1,2]",null,0],[10,'"Marquage r\xe9alis\xe9 ?"',-1,9,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[11,'"Pr\xe9paration du site op\xe9ratoire"',-1,10,null,null,'{"yes":[],"no":[],"num":[]}','["ok","not_ok"]',"[0,1]",null,0],[12,"\"L'infirmi\xe8re v\xe9rifie dans le dossier le type d'intervention\"",-1,11,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[13,'"Maladies transmissibles connues"',-1,12,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no"]',"[1,0,2]",null,0],[14,'"Lesquelles ?_Maladies"',13,0,null,null,'{"yes":[13],"no":[],"num":[]}','["list_diseases"]',"[1]",null,0],[15,'"Arr\xeat coagulant ?"',-1,13,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[16,'"Patient(e) \xe0 jeun"',-1,14,null,'"\xc0 v\xe9rifier"','{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[17,'"Vernis \xe0 ongles \xf4t\xe9"',-1,15,null,null,'{"yes":[],"no":[],"num":[{"var":"age","op":">","val":11}]}','["yes","no"]',"[0,1]",null,0],[18,'"A urin\xe9"',-1,16,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[19,'"Proth. dentaire/auditives/lentilles \xf4t\xe9es"',-1,17,null,null,'{"yes":[],"no":[],"num":[{"var":"age","op":">","val":11}]}','["yes","no"]',"[0,1]",null,0],[20,'"Bijoux/piercings \xf4t\xe9s"',-1,18,null,null,'{"yes":[],"no":[],"num":[{"var":"age","op":">","val":11}]}','["yes","no"]',"[0,1]",null,0],[21,'"Patient(e) sous Xarelto. Arr\xeat\xe9 depuis 48h ?"',-1,19,null,null,'{"yes":[],"no":[],"num":[{"var":"xarelto","op":"=","val":"vrai"}]}','["yes","no"]',"[0,1]",null,0],[22,'"Patient(e) sous Insuline. Pas d\u2019injection personnelle ce matin ?"',-1,20,null,null,'{"yes":[],"no":[],"num":[{"var":"insulin","op":"=","val":"vrai"}]}','["yes","no"]',"[0,1]",null,0],[23,'"M\xe9dicamenteuses d\xe9clar\xe9es"',-1,21,null,'"Le patient d\xe9clare ses allergies"','{"yes":[],"no":[],"num":[]}','["yes","no","na"]',"[1,0,2]",null,0],[24,'"Lesquelles ?_Allergies_Meds"',23,0,null,null,'{"yes":[23],"no":[],"num":[]}','["list_alergy-meds"]',"[1]",null,0],[25,'"Alimentaires d\xe9clar\xe9es"',-1,22,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no","na"]',"[1,0,2]",null,0],[26,'"Lesquelles ?_Allergies_Alim"',25,0,null,null,'{"yes":[25],"no":[],"num":[]}','["list_alergy-aliments"]',"[1]",null,0],[27,'"Hygi\xe8ne du patient correcte"',-1,23,null,'"Hygi\xe8ne"','{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[28,'"Propret\xe9 et int\xe9grit\xe9 du site op\xe9ratoire"',-1,24,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[29,'"Pr\xe9sence de bas de contention"',-1,25,null,null,'{"yes":[],"no":[],"num":[{"var":"age","op":">","val":11}]}','["yes","no","na"]',"[0,1,2]",null,0],[30,'"Scan :"',-1,26,null,'"Infirmi\xe8re qui accueille le patient au BO :"','{"yes":[],"no":[],"num":[]}','["scan"]',"[0]",null,0]],[['"id"','"name"','"parent_id"','"position"','"comment"','"section_title"','"cond"','"check"','"color"','"pre_check"','"importance'],[1,'"Date de l\'intervention"',-1,0,null,null,'{"yes":[],"no":[],"num":[]}','["date"]',"[0,1,2]",null,0],[2,'"Heure"',-1,1,null,null,'{"yes":[],"no":[],"num":[]}','["hour"]',"[0]",null,0],[3,'"Salle "',-1,2,null,null,'{"yes":[],"no":[],"num":[]}','["list_room"]',"[0]",null,0],[4,'"Pr\xe9sentation des personnes inhabituelles"',-1,3,null,'"Chirurgien / Inf. circul. / Instrumentaliste / Anesth\xe9siste"','{"yes":[],"no":[],"num":[]}','["yes","no","na"]',"[0,1,2]",null,0],[5,'"V\xe9rification identit\xe9 du patient"',-1,4,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[6,"\"Rappel de l'intitul\xe9 de l'intervention\"",-1,5,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[7,'"Site op\xe9ratoire"',-1,6,null,null,'{"yes":[],"no":[],"num":[]}','["left","right","bilateral","idk","na"]',"[2,2,2,1,2]",null,0],[8,'"Maladies transmissibles"',-1,7,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no"]',"[1,0]",null,0],[9,'"Lesquelles ?_Maladies"',8,0,null,null,'{"yes":[8],"no":[],"num":[]}','["list_diseases"]',"[1]",null,0],[10,'"Poches de sang disponibles ?"',-1,8,'"Poches de sang command\xe9es : _bloodbags"',null,'{"yes":[],"no":[],"num":[]}','["number"]',"[1]",null,0],[11,'"Cell saver disponible"',-1,9,null,null,'{"yes":[],"no":[],"num":[{"var":"type","op":"=","val":"major"}]}','["yes","no"]',"[0,1,2]",null,0],[12,'"Cell saver en ordre de marche"',-1,10,null,null,'{"yes":[],"no":[],"num":[{"var":"type","op":"=","val":"major"}]}','["yes","no"]',"[0,1]",null,0],[13,'"AB Prophyl."',-1,11,null,'"V\xe9rifications administration"','{"yes":[],"no":[],"num":[]}','["yes","no"]',"[2,2]",null,0],[14,'"Lesquels ?_Antibotiques"',13,0,null,null,'{"yes":[13],"no":[],"num":[]}','["list_antibiotics"]',"[0]",null,0],[15,'"Type d\'an\xe9sth\xe9sie "',-1,12,null,'"An\xe9sthesiste"','{"yes":[],"no":[],"num":[]}','["list_anesthesia"]',"[0]",null,0],[16,'"Mat\xe9riel d\'anesth\xe9sie disponible / ordre de marche"',-1,13,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[17,'"Respirateur"',-1,14,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[18,'"Oxym. de pouls"',-1,15,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[19,'"Monitoring"',-1,16,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[20,'"Mat\xe9riel de monitorage invasif disponible (cath\xe9 art\xe9riel, VVC,\u2026) "',-1,17,null,null,'{"yes":[],"no":[],"num":[{"var":"type","op":"=","val":"major"}]}','["yes","no"]',"[0,1]",null,0],[21,'"Possibilit\xe9 de difficult\xe9s d\u2019intubation signal\xe9e"',-1,18,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no","na"]',"[1,0,2]",null,1],[22,'"Mat\xe9riel d\u2019intubation difficile disponible ?"',21,0,null,null,'{"yes":[21],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[23,'"Fibroscope en ordre de marche"',21,1,null,null,'{"yes":[21],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[24,'"2e anesth\xe9siste disponible ?"',21,2,null,null,'{"yes":[21],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[25,'"Mat\xe9riel pour l\'infirmi\xe8re circulante disponible et en ordre de marche "',-1,19,null,'"Infirmi\xe8re circulante"','{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[26,'"Imagerie disponible "',-1,20,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[27,'"Implants st\xe9riles et adapt\xe9s "',-1,21,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[28,'"La st\xe9rilit\xe9 du mat\xe9riel disposable et non disposable a \xe9t\xe9 v\xe9rifi\xe9e (r\xe9sultats des indicateurs + v\xe9rification date p\xe9remption)"',-1,22,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0]],[['"id"','"name"','"parent_id"','"position"','"comment"','"section_title"','"cond"','"check"','"color"','"pre_check"','"importance'],[1,'"Date de l\'intervention"',-1,0,null,null,'{"yes":[],"no":[],"num":[]}','["date"]',"[0,1,2]",null,0],[2,'"Heure"',-1,1,null,null,'{"yes":[],"no":[],"num":[]}','["hour"]',"[0]",null,0],[3,'"Salle "',-1,2,null,null,'{"yes":[],"no":[],"num":[]}','["list_room"]',"[0,1]",null,0],[4,'"Pr\xe9sentation des personnes inhabituelles"',-1,3,null,'"Chirurgien / Inf. circul. / Instrumentaliste / Anesth\xe9siste"','{"yes":[],"no":[],"num":[]}','["yes","no","na"]',"[0,1,2]",null,0],[5,'"V\xe9rification identit\xe9 du patient"',-1,4,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[6,"\"Rappel de l'intitul\xe9 de l'intervention\"",-1,5,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[7,'"Site op\xe9ratoire"',-1,6,null,null,'{"yes":[],"no":[],"num":[]}','["left","right","bilateral","na"]',"[2,2,2,2,2]",null,0],[8,'"Maladies transmissibles"',-1,7,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no"]',"[1,0]",null,0],[9,'"Lesquelles ?_Maladies"',8,0,null,null,'{"yes":[8],"no":[],"num":[]}','["list_diseases"]',"[1]",null,0],[10,'"Risque de perte sanguine ?"',-1,8,null,null,'{"yes":[],"no":[],"num":[{"var":"type","op":"=","val":"major"}]}','["yes","no","na"]',"[1,0,2]",null,0],[11,'"Poches de sang disponibles ?"',10,0,null,null,'{"yes":[10],"no":[],"num":[]}','["number"]',"[1]",null,0],[12,'"V\xe9rification installation patient correcte"',-1,9,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no","na"]',"[0,1,2]",null,0],[13,'"V\xe9rification plaque bistouri"',-1,10,null,null,'{"yes":[],"no":[],"num":[{"var":"type","op":"=","val":"major"}]}','["yes","no","na"]',"[0,1,2]",null,0],[14,'"V\xe9rification position patient"',-1,11,null,null,'{"yes":[],"no":[],"num":[{"var":"type","op":"=","val":"major"}]}','["yes","no","na"]',"[0,1,2]",null,0],[15,'"Documents n\xe9cessaires disponibles (RX, Imagerie, CD, ..)"',-1,12,null,'"Chirurgien"','{"yes":[],"no":[],"num":[]}','["yes","no","na"]',"[0,1,2]",null,0],[16,'"Particularit\xe9 de l\'intervention li\xe9e \xe0 la chirurgie \xe9nonc\xe9e"',-1,13,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no","na"]',"[0,1,2]",null,0],[17,'"Mat\xe9riel pour le chirurgien et/ou l\'instrumentiste disponible"',-1,14,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1,2]",null,0],[18,'"V\xe9rif. compte initial des compresses"',-1,15,null,'"An\xe9sthesiste"','{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0]],[],[['"id"','"name"','"parent_id"','"position"','"comment"','"section_title"','"cond"','"check"','"color"','"pre_check"','"importance'],[1,'"Pr\xe9l\xe9vements"',-1,0,null,'"Confirmation orale par le personnel aupr\xe8s de l\'\xe9quipe"','{"yes":[],"no":[],"num":[]}','["yes","no","na"]',"[1,0,2]",null,0],[2,'"Etiquet\xe9s correctement"',1,0,null,null,'{"yes":[1],"no":[],"num":[]}','["yes","no","na"]',"[0,1,2]",null,0],[3,'"Achemin\xe9s correctement"',1,1,null,null,'{"yes":[1],"no":[],"num":[]}','["yes","no","na"]',"[0,1,2]",null,0],[4,'"Signature"',-1,1,null,null,'{"yes":[],"no":[],"num":[]}','["signature"]',"[0]",null,0],[5,'"Signalement/notification \xe9crite des dysfonctionnements mat\xe9riels majeurs au responsable BO pr\xe9sent"',-1,2,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no","na"]',"[0,1,2]",null,0],[6,'"Dysfonctionnement/ Disponibilit\xe9 du mat\xe9riel implantable (Vis, proth\xe8se, greffe, ...)"',-1,3,null,'"Chirurgien / Inf. circul. / Instrumentaliste / Anesth\xe9siste"','{"yes":[],"no":[],"num":[]}','["yes","no","na"]',"[1,0,2]",null,0],[7,'"Drains, sonde urinaire, tamponnement, m\xe9chage, traitements, ..."',-1,4,null,'"Les prescriptions pour les suites op\xe9ratoires sont v\xe9rfi\xe9es de mani\xe8re conjointe (post op)"','{"yes":[],"no":[],"num":[]}','["yes","no", "na"]',"[0,1,2]",null,0],[8,'"Tout OK ?"',-1,5,null,'"D\xe9briefing"','{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0],[9,'"Quels probl\xe8mes rencontr\xe9s ? "',8,0,null,null,'{"yes":[],"no":[8],"num":[]}','["list_problems"]',"[0]",null,0]],[['"id"','"name"','"parent_id"','"position"','"comment"','"section_title"','"cond"','"check"','"color"','"pre_check"','"importance'],[1,'"Anesth\xe9siste : Scan"',-1,0,null,'"Anesth\xe9sistes"','{"yes":[],"no":[],"num":[]}','["scan"]',"[0,1]",null,0],[2,'"Signature"',-1,1,null,null,'{"yes":[],"no":[],"num":[]}','["signature"]',"[0,1]",null,0],[3,'"Assistant Anesth\xe9siste : Scan"',-1,2,null,null,'{"yes":[],"no":[],"num":[]}','["scan"]',"[0,1]",null,0],[4,'"Signature"',-1,3,null,null,'{"yes":[],"no":[],"num":[]}','["signature"]',"[0,1]",null,0],[5,'"Chirurgien : Scan"',-1,4,null,'"Chirurgiens"','{"yes":[],"no":[],"num":[]}','["scan"]',"[0,1]",null,0],[6,'"Signature"',-1,5,null,null,'{"yes":[],"no":[],"num":[]}','["signature"]',"[0,1]",null,0],[7,'"Assistant Chirurgien : Scan"',-1,6,null,null,'{"yes":[],"no":[],"num":[]}','["scan"]',"[0,1]",null,0],[8,'"Signature"',-1,7,null,null,'{"yes":[],"no":[],"num":[]}','["signature"]',"[1,0,2]",null,0],[9,'"Infirmi\xe8re Circulante: Scan"',-1,8,null,'"Infirmi\xe8res"','{"yes":[],"no":[],"num":[]}','["scan"]',"[0]",null,0],[10,'"Signature"',-1,9,null,null,'{"yes":[],"no":[],"num":[]}','["signature"]',"[0]",null,0],[11,'"Infirmi\xe8re Instrumentiste : Scan"',-1,10,null,null,'{"yes":[],"no":[],"num":[]}','["scan"]',"[0]",null,0],[12,'"Signature"',-1,11,null,null,'{"yes":[0],"no":[],"num":[]}','["signature"]',"[0]",null,0]]]),v=[{path_id:1,patient_id:1,date:"01/01/2022"},{path_id:2,patient_id:2,date:"01/01/2022"},{path_id:3,patient_id:3,date:"01/01/2022"},{path_id:4,patient_id:4,date:"01/01/2022"},{path_id:5,patient_id:5,date:"01/01/2022"},{path_id:6,patient_id:6,date:"01/01/2022"}],y={1:{path_id:1,patient_id:1,date:"01/01/2022",checklists:[{id:1,title:"Unit\xe9 de soins",person:"Inf. de l'US qui pr\xe9pare le patient ",fill:!1,type:2},{id:2,title:"Accueil Patient BO",person:"Inf. BO qui accueille le patient",fill:!1,type:2},{id:3,title:"Avant Induction An\xe9sth\xe9sique",person:"Chirurgien/Inf. \n Circul./Instrumentiste/An\xe9st.",fill:!1,type:1},{id:4,title:"Avant Incision chirurgicale",person:"Chirurgien/Inf. \n Circul./Instrumentiste/Anest.",fill:!1,type:1},{id:5,title:"Compte des compresses",person:"Chirurgien/Inf. \n Circul./Instrumentiste/Anest.",fill:!1,type:0},{id:6,title:"Avant la sortie de la salle d'op\xe9ration",person:"Chirurgien/Inf. \n Circul./Instrumentiste/Anest.",fill:!1,type:1},{id:7,title:"Signatures",person:"Chirurgiens/An\xe9sth\xe9sistes/Infirmi\xe8res",fill:!1,type:1}]},2:{path_id:2,patient_id:2,date:"01/01/2022",checklists:[{id:1,title:"Unit\xe9 de soins",person:"Inf. de l'US qui pr\xe9pare le patient ",fill:!0,type:2},{id:2,title:"Accueil Patient BO",person:"Inf. BO qui accueille le patient",fill:!0,type:2},{id:3,title:"Avant Induction An\xe9sth\xe9sique",person:"Chirurgien/Inf. \n Circul./Instrumentiste/An\xe9st.",fill:!1,type:1},{id:4,title:"Avant Incision chirurgicale",person:"Chirurgien/Inf. \n Circul./Instrumentiste/Anest.",fill:!1,type:1},{id:5,title:"Compte des compresses",person:"Chirurgien/Inf. \n Circul./Instrumentiste/Anest.",fill:!1,type:0},{id:6,title:"Avant la sortie de la salle d'op\xe9ration",person:"Chirurgien/Inf. \n Circul./Instrumentiste/Anest.",fill:!1,type:1},{id:7,title:"Signatures",person:"Chirurgiens/An\xe9sth\xe9sistes/Infirmi\xe8res",fill:!1,type:1}]},3:{path_id:3,patient_id:3,date:"01/01/2022",checklists:[{id:1,title:"Unit\xe9 de soins",person:"Inf. de l'US qui pr\xe9pare le patient ",fill:!0,type:2},{id:2,title:"Accueil Patient BO",person:"Inf. BO qui accueille le patient",fill:!1,type:2},{id:3,title:"Avant Induction An\xe9sth\xe9sique",person:"Chirurgien/Inf. \n Circul./Instrumentiste/An\xe9st.",fill:!1,type:1},{id:4,title:"Avant Incision chirurgicale",person:"Chirurgien/Inf. \n Circul./Instrumentiste/Anest.",fill:!1,type:1},{id:5,title:"Compte des compresses",person:"Chirurgien/Inf. \n Circul./Instrumentiste/Anest.",fill:!1,type:0},{id:6,title:"Avant la sortie de la salle d'op\xe9ration",person:"Chirurgien/Inf. \n Circul./Instrumentiste/Anest.",fill:!1,type:1},{id:7,title:"Signatures",person:"Chirurgiens/An\xe9sth\xe9sistes/Infirmi\xe8res",fill:!1,type:1}]},4:{path_id:4,patient_id:4,date:"01/01/2022",checklists:[{id:1,title:"Unit\xe9 de soins",person:"Inf. de l'US qui pr\xe9pare le patient ",fill:!0,type:2},{id:2,title:"Accueil Patient BO",person:"Inf. BO qui accueille le patient",fill:!1,type:2},{id:3,title:"Avant Induction An\xe9sth\xe9sique",person:"Chirurgien/Inf. \n Circul./Instrumentiste/An\xe9st.",fill:!1,type:1},{id:4,title:"Avant Incision chirurgicale",person:"Chirurgien/Inf. \n Circul./Instrumentiste/Anest.",fill:!1,type:1},{id:5,title:"Compte des compresses",person:"Chirurgien/Inf. \n Circul./Instrumentiste/Anest.",fill:!1,type:0},{id:6,title:"Avant la sortie de la salle d'op\xe9ration",person:"Chirurgien/Inf. \n Circul./Instrumentiste/Anest.",fill:!1,type:1},{id:7,title:"Signatures",person:"Chirurgiens/An\xe9sth\xe9sistes/Infirmi\xe8res",fill:!1,type:1}]},5:{path_id:5,patient_id:5,date:"01/01/2022",checklists:[{id:1,title:"Unit\xe9 de soins",person:"Inf. de l'US qui pr\xe9pare le patient ",fill:!0,type:2},{id:2,title:"Accueil Patient BO",person:"Inf. BO qui accueille le patient",fill:!1,type:2},{id:3,title:"Avant Induction An\xe9sth\xe9sique",person:"Chirurgien/Inf. \n Circul./Instrumentiste/An\xe9st.",fill:!1,type:1},{id:4,title:"Avant Incision chirurgicale",person:"Chirurgien/Inf. \n Circul./Instrumentiste/Anest.",fill:!1,type:1},{id:5,title:"Compte des compresses",person:"Chirurgien/Inf. \n Circul./Instrumentiste/Anest.",fill:!1,type:0},{id:6,title:"Avant la sortie de la salle d'op\xe9ration",person:"Chirurgien/Inf. \n Circul./Instrumentiste/Anest.",fill:!1,type:1},{id:7,title:"Signatures",person:"Chirurgiens/An\xe9sth\xe9sistes/Infirmi\xe8res",fill:!1,type:1}]},6:{path_id:6,patient_id:6,date:"01/01/2022",checklists:[{id:1,title:"Unit\xe9 de soins",person:"Inf. de l'US qui pr\xe9pare le patient ",fill:!0,type:2},{id:2,title:"Accueil Patient BO",person:"Inf. BO qui accueille le patient",fill:!1,type:2},{id:3,title:"Avant Induction An\xe9sth\xe9sique",person:"Chirurgien/Inf. \n Circul./Instrumentiste/An\xe9st.",fill:!1,type:1},{id:4,title:"Avant Incision chirurgicale",person:"Chirurgien/Inf. \n Circul./Instrumentiste/Anest.",fill:!1,type:1},{id:5,title:"Compte des compresses",person:"Chirurgien/Inf. \n Circul./Instrumentiste/Anest.",fill:!1,type:0},{id:6,title:"Avant la sortie de la salle d'op\xe9ration",person:"Chirurgien/Inf. \n Circul./Instrumentiste/Anest.",fill:!1,type:1},{id:7,title:"Signatures",person:"Chirurgiens/An\xe9sth\xe9sistes/Infirmi\xe8res",fill:!1,type:1}]}},O=[{id:1,user_code:"1234567",lastname:"Jonas",firstname:"Michel"},{id:2,user_code:"7654321",lastname:"Van Acker",firstname:"Denise"}],f={1:{id:1,user_code:"1234567",lastname:"Jonas",firstname:"Michel",role_name:"Assistant An\xe9st.",role_id:1},2:{id:2,user_code:"7654321",lastname:"Van Acker",firstname:"Denise",role_name:"Infirmi\xe8re US",role_id:2}},g={1:[0,1,2],2:[0,1]},k=[{id:1,patient_code:"12345678",lastname:"Dubois",firstname:"Germaine"},{id:2,patient_code:"65464684",lastname:"Vandamme",firstname:"Gilbert"},{id:3,patient_code:"54875149",lastname:"Franklin",firstname:"Rachel"},{id:4,patient_code:"56892134",lastname:"Leroy",firstname:"Michel"},{id:5,patient_code:"96587412",lastname:"Girard",firstname:"Alexandra"},{id:6,patient_code:"78451236",lastname:"Van den Broucke",firstname:"Kevin"}],N={1:{id:1,patient_code:"12345678",lastname:"Dubois",firstname:"Germaine",gender:"F",dateofbirth:"01/01/1940",optional_data:{diabetic:"faux",difficult_intubation:"vrai",insulin:"faux",xarelto:"faux"},photo:"photos/photo1.jpg",consent_pdf:"photos/pdf1.jpg",type:"major",intervention_name:"PTG"},2:{id:2,patient_code:"65464684",lastname:"Vandamme",firstname:"Gilbert",gender:"M",dateofbirth:"01/01/2017",optional_data:{diabetic:"vrai",difficult_intubation:"vrai",insulin:"faux",xarelto:"faux"},photo:"photos/photo2.jpg",consent_pdf:"photos/pdf1.jpg",type:"minor",intervention_name:"Ablation V\xe9g\xe9tations"},3:{id:3,patient_code:"54875149",lastname:"Franklin",firstname:"Rachel",gender:"F",dateofbirth:"01/01/1986",optional_data:{diabetic:"faux",difficult_intubation:"faux",insulin:"faux",xarelto:"faux"},photo:"photos/photo3.jpg",consent_pdf:"photos/pdf1.jpg",type:"minor",intervention_name:"Varice bilat\xe9rale"},4:{id:4,patient_code:"56892134",lastname:"Leroy",firstname:"Michel",gender:"M",dateofbirth:"01/01/1958",optional_data:{diabetic:"vrai",difficult_intubation:"vrai",insulin:"vrai",xarelto:"vrai",bloodbags:3},photo:"photos/photo4.jpg",consent_pdf:"photos/pdf1.jpg",type:"major",intervention_name:"An\xe9vrisme Aorte Abdominale"},5:{id:5,patient_code:"96587412",lastname:"Girard",firstname:"Alexandra",gender:"F",dateofbirth:"01/01/1986",optional_data:{diabetic:"faux",difficult_intubation:"faux",insulin:"faux",xarelto:"faux"},photo:"photos/photo5.jpg",consent_pdf:"photos/pdf1.jpg",type:"minor",intervention_name:"Varices"},6:{id:6,patient_code:"78451236",lastname:"Van den Broucke",firstname:"Kevin",gender:"M",dateofbirth:"01/01/1970",optional_data:{diabetic:"faux",difficult_intubation:"faux",insulin:"faux",xarelto:"faux"},photo:"photos/photo6.jpg",consent_pdf:"photos/pdf1.jpg",type:"minor",intervention_name:"Varices"}},C={meds:["Mc","Lis","Kl","Eft","Aucun"],diseases:["H\xe9patite A","H\xe9patite B","H\xe9patite C","Covid","HIV","Tuberculose","MRSA"],"patient-states":["Conscient","Inconscient","D\xe9ment","Dyscommunicant"],"alergy-meds":["Latex","Peniciline","Insuline","Ibuprof\xe8ne"],"alergy-aliments":["Gluten","Lactose","Arachides","Banane","Kiwi","Noix","Fruits secs"],nurses:["Avril Charpentier"," Emilie Lachance","Camille Dupond","Alix Lefurgey","Bastien Bellerose","J\xe9r\xe9my Duchamps"],anesthesists:["Jean Dupond","Carole Marchal","Louis Libier","Charles Van Acker"],room:["N1","N2","N3","N4","N5","N6","U1","U2","U3","U4","U5","U6","U7","U8","U9","U10","I1","I2","I3","I4"],antibiotics:["Cefazoline","Zinacef","Flagyl"],anesthesia:["AG","AG + \xe9pidurale","\xe9pidurale","rachi","bloc"],problems:["Complications m\xe9dicales","Dysfonct. mat\xe9r. : Pr\xe9paration incorrecte","Dysfonct. mat\xe9r. : Probl\xe8me de proth\xe8se","Dysfonct. mat\xe9r. : Probl\xe8me de st\xe9rilisation"]},w={meds:"M\xe9dicaments",diseases:"Maladies","patient-states":"Etats Patients","alergy-meds":"Allergies M\xe9dicamenteuses","alergy-aliments":"Allergies Alimentaires",nurses:"Infirmi\xe8res",anesthesists:"Anesth\xe9sistes",room:"Salle",antibiotics:"Antibiotiques"},_=(n(262),["yes","no","idk","ok","not_ok","normal","anormal","left","right","na","a","b","c","d","text","list","date","hour","scan","signature","bilateral","number"]),A={yes:"Oui",no:"Non",idk:"?",ok:"OK",not_ok:"Non OK",normal:"Normal",anormal:"Anormal",na:"N.A.",left:"Gauche",right:"Droite",a:"A",b:"B",c:"C",d:"D",text:"Texte",list:"Liste",date:"Date",hour:"Hour",scan:"Scan",signature:"Signature",bilateral:"Bilat\xe9ral",number:"Nombre"},I=["diabetic","age","yearofbirth","difficult_intubation","gender","xarelto","insulin"],S={diabetic:"Diab\xe9tique",age:"\xc2ge",yearofbirth:"Ann\xe9e de naissance",difficult_intubation:"Intubation Difficile",gender:"Genre",xarelto:"Patient sous Xarelto",insulin:"Patient sous Insuline"},B=["<",">","="],E=function(e){return A[e]},D=function(e){return S[e]};var q=function(e,t,n){switch(t){case">":return e>n;case"<":return e<n;case"=":case"est":return e===n;default:return!0}};function F(e){var t=[{}];return t=G(e,t,0,0),console.log(t),function(e){var t="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(e,null,"\t"));console.log(t);var n=document.createElement("a");n.href=t,n.download="checklist.json",document.body.appendChild(n),n.click(),n.remove()}(t),t}function G(e,t,n,l){e.id>0&&(console.log(JSON.stringify(e.cond)),t.push({id:e.id,name:e.name,parent_itemId:n,position:l,comment:e.comment,section_title:e.section_title,cond:JSON.stringify(e.cond),check:JSON.stringify(e.check),color:JSON.stringify(e.color),pre_check:e.pre_check?JSON.stringify(e.pre_check):null}));for(var a=0;a<e.values.length;a++)t=G(e.values[a],t,e.id,a);return t}function M(e,t){return P({checklist_id:t,id:-1,num_values:[],values:[]},e)}function P(e,t){var n=t.filter((function(t){return t.parent_itemId===e.id}));if(n.sort((function(e,t){return e.position-t.position})),!n.length)return e;for(var l=0;l<n.length;l++){var a=n[l];console.log(a);var i={id:a.itemId,name:a.name,comment:a.comment,section_title:a.section_title,cond:JSON.parse(a.cond),check:JSON.parse(a.check),color:JSON.parse(a.color),pre_check:JSON.parse(a.pre_check),importance:JSON.parse(a.importance),values:[]};i=P(i,t),e.values.push(i),console.log("new item",i)}return e}var R=n(13),L=n(493),V=n(7),T=n(23),U=function e(t,n,l,a,i){if(!t)if(null===window.localStorage.getItem("token")){var s={email:n.username,password:n.password};(new j).post("http://checklists.metoui.be/api/login",s).then((function(e){console.log(" login",e),window.localStorage.setItem("token",e.data.token),a(!0)})).catch((function(e){console.error(e),i(e.message)}))}else(new j).get("http://checklists.metoui.be/api/session").then((function(e){console.log(" session connection succeed",e),window.localStorage.setItem("token",e.data.token),a(!0)})).catch((function(i){console.log("Session connection failed",i),window.localStorage.removeItem("token"),e(t,n,l,a)}))},K=function(e,t,n){return(new j).get("#").then((function(e){console.log("user list call response",e),console.log("user list call temp",O),t(O),console.log("initial get user list call and set finished")})).catch((function(e){console.error(e.message),n(e.message)})),!0},H=function(e,t,n,l,a,i,s,r,c,o,d,u,m){(new j).get(e?"#":"http://checklists.metoui.be/api/checklist/"+t).then((function(p){var b=e?x[t-1]:p.data.data.items;console.log("get checklist creation mode",b),n=M(b,t);var h=a.filter((function(e){return e.id===t}))[0];n.name=h.title,n.person=h.person,n.counter=h.counter,n.type=h.type,l(n),i(t),s(n.values[0]),r(),c(n),o(n.values[0].name),d(n.values[0].comment),u(n.values[0].section_title?n.values[0].section_title:null),m({type:"and",then:n.values[0].pre_check&&n.values[0].pre_check.then?n.values[0].pre_check.then:null}),console.log("switch checklist get call and set finished")}))},Q=function(e,t,n,l,a,i){(new j).get(e?"#":"http://checklists.metoui.be/api/journey?patient_id="+t.id).then((function(s){console.log("get journey id for the patient id response",s.data.data?s.data.data[0].id:null),console.log("get journey id for the patient id temp",v.filter((function(e){return e.patient_id===t.id}))[0].path_id);var r=e?v.filter((function(e){return e.patient_id===t.id}))[0].path_id:s.data.data[0].id;l(r),console.log("http://checklists.metoui.be/api/journeys/"+r),(new j).get(e?"#":"http://checklists.metoui.be/api/journey/"+r).then((function(l){console.log("get journey corresponding to journey id response",l.data.data?l.data.data.checklists:null),console.log("get journey corresponding to journey id temp",y[r].checklists),e||n(Object(T.a)(Object(T.a)({},t),{},{intervention_name:l.data.data.surgery.denomination}));var s=e?y[r].checklists:l.data.data.checklists;s&&s.length&&(new j).get(e?"#":"http://checklists.metoui.be/api/evaluation?journey_id="+r).then((function(e){if(console.log("get evaluation",e),e.data&&e.data.data&&e.data.data.length){var t,n=Object(V.a)(e.data.data);try{var l=function(){var e=t.value;s.find((function(t){return t.id===e.checklist.id})).fill=!0};for(n.s();!(t=n.n()).done;)l()}catch(i){n.e(i)}finally{n.f()}}a(s)})).catch((function(e){return i(e.message)}))})).catch((function(e){return i(e.message)}))})).catch((function(e){return i(e.message)}))},z=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;(new j).get("http://checklists.metoui.be/api/evaluation?journey_id="+t).then((function(t){if(console.log("evaluation get response",t),e(t.data.data),console.log(a),null!==n){var i,s=0,r=Object(V.a)(t.data.data);try{for(r.s();!(i=r.n()).done;){var c,o=i.value,d=Object(V.a)(o.answers);try{var u=function(){var e=c.value,t=o.checklist.items.filter((function(t){return t.itemId===e.item_id}))[0],l=a.filter((function(e){return t.name.includes(e.name)}));1===e.is_pb?n[t.name]||(n[t.name]={id:s++,question_id:l.length?l[0].itemId:-1,checklist_id:o.checklist.id,checklist_name:o.checklist.title,name:t.name,answer:E(JSON.parse(e.answer))?E(JSON.parse(e.answer)):JSON.parse(e.answer),gravity:0}):n[t.name]&&(n[t.name]=Object(T.a)(Object(T.a)({},n[t.name]),{},{gravity:1}))};for(d.s();!(c=d.n()).done;)u()}catch(m){d.e(m)}finally{d.f()}}}catch(m){r.e(m)}finally{r.f()}l(n)}}))},J=n(0);function W(e){var t=e.props,n=t.creationMode,a=t.setCreationMode,i=(t.creditMode,t.setCreditMode),s=t.setCommentMode,c=t.commentMode,o=t.setDebugMode,d=t.debugMode,u=(t.trimmedCanvasUrl,t.checklistList),m=(t.swapchecklist,t.reset,t.forceUpdate),p=t.import_csv_result,h=(t.result,t.setCurrentQuestion),j=t.checklist,x=t.homeMode,v=t.setHomeMode,y=t.setChecklistList,O=t.setScanValue,f=t.setCurrentPatient,g=t.setUserCode,k=t.setScanValueError,N=t.setCurrentUser,C=t.setUserValidated,w=t.is_local,_=t.currentPatient,A=t.setPathId,I=function(){a(!1),h(j&&j.values.length?j.values[0]:null)},S=function(){n?(I(),B(!0)):(a(!0),v(!1))},B=function(e){i(!1),I(),v(!0),k(null),C(!1),e?(y(null),O(null),f(null),g(null),N(null)):Q(w,_,f,A,y)},E=Object(l.useState)(!1),D=Object(r.a)(E,2),q=D[0],F=D[1],G=function(){T([]),z(null),F(!1)},M=Object(l.useState)([]),P=Object(r.a)(M,2),V=P[0],T=P[1],U=Object(l.useState)(""),K=Object(r.a)(U,2),H=K[0],z=K[1];return Object(J.jsx)("div",{className:"iq-top-navbar h-auto border",children:Object(J.jsx)("div",{className:"iq-navbar-custom py-2",children:Object(J.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light p-0 ",children:[Object(J.jsx)("div",{className:"navbar-brand pl-4 custom-logo",children:Object(J.jsx)("a",{href:"#",onClick:function(){return B(!0)},children:Object(J.jsx)("span",{children:Object(J.jsx)("img",{className:"w-100",src:"my-app/photos/logo_dynalist_v2.png"})})})}),Object(J.jsx)("button",{className:"navbar-toggler p-0","data-toggle":"collapse","data-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(J.jsx)("span",{className:"navbar-toggler-icon"})}),Object(J.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNavAltMarkup",children:Object(J.jsxs)("div",{className:"navbar-nav  p-2 pl-2",children:[u?Object(J.jsx)("label",{className:"nav-link m-0 my-auto","data-toggle":"collapse","data-target":".navbar-collapse.show",onClick:function(){return B(!0)},children:"Revenir \xe0 l'accueil"}):null,n||!u||x?null:Object(J.jsx)("label",{className:"nav-link m-0 my-auto","data-toggle":"collapse","data-target":".navbar-collapse.show",onClick:function(){return B(!1)},children:"Revenir \xe0 la s\xe9lection des checklists"}),u&&!x?Object(J.jsx)("label",{className:"nav-link m-0 my-auto","data-toggle":"collapse","data-target":".navbar-collapse.show",onClick:p,children:"Importer les r\xe9sultats de la checklist"}):null,n?null:Object(J.jsx)("label",{className:"nav-link m-0 my-auto","data-toggle":"collapse","data-target":".navbar-collapse.show",onClick:function(){return S()},children:"Activer Mode Cr\xe9ation"}),n?Object(J.jsx)("label",{className:"nav-link m-0 my-auto","data-toggle":"collapse","data-target":".navbar-collapse.show",onClick:function(){return S()},children:"D\xe9sactiver Mode Cr\xe9ation"}):null,Object(J.jsxs)("li",{className:"nav-item dropdown my-auto",children:[Object(J.jsx)("label",{className:"nav-link dropdown-toggle m-0",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-expanded":"false",children:"Options"}),Object(J.jsxs)("ul",{className:"dropdown-menu","aria-labelledby":"navbarDropdown",children:[Object(J.jsx)("li",{children:Object(J.jsxs)("label",{className:"dropdown-item m-0","data-toggle":"collapse","data-target":".navbar-collapse.show",children:[Object(J.jsx)("input",{type:"checkbox",checked:!d,onClick:function(){o(!d)}}),"\xa0 Activer le dynamisme"]})}),Object(J.jsx)("li",{children:Object(J.jsxs)("label",{className:"dropdown-item m-0","data-toggle":"collapse","data-target":".navbar-collapse.show",children:[Object(J.jsx)("input",{type:"checkbox",checked:c,onClick:function(){s(!c)}}),"\xa0 Activer les commentaires"]})})]})]}),Object(J.jsx)("label",{className:"nav-link m-0 my-auto","data-toggle":"collapse","data-target":".navbar-collapse.show",onClick:function(){i(!0)},children:"A propos"}),Object(J.jsx)("div",{className:"nav-link m-0",children:Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(L.a,{variant:"warning",onClick:function(){return F(!0)},children:"Signaler \xe9v\xe8nement"}),Object(J.jsxs)(R.a,{show:q,onHide:G,children:[Object(J.jsx)(R.a.Header,{className:"",closeButton:!0,variant:"white",children:Object(J.jsx)(R.a.Title,{className:"text-dark",children:"Signalement d'\xe9v\xe8nements ind\xe9sirables"})}),Object(J.jsxs)(R.a.Body,{children:["Type de probl\xe8me",Object(J.jsx)("div",{className:"",children:function e(t,n){return console.log(t),t?Object(J.jsxs)("div",{children:[Object(J.jsxs)("div",{className:"row my-2",children:[Object(J.jsxs)("div",{className:"col-sm-6 dropdown text-center m-0 my-2",children:[Object(J.jsx)("button",{className:"btn btn-primary dropdown-toggle  ",type:"button",id:"dropdownMenuButton"+n,"data-toggle":"dropdown","aria-expanded":"false",children:"S\xe9lectionnez le probl\xe8me"}),Object(J.jsx)("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton"+n,children:Object.keys(t).map((function(e,t){return Object(J.jsx)("li",{children:Object(J.jsx)("label",{className:"dropdown-item ",onClick:function(){return function(e,t){console.log("index",t),V.splice(t),V.push(e),console.log(V),T(V),m()}(e,n)},children:e})},t)}))})]}),V&&V[n]?Object(J.jsx)("div",{className:"col-sm-5 iq-card iq-bg-secondary w-100 text-center my-auto border shadow-sm ",children:V[n]}):null]}),e(t[V[n]],n+1)]}):null}({Patient:{"Arriv\xe9e Tardive":null,"Mauvaise Pr\xe9paration":{"Proth\xe8ses en place":null,"Bijoux, piercings, .. en place":null,"N'a pas urin\xe9":null,"Pr\xe9paration cutan\xe9e incorrecte":null}},Brancardage:{"Patient pas pr\xeat":null},Dossier:{"Pas de consentement":null,"Pas de prenarcose":null}},0)}),"Description du probl\xe8me",Object(J.jsx)("textarea",{className:"form-control form-control-custom textarea",rows:"4",value:H,onChange:function(e){return z(e.target.value)}})]}),Object(J.jsxs)(R.a.Footer,{className:"",children:[Object(J.jsx)(L.a,{variant:"secondary",onClick:G,children:"Fermer"}),Object(J.jsx)(L.a,{variant:"primary",onClick:function(){F(!1),T(null),z(null),b.a.post("#",{name:V,description:H}).then((function(e){}))},children:"Sauvegarder"})]})]})]})})]})})]})})})}var X=n(12),Z=n.n(X);function Y(e){var t=e.props,n=t.checklist,a=t.setChecklist,i=t.checklistList,s=t.setChecklistList,c=t.checklistId,o=t.setChecklistId,d=t.forceUpdate,u=t.currentQuestion,m=t.setCurrentQuestion,p=t.reset,h=t.is_local,x=Object(l.useState)(null),v=Object(r.a)(x,2),O=v[0],f=v[1],g=Object(l.useState)(null),k=Object(r.a)(g,2),N=k[0],A=k[1],S=Object(l.useState)(null),q=Object(r.a)(S,2),G=q[0],M=q[1],P=Object(l.useState)(null),R=Object(r.a)(P,2),L=R[0],U=R[1],K=Object(l.useState)({}),Q=Object(r.a)(K,2),z=Q[0],W=Q[1],X=Object(l.useState)(null),Y=Object(r.a)(X,2),$=Y[0],ee=Y[1],te=Object(l.useState)(0),ne=Object(r.a)(te,2),le=ne[0],ae=ne[1],ie=Object(l.useState)(!1),se=Object(r.a)(ie,2),re=se[0],ce=se[1],oe=function(e,t){H(h,t,n,a,e,o,m,p,f,A,M,U,ee)};Object(l.useEffect)((function(){!function(e,t,n,l,a,i,s,r,c,o,d,u){(new j).get(e?"#":"http://checklists.metoui.be/api/checklist").then((function(m){console.log(m);var p=e?y[1].checklists:m.data,b=p[0].id;p&&p.length&&(u(p,p),H(e,b,t,n,p,l,a,i,s,r,c,o,d))}))}(h,n,a,o,m,p,f,A,M,U,ee,s)}),[]),console.log("main",u),console.log("name",N);var de=[];n&&function e(t){t.id>0&&de.push(t.id);var n,l=Object(V.a)(t.values);try{for(l.s();!(n=l.n()).done;){e(n.value)}}catch(a){l.e(a)}finally{l.f()}}(n);var ue=[],me=[],pe=[];u&&(ue=[],_.forEach((function(e){["text","list"].includes(e)?pe.push({labelKey:e,value:E(e)}):(ue.push({labelKey:e,value:E(e),isSelected:u.check.includes(e)}),me.push({labelKey:e,value:E(e)}))})));var be=[];u&&(be=[],I.forEach((function(e){be.push({labelKey:e,value:D(e)})})));var he=JSON.parse(JSON.stringify(be));u&&de.forEach((function(e){he.push({labelKey:e,value:"Question "+e})}));var je=[];u&&(je=[],B.forEach((function(e){je.push({labelKey:e,value:e})})));var xe=[];u&&(xe=[],u.check.forEach((function(e){xe.push({labelKey:e,value:E(e)})})));var ve=[];function ye(e,t,n){if(e.id===n)return console.log("found",e),O=t,m(u=e),f(O),A(u.name),W({}),ee({}),M(u.comment),U(u.section_title),ae(!le),ce(!1),u;var l,a=null,i=Object(V.a)(e.values);try{for(i.s();!(l=i.n()).done;){a=ye(l.value,e,n)||a}}catch(s){i.e(s)}finally{i.f()}return a}function Oe(){O&&(O.values=O.values.filter((function(e){return e.id!==u.id})),function(e){console.log("reinit",e),m(e&&e.values.length?e.values[0]:null),f(e),A(e&&e.values.length?e.values[0].name:""),M(e&&e.values.length?e.values[0].comment:""),U(e&&e.values[0].section_title?e.values[0].section_title:null),W({}),ee({type:"and",then:e.values[0].pre_check&&e.values[0].pre_check.then?e.values[0].pre_check.then:null}),ce(!1)}(n),d())}function fe(e,t){return e.id===t||e.values.length&&e.values.every((function(e){return fe(e)}))}function ge(e){if(!fe(u,e)){var t=Object(T.a)({},u);t.cond={yes:[],no:[],num:[]},Oe(),ye(n,null,e),u.values.splice(0,0,t),ye(n,null,t.id),d()}}u&&Object.keys(C).forEach((function(e){ve.push({labelKey:e,value:w[e]})}));var ke=function(e){if(e.selectedKey.length)if(e.selectedKey.includes("list")||e.selectedKey.includes("text"))"list"===e.selectedKey[0]?u.check=["list_meds"]:u.check=e.selectedKey;else{u.check=e.selectedKey;var t=u.color;u.check.length>=t.length&&(t=t.concat(new Array(u.check.length-t.length).fill(2))),u.color=t}else u.check=[];m(u),_e(),d()},Ne=function(){var e=i.length?c:0,t={id:c,data:F(n).slice(1)};console.log(t),function(e,t,n,l){(new j).put("http://checklists.metoui.be/api/checklists/"+n,l).then((function(l){console.log("put checklist"),e(t,n),console.log("add checklist get call and set finished")}))}(oe,i,e,t)},Ce=function(e){z||(z={}),z.var&&["diabetic","difficult_intubation","gender"].includes(z.var)?z.val=e.selectedKey[0]:z.val=e.target.value,W(z),d()},we=function(e){$.var&&!["age","yearofbirth"].includes($.var)?$.val=e.selectedKey[0]:$.val=e.target.value,ee($),d()},_e=function(){le=(le+1)%4};return console.log(u),console.log(N),Object(J.jsx)("div",{children:n&&$?Object(J.jsxs)("div",{className:"container iq-card bg-white pt-2 mt-4 mb-4 border shadow-sm",children:[Object(J.jsx)("div",{className:"iq-card bg-white text-center border border-dark mb-2",children:Object(J.jsxs)("div",{className:"card-body col-sm-6 mx-auto my-2 ",children:[Object(J.jsx)("h4",{className:"card-title text-dark",children:"Mode Cr\xe9ation "}),Object(J.jsx)("p",{className:"card-text text-primary  m-0",children:"Vous pouvez ajouter, supprimer, modifier des checklists et des questions ici."}),Object(J.jsx)("p",{className:"card-text text-primary ",children:"La checklist modifi\xe9e s'affiche en dessous."})]})}),Object(J.jsxs)("div",{className:"row align-items-center p-0 m-0 pb-2 border-bottom border-",children:[Object(J.jsx)("div",{className:"col align-items-center ",children:Object(J.jsxs)("div",{className:"dropright text-center",children:[Object(J.jsx)("button",{className:"btn btn-info dropdown-toggle ",type:"button",id:"dropdownMenuButton1","data-toggle":"dropdown","aria-expanded":"false",children:"S\xe9lectionnez la checklist"}),Object(J.jsxs)("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:[Object(J.jsx)("li",{children:Object(J.jsx)("label",{className:"dropdown-item ",onClick:function(e){!function(){var e=i.length?i[i.length-1].id+1:0;b.a.post("http://checklists.metoui.be/api/checklists",{name:"Nouvelle Checklist",data:[[1,'"Question vide"',-1,0,null,null,'{"yes":[],"no":[],"num":[]}','["yes","no"]',"[0,1]",null,0]]}).then((function(t){oe(i,e),console.log("add checklist get call and set finished")}))}(),d()},children:"Nouvelle checklist"})}),i.map((function(e,t){return Object(J.jsx)("li",{children:Object(J.jsxs)("label",{className:"dropdown-item ",onClick:function(){oe(i,e.id)},children:["Checklist ",e.name]})},t)}))]})]})}),Object(J.jsx)("div",{className:"col align-items-center p-2",children:Object(J.jsxs)("div",{className:"iq-card card-light text-dark text-center shadow-sm mb-0 ",children:["Checklist ",n.name]})}),Object(J.jsx)("div",{className:"col align-items-center p-2",children:Object(J.jsxs)("div",{className:"iq-card card-light text-dark text-center shadow-sm mb-0",children:["Question n\xb0",u?u.id:" -"]})}),Object(J.jsx)("div",{className:"col align-items-center ",children:Object(J.jsxs)("div",{className:"dropleft text-center",children:[Object(J.jsx)("button",{className:"btn btn-info dropdown-toggle  ",type:"button",id:"dropdownMenuButton1","data-toggle":"dropdown","aria-expanded":"false",children:"S\xe9lectionnez la question"}),Object(J.jsxs)("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:[Object(J.jsx)("li",{children:Object(J.jsx)("label",{className:"dropdown-item ",onClick:function(e){!function(){var e=de.length?de.length:0,t={id:e+1,name:"",cond:{yes:[],no:[],num:[]},check:["yes","no"],color:[0,1],values:[]};n.values.push(t),ye(n,null,e+1)}(),d()},children:"Nouvelle question"})}),de.map((function(e,t){return Object(J.jsx)("li",{children:Object(J.jsxs)("label",{className:"dropdown-item ",onClick:function(){ye(n,null,e)},children:["Question n\xb0",e]})},t)}))]})]})})]}),u?Object(J.jsxs)("div",{children:[Object(J.jsxs)("div",{className:"row align-items-center p-2 m-0 border-bottom",children:[Object(J.jsx)("div",{className:"col-sm-4 align-items-center text-dark ",children:"Nom de la checklist :"}),Object(J.jsx)("div",{className:"col-sm-8 align-items-center",children:Object(J.jsx)("input",{className:"form-control w-100 mb-0",type:"text ","aria-label":"text input",value:n.name,onChange:function(e){a(Object(T.a)(Object(T.a)({},n),{},{name:e.target.value}))}},c)})]}),Object(J.jsxs)("div",{className:"row align-items-center p-2 m-0 border-bottom border-dark",children:[Object(J.jsx)("div",{className:"col-sm-4 align-items-center text-dark ",children:"Description de la checklist :"}),Object(J.jsx)("div",{className:"col-sm-8 align-items-center",children:Object(J.jsx)("textarea",{className:"form-control form-control-custom textarea",rows:"2",value:n.description?n.description:"",onChange:function(e){a(Object(T.a)(Object(T.a)({},n),{},{description:e.target.value}))}})})]}),Object(J.jsxs)("div",{className:"row align-items-center p-2 m-0 border-bottom",children:[Object(J.jsx)("div",{className:"col-sm-4 align-items-center text-dark ",children:"Nom de la question :"}),Object(J.jsx)("div",{className:"col-sm-4 align-items-center",children:Object(J.jsx)("input",{className:"form-control w-100 mb-0",type:"text ","aria-label":"text input",value:N,onChange:function(e){N=e.target.value,A(N)}},c)}),Object(J.jsx)("div",{className:"col-sm-4 align-items-center p-0 text-center ",children:Object(J.jsx)("button",{className:"btn btn-warning ",onClick:function(){return u.name=N,m(u),void d()},children:"Valider le nom"})})]}),Object(J.jsxs)("div",{className:"row align-items-center p-2 m-0 border-bottom",children:[Object(J.jsx)("div",{className:"col-sm-4 align-items-center text-dark  ",children:"Commentaire (optionnel) de la question :"}),Object(J.jsx)("div",{className:"col-sm-4 align-items-center ",children:Object(J.jsx)("textarea",{className:"form-control form-control-custom textarea",id:"exampleFormControlTextarea1",rows:"2",value:G||"",onChange:function(e){G=e.target.value,M(G)}})}),Object(J.jsx)("div",{className:"col-sm-4 align-items-center p-0 text-center",children:Object(J.jsx)("button",{className:"btn btn-warning ",onClick:function(e){G?u.comment=G:delete u.comment,d(),d()},children:"Valider le commentaire"})})]}),-1===O.id?Object(J.jsxs)("div",{className:"row align-items-center p-2 m-0 border-bottom",children:[Object(J.jsx)("div",{className:"col-sm-4 align-items-center text-dark  ",children:"Nom de section (optionnel) devant la question :"}),Object(J.jsx)("div",{className:"col-sm-4 align-items-center ",children:Object(J.jsx)("textarea",{className:"form-control form-control-custom textarea",id:"exampleFormControlTextarea1",rows:"2",value:L||"",onChange:function(e){L=e.target.value,U(L)}})}),Object(J.jsx)("div",{className:"col-sm-4 align-items-center p-0 text-center",children:Object(J.jsx)("button",{className:"btn btn-warning ",onClick:function(e){L?u.section_title=L:delete u.section_title,d(),d()},children:"Valider le titre"})})]}):null,Object(J.jsxs)("div",{className:"row align-items-center p-2 m-0 border-bottom",children:[Object(J.jsx)("div",{className:"col-sm-4 align-items-center text-dark",children:"Placer la question \xe0 la suite d'une autre :"}),Object(J.jsx)("div",{className:"col-sm-4 align-items-center"}),Object(J.jsx)("div",{className:"col-sm-4 align-items-center p-0 text-center",children:Object(J.jsxs)("div",{className:"dropleft text-center",children:[Object(J.jsx)("button",{className:"btn btn-warning dropdown-toggle ",type:"button",id:"dropdownMenuButton1","data-toggle":"dropdown","aria-expanded":"false",children:"Quelle question ?"}),Object(J.jsxs)("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:[Object(J.jsx)("li",{children:Object(J.jsx)("label",{className:"dropdown-item ",onClick:function(){return ge(-1)},children:"Au d\xe9but"})}),de.map((function(e,t){return Object(J.jsx)("li",{children:Object(J.jsxs)("label",{className:"dropdown-item ",onClick:function(){return function(e){if(!fe(u,e)){var t=Object(T.a)({},u);Oe(),ye(n,null,e);var l=O.values.findIndex((function(t){return t.id===e}));t.cond={yes:[],no:[],num:[]},O.values.splice(l+1,0,t),ye(n,null,t.id),d()}}(e)},children:["Question n\xb0",e]})},t)}))]})]})})]}),Object(J.jsxs)("div",{className:"row align-items-center p-2 m-0 border-bottom",children:[Object(J.jsx)("div",{className:"col-sm-4 align-items-center text-dark ",children:"Placer la question comme d\xe9coulant d'une autre :"}),Object(J.jsx)("div",{className:"col-sm-4 align-items-center"}),Object(J.jsx)("div",{className:"col-sm-4 align-items-center p-0 text-center",children:Object(J.jsxs)("div",{className:"dropleft text-center",children:[Object(J.jsx)("button",{className:"btn btn-warning dropdown-toggle ",type:"button",id:"dropdownMenuButton1","data-toggle":"dropdown","aria-expanded":"false",children:"Quelle question ?"}),Object(J.jsxs)("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:[Object(J.jsx)("li",{children:Object(J.jsx)("label",{className:"dropdown-item ",onClick:function(){return ge(-1)},children:"Au d\xe9but"})}),de.map((function(e,t){return Object(J.jsx)("li",{children:Object(J.jsxs)("label",{className:"dropdown-item ",onClick:function(){return ge(e)},children:["Question n\xb0",e]})},t)}))]})]})})]}),Object(J.jsxs)("div",{className:"row align-items-center p-2 m-0 border-bottom",children:[Object(J.jsx)("div",{className:"col-sm-4 align-items-center text-dark ",children:"Quelles r\xe9ponses possibles ? :"}),Object(J.jsx)("div",{className:"col-sm-4 align-items-center"}),Object(J.jsx)("div",{className:"col-sm-4 align-items-center p-0 text-center",children:Object(J.jsxs)("div",{className:"row",children:[re?Object(J.jsx)(Z.a,{className:" col w-100 my-auto ",selectStyle:"btn-warning",options:pe,isMultiSelect:!1,placeholder:"Entrer Autres",onChange:ke},!le):Object(J.jsx)(Z.a,{className:" col w-100 my-auto ",selectStyle:"btn-warning",options:ue,isMultiSelect:!0,placeholder:"Entrer checkboxs",onChange:ke},le),Object(J.jsx)("button",{className:"col-sm-2 btn btn-outline-info",onClick:function(){ce(!re)},children:Object(J.jsx)("div",{"data-icon":"\ue049",className:"icon mt-1"})})]})})]}),u.check[0]&&"list"===u.check[0].split("_")[0]?Object(J.jsxs)("div",{className:"row align-items-center p-2 m-0 border-bottom",children:[Object(J.jsx)("div",{className:"col-sm-4 align-items-center text-dark ",children:"Quelle liste ? :"}),Object(J.jsx)("div",{className:"col-sm-4 align-items-center"}),Object(J.jsx)("div",{className:"col-sm-4 align-items-center p-0 text-center",children:Object(J.jsx)("div",{className:"row",children:Object(J.jsx)(Z.a,{className:" col w-100 my-auto ",selectStyle:"btn-warning",options:ve,isMultiSelect:!1,placeholder:"Aucune",onChange:function(e){e.selectedKey.length&&(u.check=[u.check[0].split("_")[0]+"_"+e.selectedKey[0]],console.log(u.check),m(u),d())}},le)})})]}):null,re?null:Object(J.jsxs)("div",{className:"border-bottom m-0 py-2 text-center",children:[Object(J.jsxs)("button",{className:"btn btn-secondary m-auto p-2 my-2 ",type:"button","data-toggle":"collapse","data-target":"#collapseColors","aria-expanded":"false","aria-controls":"collapseExample",children:[Object(J.jsx)("i",{className:"las la-angle-down"})," Modifier les couleurs des questions ",Object(J.jsx)("i",{className:"las la-angle-down"})]}),Object(J.jsx)("div",{className:"collapse m-0 p-0",id:"collapseColors",children:Object(J.jsxs)("div",{className:"row align-items-center p-2 m-0 border-bottom",children:[Object(J.jsx)("div",{className:"col-sm-3 align-items-center text-dark ",children:"Avec quelles couleurs ? :"}),Object(J.jsx)("div",{className:"col-sm-9 align-items-center text-center",children:u.check.map((function(e,t){return Object(J.jsxs)("div",{className:"row",children:[Object(J.jsx)("div",{className:"col text-center justify-content-center my-4",children:Object(J.jsx)("div",{className:" iq-card card-grey text-center shadow-sm text-dark m-0",children:E(e)})}),Object(J.jsx)("div",{className:"col text-center justify-content-center my-4",children:Object(J.jsx)("div",{className:" iq-card card-grey text-center shadow-sm text-dark m-0",children:0===u.color[t]?"Vert":1===u.color[t]?"Rouge":"Gris"})}),Object(J.jsx)("div",{className:"col text-center justify-content-center my-3",children:Object(J.jsxs)("div",{className:"dropleft text-center",children:[Object(J.jsx)("button",{className:"btn btn-warning dropdown-toggle m-0 ",type:"button",id:"dropdownMenuButton1","data-toggle":"dropdown","aria-expanded":"false",children:"Quelle couleur ?"}),Object(J.jsx)("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:["Vert","Rouge","Gris"].map((function(t,n){return Object(J.jsx)("li",{children:Object(J.jsx)("label",{className:"dropdown-item ",onClick:function(){return function(e,t){u.color[u.check.indexOf(e)]=t,m(u),d()}(e,n)},children:t})},n)}))})]})})]},t)}))})]})})]}),Object(J.jsxs)("div",{className:"border-bottom m-0 py-2 text-center",children:[Object(J.jsxs)("button",{className:"btn btn-secondary m-auto p-2 my-2 ",type:"button","data-toggle":"collapse","data-target":"#collapseQuestionConditions","aria-expanded":"false","aria-controls":"collapseExample",children:[Object(J.jsx)("i",{className:"las la-angle-down"})," Ajouter/Supprimer des conditions sur les autres questions ",Object(J.jsx)("i",{className:"las la-angle-down"})]}),Object(J.jsx)("div",{className:"collapse m-0 p-0",id:"collapseQuestionConditions",children:Object(J.jsxs)("div",{className:"row align-items-center p-2 m-0",children:[Object(J.jsx)("div",{className:"col-sm-3 align-items-center text-dark ",children:"Quelles conditions sur les r\xe9ponses ? :"}),Object(J.jsx)("div",{className:"col-sm-9 align-items-center",children:_.map((function(e,t){return Object(J.jsxs)("div",{className:"row",children:[Object(J.jsx)("div",{className:"col align-items-center p-2 my-auto",children:Object(J.jsx)("div",{className:"iq-card card-grey text-center shadow-sm m-0 text-dark ",children:E(e)})}),Object(J.jsx)("div",{className:"col align-items-center p-2",children:Object(J.jsx)("div",{className:"list-group list-group-horizontal m-0",children:u&&u.cond[e]?u.cond[e].map((function(t,n){return Object(J.jsxs)("button",{className:" list-group-item list-group-item-custom btn btn-outline-secondary ",type:"button",onClick:function(){return function(e,t){u.cond[e]=u.cond[e].filter((function(e){return e!==t})),console.log(u),m(u),d()}(e,t)},children:[t," "]},n)})):null})}),Object(J.jsx)("div",{className:"col align-items-center p-2 my-auto",children:Object(J.jsxs)("div",{className:"dropleft text-center",children:[Object(J.jsx)("button",{className:"btn btn-warning dropdown-toggle ",type:"button",id:"dropdownMenuButton1","data-toggle":"dropdown","aria-expanded":"false",children:"Quelle question ?"}),Object(J.jsx)("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:de.map((function(t,n){return Object(J.jsx)("li",{children:Object(J.jsxs)("label",{className:"dropdown-item ",onClick:function(){return function(e,t){u.cond[e]?u.cond[e].push(t):u.cond[e]=[t],m(u),d()}(e,t)},children:["Question n\xb0",t]})},n)}))})]})})]},t)}))})]})})]}),Object(J.jsxs)("div",{className:"border-bottom m-0 py-2 text-center",children:[Object(J.jsxs)("button",{className:"btn btn-secondary m-auto p-2 my-2 ",type:"button","data-toggle":"collapse","data-target":"#collapseNumConditions","aria-expanded":"false","aria-controls":"collapseExample",children:[Object(J.jsx)("i",{className:"las la-angle-down"})," Ajouter/Supprimer des conditions num\xe9riques ",Object(J.jsx)("i",{className:"las la-angle-down"})]}),Object(J.jsx)("div",{className:"collapse m-0 p-0",id:"collapseNumConditions",children:Object(J.jsxs)("div",{className:"col align-items-center p-2 m-0",children:[u&&u.cond.num?u.cond.num.map((function(e,t){return Object(J.jsxs)("div",{className:"row justify-content-md-center py-2",children:[Object(J.jsx)("div",{className:"col-sm-3 align-items-center my-auto",children:Object(J.jsx)("div",{className:"iq-card card-grey shadow-sm text-center m-0 text-dark ",children:D(e.var)})}),Object(J.jsx)("div",{className:"col-sm-3 align-items-center my-auto ",children:Object(J.jsx)("div",{className:"iq-card card-grey shadow-sm text-center m-0 text-dark ",children:e.op})}),Object(J.jsx)("div",{className:"col-sm-3 align-items-center my-auto ",children:Object(J.jsx)("div",{className:"iq-card card-grey shadow-sm text-center m-0 text-dark",children:e.val})}),Object(J.jsx)("div",{className:"col-sm-3 align-items-center my-auto text-center",children:Object(J.jsx)("button",{className:"btn btn-danger ",onClick:function(){return function(e){console.log("supprimer",e),u.cond.num.splice(e,1),console.log(u.cond.num),m(u),d()}(t)},children:Object(J.jsx)("div",{"data-icon":"\ue053",className:"icon mt-1"})})})]},t)})):null,Object(J.jsx)("div",{children:Object(J.jsxs)("div",{className:"row justify-content-md-center py-2",children:[Object(J.jsx)("div",{className:"col-sm-3 align-items-center my-auto",children:Object(J.jsx)(Z.a,{className:"w-100 ",selectStyle:"btn border",placeholder:"Quelle variable ?",options:be,onChange:function(e){z||(z={}),(z={}).var=e.selectedKey[0],W(z),d()}},le)}),Object(J.jsx)("div",{className:"col-sm-3 align-items-center my-auto",children:["diabetic","difficult_intubation","gender"].includes(z.var)?Object(J.jsx)("div",{children:"est"}):Object(J.jsx)(Z.a,{className:"w-100 ",selectStyle:"btn border",placeholder:"Quel op\xe9rateur ?",options:je,onChange:function(e){z||(z={}),z.op=e.selectedKey[0],W(z),d()}},le)}),Object(J.jsx)("div",{className:"col-sm-3 align-items-center my-auto ",children:["diabetic","difficult_intubation"].includes(z.var)?Object(J.jsx)(Z.a,{className:"w-100 ",selectStyle:"btn border",placeholder:"Quelle valeur ?",options:[{labelKey:"vrai",value:"Vrai"},{labelKey:"faux",value:"Faux"}],onChange:Ce},z.var):Object(J.jsxs)("div",{children:[" ","gender"===z.var?Object(J.jsx)(Z.a,{className:"w-100 ",selectStyle:"btn border",placeholder:"Quelle valeur ?",options:[{labelKey:"F",value:"F"},{labelKey:"M",value:"M"}],onChange:Ce},z.var):Object(J.jsx)("input",{type:"number",className:"form-control ",placeholder:"Quelle valeur ?",onChange:Ce})," "]})}),Object(J.jsx)("div",{className:"col-sm-3 align-items-center text-center my-auto",children:Object(J.jsx)("button",{className:"btn btn-warning w-100 ",onClick:function(){z.var&&z.val&&["diabetic","difficult_intubation","gender"].includes(z.var)?(u.cond.num.push({var:z.var,op:"est",val:z.val}),m(u),d()):z.var&&z.op&&z.val&&(u.cond.num.push({var:z.var,op:z.op,val:z.val}),m(u),d())},children:"Valider"})})]})})]})})]}),Object(J.jsxs)("div",{className:"border-bottom m-0 py-2 text-center",children:[Object(J.jsxs)("button",{className:"btn btn-secondary m-auto p-2 my-2 ",type:"button","data-toggle":"collapse","data-target":"#collapsePreCheck","aria-expanded":"false","aria-controls":"collapseExample",children:[Object(J.jsx)("i",{className:"las la-angle-down"})," Ajouter/Supprimer des conditions pour que la question soit pr\xe9-check\xe9e ",Object(J.jsx)("i",{className:"las la-angle-down"})]}),Object(J.jsx)("div",{className:"collapse m-0 p-0",id:"collapsePreCheck",children:Object(J.jsxs)("div",{className:"col align-items-center p-2 m-0",children:[u&&u.pre_check?u.pre_check.if.map((function(e,t){return Object(J.jsxs)("div",{children:[t?Object(J.jsx)("div",{className:"mx-auto w-50 border-top border-bottom border-light",children:"et"}):Object(J.jsx)("div",{className:"mx-auto w-50 border-top border-light"}),e.map((function(e,n){return Object(J.jsxs)("div",{children:[n?Object(J.jsx)("div",{children:"ou"}):null,Object(J.jsxs)("div",{className:"row justify-content-md-center py-2",children:[Object(J.jsx)("div",{className:"col-sm-3 align-items-center my-auto",children:Object(J.jsx)("div",{className:"iq-card card-grey shadow-sm text-center m-0 text-dark ",children:I.includes(e.var)?D(e.var):"Question "+e.var})}),Object(J.jsx)("div",{className:"col-sm-3 align-items-center my-auto ",children:Object(J.jsx)("div",{className:"iq-card card-grey shadow-sm text-center m-0 text-dark",children:e.op?e.op:"est"})}),Object(J.jsx)("div",{className:"col-sm-3 align-items-center my-auto ",children:Object(J.jsx)("div",{className:"iq-card card-grey shadow-sm text-center m-0 text-dark",children:I.includes(e.var)?e.val:E(e.val)})}),Object(J.jsx)("div",{className:"col-sm-3 align-items-center my-auto text-center",children:Object(J.jsx)("button",{className:"btn btn-danger ",onClick:function(){return function(e,t){u.pre_check.if[e].splice(t,1),u.pre_check.if[e].length||u.pre_check.if.splice(e,1),u.pre_check.if.length||(u.pre_check=null),m(u),d()}(t,n)},children:Object(J.jsx)("div",{"data-icon":"\ue053",className:"icon mt-1"})})})]},t)]})}))]})})):null,u&&u.pre_check?Object(J.jsx)("div",{className:"row mx-auto w-50 justify-content-md-center py-2 border-top",children:Object(J.jsx)("div",{className:"col-sm-2 align-items-center my-auto",children:Object(J.jsx)("div",{className:"iq-card card-grey shadow-sm text-center m-0 text-dark",children:E(u.pre_check.then)})})}):null,Object(J.jsx)("div",{children:Object(J.jsxs)("div",{children:[Object(J.jsxs)("div",{className:"row justify-content-md-center py-2",children:[Object(J.jsx)("div",{className:"col-sm-3 align-items-center my-auto",children:Object(J.jsx)(Z.a,{className:"w-100 ",selectStyle:"btn border",placeholder:"Et/Ou",options:[{labelKey:"and",value:"Et",isSelected:!0},{labelKey:"or",value:"Ou"}],onChange:function(e){e.selectedKey[0]&&($.type=e.selectedKey[0]),ee($),d()}},le)}),Object(J.jsx)("div",{className:"col-sm-3 align-items-center my-auto",children:Object(J.jsx)(Z.a,{className:"w-100 ",selectStyle:"btn border",placeholder:"Quelle variable ?",options:he,onChange:function(e){($={type:$.type,then:u.pre_check&&u.pre_check.then?u.pre_check.then:null}).var=e.selectedKey[0],ee($),d()}},le)}),Object(J.jsx)("div",{className:"col-sm-3 align-items-center my-auto ",children:["age","yearofbirth"].includes($.var)?Object(J.jsx)(Z.a,{className:"w-100 ",selectStyle:"btn border",placeholder:"Quel op\xe9rateur ?",options:je,onChange:function(e){$.op=e.selectedKey[0],ee($),d()}},$.var):Object(J.jsx)("div",{children:"est"})}),Object(J.jsx)("div",{className:"col-sm-3 align-items-center my-auto",children:["diabetic","difficult_intubation"].includes($.var)?Object(J.jsx)(Z.a,{className:"w-100 ",selectStyle:"btn border",placeholder:"Quelle valeur ?",options:[{labelKey:"vrai",value:"Vrai"},{labelKey:"faux",value:"Faux"}],onChange:we},$.var):Object(J.jsxs)("div",{children:[" ","gender"===$.var?Object(J.jsx)(Z.a,{className:"w-100 ",selectStyle:"btn border",placeholder:"Quelle valeur ?",options:[{labelKey:"F",value:"F"},{labelKey:"M",value:"M"}],onChange:we},$.var):Object(J.jsxs)("div",{children:[" ",Number.isInteger($.var)?Object(J.jsx)(Z.a,{className:"w-100 ",selectStyle:"btn border",placeholder:"Quelle valeur ?",options:me,onChange:we},$.var):Object(J.jsx)("input",{type:"number",className:"form-control ",placeholder:"Quelle valeur ?",onChange:we},$.var)]})]})})]}),Object(J.jsxs)("div",{className:"row justify-content-md-center py-2",children:[Object(J.jsx)("div",{className:"col-sm-3 align-items-center my-auto ",children:Object(J.jsx)(Z.a,{className:"w-100 ",selectStyle:"btn border",placeholder:"Quel pre-check ?",options:xe,onChange:function(e){e.selectedKey[0]&&($.then=e.selectedKey[0]),ee($),d()}},$.var+u.check.length)}),Object(J.jsx)("div",{className:"col-sm-3 align-items-center ",children:Object(J.jsx)("button",{className:"btn btn-warning w-100  ",onClick:function(){u.pre_check&&(u.pre_check.then=$.then,m(u),d())},children:"Modifier le precheck"})}),Object(J.jsx)("div",{className:"col-sm-3 align-items-center text-center my-auto",children:Object(J.jsx)("button",{className:"btn btn-warning w-100  ",onClick:function(){return console.log($),void($.var&&$.val&&$.then&&(!["age","yearofbirth"].includes($.var)||$.op)&&(u.pre_check||(u.pre_check={if:[],then:null}),u.pre_check.then=$.then,$.op||(I.includes($.var)?$.op="est":$.op=null),"and"!==$.type&&u.pre_check.if.length?"or"===$.type&&(console.log(u.pre_check.if.length),u.pre_check.if[u.pre_check.if.length-1].push({var:$.var,val:$.val,op:$.op})):u.pre_check.if.push([{var:$.var,val:$.val,op:$.op}]),m(u),d()))},children:"Valider"})})]})]})})]})})]})]},u.id):null,Object(J.jsxs)("div",{className:"row align-items-center p-2 m-0",children:[Object(J.jsx)("div",{className:"col-sm-4 align-items-center text-center",children:Object(J.jsx)("button",{className:"btn btn-danger  ",onClick:function(){var e=i.length?i[0].id:0;b.a.delete("http://checklists.metoui.be/api/checklists/"+c).then((function(t){oe(i,e),console.log("remove checklist get call and set finished")}))},children:"Supprimer la checklist"})}),Object(J.jsx)("div",{className:"col-sm-4 align-items-center text-center",children:Object(J.jsx)("button",{className:"btn btn-warning  ",onClick:function(){return Ne()},children:"Sauvegarder la checklist"})}),Object(J.jsx)("div",{className:"col-sm-4 align-items-center text-center",children:Object(J.jsx)("button",{className:"btn btn-danger ",onClick:Oe,children:"Supprimer la question"})})]})]}):null})}function $(e){e.props;return Object(J.jsx)("div",{className:"",children:Object(J.jsx)("div",{className:"iq-card col-sm-6 mx-auto mt-4 text-center border shadow-sm",children:Object(J.jsxs)("div",{className:"card-body",children:[Object(J.jsx)("h5",{className:"card-title m-0 text-custom",children:"DynaList"}),Object(J.jsx)("p",{className:"card-text text-custom m-0",children:"version 0.19"}),Object(J.jsx)("p",{className:"card-text text-custom m-0",children:"D\xe9velopp\xe9 par Th\xe9o Stassen"}),Object(J.jsx)("p",{className:"card-text text-custom",children:"theo.stassen@protonmail.com"})]})})})}function ee(e){var t=e.props,n=t.currentPatient,a=(t.setCurrentPatient,t.setIsDict,t.setResult,t.setIsPreCheckDone,t.forceUpdate),i=t.patientList,s=t.switchPatient,c=(t.setChecklistList,t.setPathId,t.onNewScanResult),o=t.is_local,d=(t.numDict,t.setPatientList),u=Object(l.useState)(null),m=Object(r.a)(u,2),p=m[0],b=m[1];return Object(l.useEffect)((function(){!function(e,t,n){(new j).get(e?"#":"http://checklists.metoui.be/api/journey").then((function(l){console.log("patient call response ",l.data),console.log("patient call temp",k);var a=[];e?a=k:l.data.data.forEach((function(e){var t=(new Date).setHours(0);(null===e.scheduledDateTime||new Date(e.scheduledDateTime)>t)&&a.push(e.patient)})),0===a.length&&n("empty"),t(a),console.log("initial get patient list call and set finished")})).catch((function(e){console.error(e),n(e.message)}))}(o,d,b)}),[]),Object(J.jsx)("div",{className:"container p-2 mt-2",children:Object(J.jsx)("div",{className:"iq-card bg-white col-sm-12 mx-auto p-2 text-center border shadow-sm justify-content-center ",children:Object(J.jsxs)("div",{className:"card-body",children:[n?Object(J.jsxs)("h3",{className:"card-title text-dark m-0",children:["Patient(e) : ",n.firstname," ",n.lastname," "]}):null,n?Object(J.jsx)("h4",{className:"card-title text-secondary m-0",children:n.dateofbirth}):null,n?Object(J.jsx)("img",{className:"border border-dark mt-2 mb-4",src:o?n.photo:"http://checklists.metoui.be/storage/"+n.photo,width:"128",height:"128",alt:"Photo"}):null,n?null:Object(J.jsx)("h3",{className:"card-title text-dark",children:"Liste des patients en attente"}),Object(J.jsx)("div",{className:"align-items-center",children:Object(J.jsxs)("div",{className:"dropdown text-center",children:[Object(J.jsx)("button",{className:"btn btn-primary btn-round dropdown-toggle",type:"button",id:"dropdownMenuButton1","data-toggle":"dropdown","aria-expanded":"false",children:"S\xe9lectionnez le patient"}),Object(J.jsxs)("ul",{className:"dropdown-menu dropdown-menu-custom","aria-labelledby":"dropdownMenuButton1",children:[i&&i.length?i.map((function(e,t){return Object(J.jsx)("li",{children:Object(J.jsxs)("label",{className:"dropdown-item ",onClick:function(){a(),s(e.id)},children:[e.firstname,"\xa0",e.lastname]})},t)})):Object(J.jsx)("li",{children:Object(J.jsx)("label",{className:"dropdown-item ",children:" Pas de patients"})}),Object(J.jsx)("li",{children:Object(J.jsx)("label",{className:"dropdown-item text-center m-0 ",id:"dropdownMenuButton1","data-toggle":"dropdown",children:Object(J.jsx)("div",{"data-icon":"W",className:"icon"})})})]})]})}),Object(J.jsx)("button",{className:"btn btn-warning btn-round mt-2",type:"button",onClick:function(){!function(e,t){(new j).get(e?"#":"http://checklists.metoui.be/api/patient").then((function(n){console.log("patient call response ",n.data),console.log("patient call temp",k);var l=e?k:n.data;t(l),console.log("initial get patient list call and set finished")}))}(o,d)},children:Object(J.jsx)("div",{"data-icon":"Z",className:"icon pt-1"})}),p&&"empty"!==p?Object(J.jsx)("div",{className:"iq-card mx-auto text-center p-2 shadow-sm border justify-content-center mt-2",children:Object(J.jsxs)("h6",{className:"card-text text-danger m-0 p-0",children:[" ",Object(J.jsxs)("div",{"data-icon":"\ue063",className:"icon text-danger",children:[" Aucun patient n'est trouv\xe9, probl\xe8me de connexion (\"",p,'")  ']})]})}):null,p&&"empty"===p?Object(J.jsx)("div",{className:"iq-card mx-auto text-center p-2 shadow-sm border justify-content-center mt-2",children:Object(J.jsxs)("h6",{className:"card-text text-danger m-0 p-0",children:[" ",Object(J.jsxs)("div",{"data-icon":"\ue063",className:"icon text-danger",children:[" Aucun utilisateur n'est trouv\xe9, probl\xe8me de connexion (\"",p,'") ']})]})}):null,n?Object(J.jsx)("h4",{className:"card-title text-secondary mt-4 mb-0",children:"Scannez le QR code correspondant"}):null,n?Object(J.jsx)("h4",{className:"card-title text-secondary",children:Object(J.jsx)("div",{"data-icon":"k",className:"icon"})}):null,n?Object(J.jsx)("button",{className:"btn btn-outline-primary btn-round m-2",onClick:function(){c(N[n.id].patient_code)},children:"Passer Qr Code"}):null]})})})}var te=n(141),ne="html5qr-code-full-region";var le=function(e){Object(l.useEffect)((function(){if(e.is_home){var t=document.getElementById("input1");t.focus(),t.select()}var n=function(e){var t={};return e.fps&&(t.fps=e.fps),e.qrbox&&(t.qrbox=e.qrbox),e.aspectRatio&&(t.aspectRatio=e.aspectRatio),void 0!==e.disableFlip&&(t.disableFlip=e.disableFlip),t}(e),l=!0===e.verbose;if(!e.qrCodeSuccessCallback)throw"qrCodeSuccessCallback is required callback.";var a=new te.a(ne,n,l);return a.render(e.qrCodeSuccessCallback,e.qrCodeErrorCallback),function(){a.clear().catch((function(e){console.error("Failed to clear html5QrcodeScanner. ",e)}))}}),[]);var t=Object(l.useState)(""),n=Object(r.a)(t,2),a=n[0],i=n[1];return Object(J.jsxs)("div",{className:"col-sm-12 mx-auto p-0",children:["-",null===e.scanValue?Object(J.jsx)("div",{className:" container custom-scanner pt-4 rounded rounded-0-bottom bg-white mx-auto w-100 border border-left border-right border-top "+(e.scanValueError||e.scanValue?" rounded-0-bottom":null),id:ne}):Object(J.jsx)("div",{id:ne}),Object(J.jsx)("input",{id:"input1",type:"text",className:"form-control w-100 mb-0 bg-white rounded-0-top border border-top-0 shadow-sm "+(e.scanValueError?"rounded-0":null),value:a,onChange:function(e){console.log(e),i(e.target.value)},onKeyPress:function(t){"Enter"===t.key&&e.qrCodeSuccessCallback(a)}}),null!==e.scanValue?Object(J.jsx)("div",{className:"container custom-scanner card rounded bg-success mx-auto text-center p-2 border shadow-sm justify-content-center ",children:Object(J.jsx)("div",{className:"card-body m-0 p-0",children:Object(J.jsxs)("h5",{className:"card-title text-dark m-0",children:['Code "',e.scanValue,'" enregistr\xe9']})})}):null,null!==e.scanValueError?Object(J.jsx)("div",{className:"container custom-scanner card rounded rounded-0-top bg-warning mx-auto text-center p-2  border shadow-sm justify-content-center ",children:Object(J.jsx)("div",{className:"card-body m-0 p-0",children:Object(J.jsxs)("h5",{className:"card-title text-dark m-0",children:['Erreur : le code "',e.scanValueError,'" ne correspond pas ']})})}):null]})},ae=n(230),ie=n.n(ae);function se(e){var t=e.sigpad;Object(l.useEffect)((function(){n()}),[]);var n=function(){t.clear(),e.setTrimmedCanvasUrl(null),e.item&&(delete e.result[e.item.id],e.setResult(e.result))};return Object(J.jsx)("div",{className:"container iq-card border-bottom border-right border-left border-dark shadow mx-auto "+(e.is_end_sign?"rounded-0-top":"border-top m-0 mr-3"),children:Object(J.jsxs)("div",{className:"row align-items-center p-0 m-0 h-100",children:[Object(J.jsx)("div",{className:"col-sm-3 m-0 p-0 text-center text-dark",children:"Veuillez rentrer votre signature :"}),Object(J.jsx)("div",{className:"col m-0 p-0 h-100 py-2 ",children:Object(J.jsx)("div",{className:"container iq-card m-0 bg-light border",children:Object(J.jsx)("div",{className:"sigContainer",children:Object(J.jsx)(ie.a,{canvasProps:{className:"sigPad"},ref:function(e){t=e}})})})}),Object(J.jsxs)("div",{className:"col-sm-3 mx-2 p-0",children:[Object(J.jsx)("div",{className:"row align-items-center p-0 m-0 mb-2 mt-4 px-4",children:Object(J.jsx)("button",{type:"button",className:"btn btn-warning w-100",onClick:function(){var n=t.getTrimmedCanvas().toDataURL();e.setTrimmedCanvasUrl(n),e.result[e.item.id]={name:e.item.name,answer:n},e.setResult(e.result),e.forceUpdate()},children:"Valider la signature"})}),Object(J.jsx)("div",{className:" row align-items-center p-0 m-0 mb-4 px-4",children:Object(J.jsx)("button",{type:"button",className:"btn btn-secondary w-100",onClick:n,children:"R\xe9initialiser"})})]})]})})}function re(e){var t=e.init_items,n=e.item,a=e.dicts,i=e.forceUpdate,s=e.values_filter_cond,c=e.creationMode,o=e.currentId,d=e.warningId,u=e.precheckMode,m=e.is_root,p=e.alertList,h=e.scan_bookmark,j=e.checklist_name,x=e.is_local,v=Object(r.a)(a,13),y=v[0],O=v[1],f=v[2],g=v[3],k=v[4],N=v[5],w=v[6],A=v[7],I=v[8],S=v[9],B=(v[10],v[11]),D=v[12],F=Object(l.useState)(!1),G=Object(r.a)(F,2),M=G[0],P=G[1],R=Object(l.useState)(null),L=Object(r.a)(R,2),V=(L[0],L[1]),T=Object(l.useState)(null),U=Object(r.a)(T,2),K=U[0],H=U[1],Q=Object(l.useState)(null),z=Object(r.a)(Q,2),W=z[0];z[1];Object(l.useEffect)((function(){if(n.check.includes("scan")&&h&&K&&!g[n.id]){console.log(g);var e=g;e[n.id]={name:n.name,answer:K},N(e)}}));var X=function(e){console.log("handle change",n);var l=!y[e][n.id];console.log(l);var a=_.filter((function(t){return t!==e}));l?(g[n.id]={name:n.name,importance:n.importance,answer:e},delete k[n.id],1===n.color[n.check.indexOf(e)]&&(k[n.id]={name:n.name,answer:e,checklist_name:j}),ce(t,t,n.id,y,O,g,k,a)):(delete g[n.id],delete k[n.id],ce(t,t,n.id,y,O,g,k,[e])),N(g),w(k),y[e][n.id]=l,a.forEach((function(e){y[e][n.id]=!1})),O(y)},Y=function(e){var t=e.target.value;g[n.id]={name:n.name,importance:n.importance,answer:t,checklist_name:j},N(g),1===n.color[0]&&(k[n.id]={name:n.name,answer:t},w(k))};u&&n.pre_check&&!A.includes(n.id)&&n.pre_check.if.every((function(e){return e.some((function(e){return e.op?q(f[e.var],e.op,e.val):y[e.val][e.var]}))}))&&(X(n.pre_check.then),A.push(n.id),I(A));var $=null,ee=null;return n.values&&(ee=s(n.values,y,f,c,B)).forEach((function(e){return!S.includes(e.id)&&e.check.length?S.push(e.id):null})),ee&&ee.length&&($=Object(J.jsx)("ul",{className:"mb-0",children:ee.map((function(e,n){return Object(J.jsx)(re,{init_items:t,item:e,dicts:a,forceUpdate:i,values_filter_cond:s,creationMode:c,currentId:o,warningId:d,is_root:!1,alertList:p,scan_bookmark:h,checklist_name:j},n)}))})),Object(J.jsxs)("div",{className:"container p-0 mx-auto "+(m?"":"mt-3"),children:[d===n.id?Object(J.jsxs)("div",{className:" alert text-white bg-warning rounded",role:"alert",children:[Object(J.jsx)("div",{className:"iq-alert-icon",children:Object(J.jsx)("i",{className:"ri-alert-fill"})}),Object(J.jsx)("div",{className:"iq-alert-text",children:"Vous n'avez pas r\xe9pondu \xe0 cette question"})]}):null,Object(J.jsxs)("div",{id:"question"+n.id,className:"row align-items-center m-0 p-0"+(c&&o===n.id?" border border-danger ":" "),children:[Object(J.jsxs)("div",{className:"col list-group list-group-horizontal m-0 p-0 w-auto",children:[Object(J.jsx)("div",{className:"list-group-item m-0 p-0 text-center shadow-sm my-auto "+(n.importance||p&&Object.values(p).some((function(e){return e.name===n.name}))?"bg-danger":"bg-primary"),children:Object(J.jsx)("h5",{className:"card-body p-auto text-white",children:n.id})}),Object(J.jsxs)("div",{className:"list-group-item m-0 p-0 w-100 shadow-sm h-auto text-dark bg- ",children:[n.comment&&D&&(1===n.comment.split("_").length||n.comment.split("_").length>1&&f[n.comment.split("_")[1]])?Object(J.jsxs)("div",{className:"row alert iq-bg-secondary px-0 m-0 mt-0 border-0 text-primary my-auto text-center align-content-center",role:"alert",children:[n.comment.split("_").length>1?Object(J.jsx)("p",{className:"w-100 m-0",children:n.comment.split("_")[0]+f[n.comment.split("_")[1]]}):Object(J.jsx)("p",{className:"w-100 m-0",children:n.comment}),n.comment.includes("Consentement")?Object(J.jsxs)("div",{className:"text-center mx-auto",children:[Object(J.jsx)("button",{className:"btn m-0 p-0 mx-auto ",type:"button","data-toggle":"collapse","data-target":"#collapseconsentpdf","aria-expanded":"false","aria-controls":"collapseExample",children:Object(J.jsx)("div",{"data-icon":"T",className:"icon"})}),Object(J.jsx)("div",{className:"collapse m-0 p-0",id:"collapseconsentpdf",children:Object(J.jsxs)("p",{className:"col-sm-12 mx-0 px-0 mb-0",children:[" ",Object(J.jsx)("img",{src:x?f.consent_pdf:"http://checklists.metoui.be/storage/"+f.consent_pdf,width:"280"})," "]})})]}):null]}):null,Object(J.jsx)("div",{className:"card-body my-auto",children:n.name.split("_")[0]})]})]}),n.check.length?Object(J.jsxs)("div",{className:"col-sm-auto p-0 pl-3",children:[Object(J.jsxs)("div",{className:"row px-3",children:[Object(J.jsx)("div",{className:"list-group list-group-horizontal ",children:n.check.map((function(e,t){return t<3&&!["text","list","date","hour","scan","signature","number"].includes(e.split("_")[0])?Object(J.jsxs)("label",{className:"list-group-item list-group-item-custom btn m-0"+(n.color&&0===n.color[t]?" btn-outline-success":n.color&&1===n.color[t]?" btn-outline-danger":" btn-outline-secondary"),children:[Object(J.jsx)("input",{type:"checkbox","aria-label":"Checkbox",checked:y[e]&&y[e][n.id]?1:0,onChange:function(t){X(e),i()}}),"\xa0",E(e)]},t):null}))}),Object(J.jsx)("div",{className:"list-group list-group-horizontal ",children:n.check.map((function(e,t){return t>=3&&!["text","list","date","hour","scan","signature","number"].includes(e.split("_")[0])?Object(J.jsxs)("label",{className:"list-group-item list-group-item-custom btn m-0"+(n.color&&0===n.color[t]?" btn-outline-success":n.color&&1===n.color[t]?" btn-outline-danger":" btn-outline-secondary"),children:[Object(J.jsx)("input",{type:"checkbox","aria-label":"Checkbox",checked:y[e]&&y[e][n.id]?1:0,onChange:function(t){X(e),i()}}),"\xa0",E(e)]},t):null}))})]}),n.check.includes("text")?Object(J.jsx)("input",{className:"form-control w-100 mb-0 bg-white",type:"text ","aria-label":"text input",placeholder:"Ins\xe9rez ici",onChange:Y}):null,n.check.includes("date")?Object(J.jsx)("input",{className:"form-control w-100 mb-0 bg-white",type:"date","aria-label":"text input",defaultValue:function(){var e=(new Date).toISOString().split("T")[0];return g[n.id]={name:n.name,importance:n.importance,answer:e,checklist_name:j},N(g),console.log(e),e}(),placeholder:"Ins\xe9rez ici",onChange:Y}):null,n.check.includes("hour")?Object(J.jsx)("input",{className:"form-control w-100 mb-0 bg-white",type:"time","aria-label":"text input",defaultValue:function(){var e=(new Date).toTimeString().split(" ")[0].substring(0,5);return g[n.id]={name:n.name,importance:n.importance,answer:e,checklist_name:j},N(g),console.log(e),e}(),placeholder:"Ins\xe9rez ici",onChange:Y}):null,n.check.includes("number")?Object(J.jsx)("input",{className:"form-control w-100 mb-0 bg-white",type:"number","aria-label":"text input",defaultValue:function(e){var t=e;return g[n.id]={name:n.name,importance:n.importance,answer:t,checklist_name:j},N(g),1===n.color[0]&&(k[n.id]={name:n.name,answer:t},w(k)),t}("0"),placeholder:"Ins\xe9rez ici",onChange:Y}):null,n.check[0].split("_").includes("list")?Object(J.jsx)(Z.a,{className:" my-auto ",selectStyle:"py-2  btn btn-outline-dark bg-white text-dark ",options:function(e){var t=[];return C[e].forEach((function(e){t.push({labelKey:e,value:e})})),t.push({labelKey:"other",value:"Autre"}),t}(n.check[0].split("_")[1]),isMultiSelect:!0,placeholder:"-",onChange:function(e){var t=JSON.parse(JSON.stringify(e.selectedValue));e.selectedKey.includes("other")?P(!0):P(!1),g[n.id]={name:n.name,importance:n.importance,answer:t},N(g),1!==n.color[0]||e.selectedKey.includes("Aucune")||e.selectedKey.includes("Aucun")?(delete k[n.id],w(k)):(k[n.id]={name:n.name,answer:t,checklist_name:j},w(k))},menuSize:10},n.check[0].split("_")[1]):null,M||n.check.includes("list_problems")?Object(J.jsx)("input",{className:"form-control w-100 mb-0 bg-white",type:"text ","aria-label":"text input",placeholder:M?"Ins\xe9rez ici":"D\xe9crivez",onChange:function(e){var t=e.target.value,l=g[n.id].answer;M&&l.pop(),l.push(t),g[n.id]={name:n.name,importance:n.importance,answer:l},N(g)}}):null]}):Object(J.jsxs)("div",{className:"col-sm-6",children:[" ",null," "]})]}),n.check.includes("scan")&&h&&!K?Object(J.jsx)("div",{className:"row m-0 p-0 mt-2 align-items-center justify-content-center col-sm-6 mx-auto",children:Object(J.jsx)(le,{item_id:n.id,fps:10,qrbox:250,disableFlip:!1,qrCodeSuccessCallback:function(e,t){b.a.get("#").then((function(t){e&&(H(e),console.log("write decoded scan",e,g))})),console.log("scan result",e,K)},scanValueError:W,scanValue:K,scan_bookmark:h,is_home:!1},n.id)}):null,n.check.includes("signature")?Object(J.jsx)("div",{className:"row m-0 p-0 mt-2 align-items-center justify-content-center mx-auto",children:Object(J.jsx)(se,{sigpad:{},setTrimmedCanvasUrl:V,is_end_sign:!1,setResult:N,result:g,item:n,forceUpdate:i})}):null,$]})}function ce(e,t,n,l,a,i,s,r){var c=!1;t.cond&&r.forEach((function(e){t.cond[e]&&t.cond[e].includes(n)&&(console.log("delete",t),_.forEach((function(e){l[e][t.id]=!1})),delete i[t.id],delete s[t.id],c=!0)})),t.values&&t.values.length&&t.values.forEach((function(t){ce(e,t,n,l,a,i,s,r)})),n!==t.id&&c&&ce(e,e,t.id,l,a,i,s,r)}function oe(e){var t=e.section_title,n=e.index;return Object(J.jsx)("div",{className:"card p-2 px-4  mb-0 bg-dark shadow-sm border-bottom border-dark text-center "+(n?"border-top":"rounded rounded-0-bottom"),children:Object(J.jsx)("h5",{className:"text-white ",children:t})})}n(489);function de(e){var t=e.visibleList,n=e.result,a=e.import_result,i=(e.checklist,e.setWarningId),s=(e.checklistList,e.setChecklistList,e.checklistId,e.forceValidationMode);function c(e,t,n){if(s)return"";for(var l=e.sort((function(e,t){return e>t})),a=0;a<l.length;a+=1)if(!t[l[a]])return n&&i(l[a]),a?"question"+l[a-1]:"title";return n&&i(0),""}var o=Object(l.useState)(!1),d=Object(r.a)(o,2),u=d[0],m=d[1],p=function(){return m(!1)};function b(){a(),m(!0),console.log("handle validation end")}return Object(J.jsxs)("div",{className:"container custom-container iq-card  mt-5 text-center p-2 mx-auto shadow-sm border ",children:[Object(J.jsx)("a",{onClick:function(){return""===c(t,n,!0)?b():null},href:"#"+c(t,n,!1),className:"",children:Object(J.jsx)("div",{className:"btn-group btn-group-lg w-100 ",role:"group","aria-label":"Basic example",children:Object(J.jsx)("button",{type:"button",className:"btn btn-warning w-100",children:"Valider la checklist"})})}),Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)(R.a,{show:u,onHide:p,children:[Object(J.jsx)(R.a.Header,{closeButton:!0,variant:"white",children:Object(J.jsx)(R.a.Title,{children:"La checklist est valid\xe9e"})}),Object(J.jsx)(R.a.Body,{children:"Les r\xe9sultats sont transmis au dossier patient"}),Object(J.jsx)(R.a.Footer,{children:Object(J.jsx)(L.a,{variant:"secondary",onClick:p,children:"Fermer"})})]})})]})}function ue(e){var t=e.alertList;console.log("enter alert box",t);var n=Object.values(t);console.log(n);var l=n?Math.ceil(n.length/2):0,a=n?n.slice(0,l):[],i=n&&n.length>1?n.length%2===0?n.slice(-l):n.slice(1-l):[];return Object(J.jsx)("div",{className:"container iq-card pt-3 pb-1 border border-dark shadow mb-3",children:Object(J.jsxs)("div",{className:"row align-items-center",children:[Object(J.jsx)("div",{className:"col-sm-6 pr-2",children:a.map((function(e,t){return Object(J.jsxs)("div",{className:"col-sm-12 alert rounded "+(0===e.gravity?"bg-danger":1===e.gravity?"bg-warning":"bg-light text-dark"),role:"alert",children:[Object(J.jsxs)("div",{className:"iq-alert-text",children:["Checklist ",Object(J.jsx)("b",{children:e.checklist_name})," : ",e.name.split("_")[0],e.question_id>-1?" (Question ":null,Object(J.jsx)("b",{children:e.question_id>-1?e.question_id:null}),e.question_id>-1?")":null,"  -> ",e.answer]}),Object(J.jsx)("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close",children:Object(J.jsx)("i",{className:"ri-close-line text-dark"})})]})}))}),Object(J.jsx)("div",{className:"col-sm-6 pl-2",children:i.map((function(e,t){return Object(J.jsxs)("div",{className:"col-sm-12 alert rounded "+(0===e.gravity?"bg-danger":1===e.gravity?"bg-warning":"bg-light text-dark"),role:"alert",children:[Object(J.jsxs)("div",{className:"iq-alert-text",children:["Checklist ",Object(J.jsx)("b",{children:e.checklist_name})," : ",e.name.split("_")[0],e.question_id>-1?" (Question ":null,Object(J.jsx)("b",{children:e.question_id>-1?e.question_id:null}),e.question_id>-1?")":null,"  -> ",e.answer]}),Object(J.jsx)("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close",children:Object(J.jsx)("i",{className:"ri-close-line text-dark"})})]})}))})]})})}function me(e){var t=e.checklistList,n=e.checklistId,l=e.numDict,a=e.currentPatient,i=(e.forceValidationMode,e.setForceValidationMode,e.is_local),s=t?t.filter((function(e){return e.id===n}))[0]:null;return Object(J.jsx)("div",{className:"container",children:Object(J.jsx)("div",{className:"iq-card bg-white  mt-4 text-center p-2 shadow-sm border",children:Object(J.jsxs)("div",{className:"card-body",children:[Object(J.jsxs)("h3",{className:"card-title text-dark",children:[s?"Checklist "+s.title:null," "]}),Object(J.jsxs)("h4",{className:"card-title text-primary m-0",children:[a.firstname," ",a.lastname," "]}),Object(J.jsx)("h4",{className:"card-title text-secondary m-0",children:a.dateofbirth}),Object(J.jsx)("img",{className:"border border-dark my-2",src:i?a.photo:"http://checklists.metoui.be/storage/"+a.photo,width:"128",height:"128"}),Object(J.jsx)("h4",{className:"card-text text-dark m-0",children:"Chirurgie "+("major"===a.type?"Majeure":"Mineure")+(l.age<19?" Enfant":" Adulte")}),Object(J.jsx)("h4",{className:"card-text text-primary m-0",children:a.intervention_name}),Object(J.jsx)("h4",{className:"card-text text-secondary m-0",children:s?s.description:null})]})})})}function pe(e){var t=e.is_local,n=e.pathId,a=e.checklistId,i=e.setReviewId,s=Object(l.useState)(null),c=Object(r.a)(s,2),o=c[0],d=c[1];Object(l.useEffect)((function(){t||z(d,n)}),[]);var u=o?o.filter((function(e){return e.checklist.id===a}))[0]:null;o&&"string"===typeof o.filter((function(e){return e.checklist.id===a}))[0].checklist.items[0].check&&o.filter((function(e){return e.checklist.id===a}))[0].checklist.items.forEach((function(e){e.check=JSON.parse(e.check),e.color=JSON.parse(e.color),e.cond=JSON.parse(e.cond)}));var m=function(e){var t=u.answers.filter((function(t){return t.item_id===e}));if(t&&t.length)return t[0].is_pb};return u&&u.checklist.items.forEach((function(e){return console.log(u.answers.filter((function(t){return t.item_id===e.itemId}))[0])})),Object(J.jsxs)("div",{children:[Object(J.jsx)("div",{className:"iq-card bg-white col-sm-4 mx-auto text-center p-2 shadow-sm border justify-content-center mt-4 row",children:Object(J.jsx)("button",{className:" btn btn-secondary m-2",type:"button",onClick:function(){i(0)},children:Object(J.jsx)("h5",{"data-icon":"\ue03d",className:"icon text-white",children:"\xa0 Revenir \xe0 la liste"})})}),Object(J.jsx)("div",{className:"container p-0 border-bottom border shadow-sm rounded mt-4",children:u?u.checklist.items.map((function(e,t){return Object(J.jsxs)("div",{children:[" ",u.answers.filter((function(t){return t.item_id===e.itemId})).length?Object(J.jsxs)("div",{children:[e.section_title?Object(J.jsx)(oe,{section_title:e.section_title,index:t}):Object(J.jsx)("div",{className:"bg-primary "+(t?" border-top":"")}),Object(J.jsx)("div",{className:"pb-3 px-3 pt-3 "+(t===u.checklist.items.length-1?"rounded rounded-0-top ":null)+(t||e.section_title?"":" rounded rounded-0-bottom ")+(e.importance?" iq-bg-danger":" bg-color-custom"),children:Object(J.jsx)("div",{className:"container p-0 mx-auto ",children:Object(J.jsxs)("div",{id:"question"+e.id,className:"row align-items-center m-0 p-0",children:[Object(J.jsxs)("div",{className:"col list-group list-group-horizontal m-0 p-0 w-auto",children:[Object(J.jsx)("div",{className:"list-group-item m-0 p-0 text-center shadow-sm my-auto "+(m(e.itemId)?"bg-danger":"bg-primary"),children:Object(J.jsx)("h5",{className:"card-body p-auto text-white",children:e.itemId})}),Object(J.jsx)("div",{className:"list-group-item m-0 p-0 w-100 shadow-sm h-auto text-dark bg- ",children:Object(J.jsx)("div",{className:"card-body my-auto",children:e.name.split("_")[0]})})]}),e.check.length?Object(J.jsxs)("div",{className:"col-sm-auto p-0 pl-3",children:[Object(J.jsxs)("div",{className:"row px-3",children:[Object(J.jsx)("div",{className:"list-group list-group-horizontal ",children:e.check.map((function(t,n){return n<3&&!["text","list","date","hour","scan","signature","number"].includes(t.split("_")[0])?Object(J.jsxs)("label",{className:"list-group-item list-group-item-custom btn m-0"+(e.color&&0===e.color[n]?" btn-outline-success":e.color&&1===e.color[n]?" btn-outline-danger":" btn-outline-secondary"),children:[Object(J.jsx)("input",{type:"checkbox","aria-label":"Checkbox",checked:u.answers.filter((function(t){return t.item_id===e.itemId}))[0].answer.includes(t)?1:0}),"\xa0",E(t)]},n):null}))}),Object(J.jsx)("div",{className:"list-group list-group-horizontal ",children:e.check.map((function(t,n){return n>=3&&!["text","list","date","hour","scan","signature","number"].includes(t.split("_")[0])?Object(J.jsxs)("label",{className:"list-group-item list-group-item-custom btn m-0"+(e.color&&0===e.color[n]?" btn-outline-success":e.color&&1===e.color[n]?" btn-outline-danger":" btn-outline-secondary"),children:[Object(J.jsx)("input",{type:"checkbox","aria-label":"Checkbox",checked:u.answers.filter((function(t){return t.item_id===e.itemId}))[0].answer.includes(t)?1:0}),"\xa0",E(t)]},n):null}))})]}),e.check.includes("text")||e.check.includes("hour")||e.check.includes("date")||e.check.includes("number")||e.check.includes("scan")||e.check[0].split("_").includes("list")?Object(J.jsx)("div",{className:"",children:Object(J.jsx)("input",{className:"form-control w-100 mb-0 bg-white",type:"text",placeholder:u.answers.filter((function(t){return t.item_id===e.itemId})).length&&u.answers.filter((function(t){return t.item_id===e.itemId}))[0].answer})}):null]}):Object(J.jsxs)("div",{className:"col-sm-6",children:[" ",null," "]})]})})})]}):null]})})):null})]})}function be(e){var t=e.checklistList,n=e.swapchecklist,a=(e.scanValue,e.currentPatient),i=e.currentUser,s=e.is_local,c=e.pathId,o=e.numDict,d=e.journeyErrorCode,u=Object(l.useState)(!1),m=Object(r.a)(u,2),p=m[0],b=m[1],h=Object(l.useState)(0),j=Object(r.a)(h,2),x=j[0],v=j[1];console.log("role id",i.role_id,g[i.role_id],t);var y=t?t.filter((function(e){return g[i.role_id].includes(e.type)})):null,O=y?y.length:0;console.log("home",y);var f=Object(l.useState)(!1),k=Object(r.a)(f,2),N=k[0],C=k[1];return Object(J.jsxs)("div",{children:[0===x?Object(J.jsx)("div",{children:t&&a?Object(J.jsxs)("div",{className:"container",children:[Object(J.jsx)("div",{className:"iq-card bg-white col-sm-6 mx-auto text-center p-2 mt-4 shadow-sm border justify-content-center ",children:Object(J.jsxs)("div",{className:"card-body",children:[Object(J.jsxs)("h3",{className:"card-title text-dark m-0",children:["Patient(e) : ",a.firstname," ",a.lastname," "]}),Object(J.jsx)("h4",{className:"card-title text-secondary m-0",children:a.dateofbirth}),Object(J.jsx)("img",{className:"border border-dark mt-2",src:s?a.photo:"http://checklists.metoui.be/storage/"+a.photo,width:"128",height:"128"}),Object(J.jsx)("h4",{className:"card-text text-dark m-0",children:"Chirurgie "+("major"===a.type?"Majeure":"Mineure")+(o.age<19?" Enfant":" Adulte")}),Object(J.jsx)("h4",{className:"card-text text-primary m-0",children:a.intervention_name})]})}),Object(J.jsx)("div",{className:"iq-card bg-white col-sm-6 mx-auto text-center p-2 shadow-sm border justify-content-center ",children:Object(J.jsxs)("div",{className:"card-body m-0 p-2",children:[Object(J.jsxs)("h4",{className:"card-title text-dark m-0 p-0",children:["Attention ",Object(J.jsx)("div",{"data-icon":"\ue063",className:"icon text-danger"})]}),p?null:Object(J.jsx)("h6",{className:"card-text text-secondary m-0 p-0",children:"Vous devez choisir la prochaine checklist non remplie. Si vous souhaitez quand m\xeame en choisir une autre, appuyer ici."}),p?null:Object(J.jsx)("button",{className:"btn btn-warning m-0 mt-2 mb-1",onClick:function(){return b(!p)},children:"Autorise choix libre"}),p?Object(J.jsx)("h6",{className:"card-text text-secondary m-0 p-0",children:"Vous pouvez choisir la checklist que vous souhaitez"}):null,p?Object(J.jsx)("button",{className:"btn btn-warning m-0 mt-2 mb-1",onClick:function(){return b(!p)},children:"Ne plus autoriser"}):null]})}),Object(J.jsx)("div",{className:"list-group text-center text-dark justify-content-center "+(O<3?"list-group-horizontal":""),children:y.map((function(e,l){return Object(J.jsxs)("div",{className:"list-group-item shadow-sm "+(O<3?"col-sm-3 ":"col-sm-6 mx-auto list-group-item-rounded ")+(e.fill?"iq-bg-success":"iq-bg-danger"),children:[Object(J.jsxs)("h4",{children:["Checklist n\xb0 ",e.id]}),Object(J.jsx)("p",{children:e.title}),e.fill?Object(J.jsx)("button",{className:" btn btn-primary m-2 rounded",type:"button",onClick:function(){v(e.id)},children:"Revoir"}):Object(J.jsx)("button",{className:" btn btn-primary m-2",type:"button",onClick:function(){return function(e){if(!p){console.log("check");for(var n=0;n<t.length;n++)if(console.log("check",t[n],e),!0!==t[n].fill)return t[n].id===e}return!0}(e.id)?function(e){window.scrollTo(0,0),n(e.id)}(e):C(!0)},children:"Remplir"})]})}))}),O?null:Object(J.jsx)("div",{className:"iq-card bg-white col-sm-6 mx-auto text-center p-2 shadow-sm border justify-content-center ",children:Object(J.jsx)("h6",{className:"card-text text-dark m-0 p-0",children:"Vous ne pouvez remplir aucune liste pour ce patient "})})]}):Object(J.jsx)("div",{className:"container iq-card bg-white mx-auto mb-0 mt-2 p-2 text-center shadow-sm border justify-content-center ",children:Object(J.jsx)("div",{className:"card-body iq-card mx-auto my-3 text-center p-2 shadow-sm border justify-content-center",children:Object(J.jsxs)("h6",{className:"card-text text-danger m-0 p-0",children:[" ",Object(J.jsxs)("div",{"data-icon":"\ue063",className:"icon text-danger",children:[" Aucun parcours patient n'est trouv\xe9, probl\xe8me de connexion (\"",d,'") ']})]})})})}):Object(J.jsx)("div",{children:Object(J.jsx)(pe,{is_local:s,pathId:c,checklistId:x,setReviewId:v})}),Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)(R.a,{show:N,onHide:function(){C(!1)},className:"",children:[Object(J.jsx)(R.a.Header,{className:"",closeButton:!0,variant:"white",children:Object(J.jsx)(R.a.Title,{className:"text-danger",children:"Attention"})}),Object(J.jsx)(R.a.Body,{children:"Vous n'\xeates pas sens\xe9 remplir cette checklist, mais celle qui suit dans l'ordre de remplissage, si vous voulez vraiment passer outre, autoriser le choix libre"}),Object(J.jsx)(R.a.Footer,{className:""})]})})]})}var he=n(9),je=n(32),xe=n(234),ve=n(233),ye=n(33),Oe=n.n(ye),fe=n(492),ge=n(231),ke=n.n(ge),Ne=(n(347),n(348),function(e){Object(xe.a)(n,e);var t=Object(ve.a)(n);function n(e){var l;return Object(u.a)(this,n),(l=t.call(this,e)).generateButton=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=Oe.a.assign({},l.state),i=l.cellUpdate,s=l.setState,r=l.setResult;return Object(J.jsx)("button",{className:"btn w-100 "+(0===t?"btn-primary":"btn-light"),onClick:function(){var t=a[e].value;i(a,{key:a[e].key,name:a[e].name,value:t,expr:t,readOnly:a[e].readOnly},JSON.stringify(parseInt(t)+n)),s(a);var l={};Object.keys(a).forEach((function(e,t){a[e].name&&a[e].name.length&&(l[t]={name:a[e].name,answer:a[e].value})})),r(l)},children:"+"})},l.result=e.result,l.setResult=e.setResult,l.onCellsChanged=l.onCellsChanged.bind(Object(je.a)(l)),l.cellUpdate=l.cellUpdate.bind(Object(je.a)(l)),l.switchMode=l.switchMode.bind(Object(je.a)(l)),l.addAdditional=l.addAdditional.bind(Object(je.a)(l)),l.subElement=l.subElement.bind(Object(je.a)(l)),l.setState=l.setState.bind(Object(je.a)(l)),l.state={mode:!1,number_additional:0,A1:{key:"A1",name:"5x5 Rx D\xe9part",value:"0",expr:"0",readOnly:!0},B1:{key:"B1",name:"10x10 Rx D\xe9part",value:"0",expr:"0",readOnly:!0},C1:{key:"C1",name:"10x20 Rx D\xe9part",value:"0",expr:"0",readOnly:!0},D1:{key:"D1",name:"T\xe9tras D\xe9part",value:"0",expr:"0",readOnly:!0},E1:{key:"E1",name:"Tampons D\xe9part",value:"0",expr:"0",readOnly:!0},F1:{key:"F1",name:"Peanuts D\xe9part",value:"0",expr:"0",readOnly:!0},G1:{key:"G1",name:"Cotono\xefdes D\xe9part",value:"0",expr:"0",readOnly:!0},A2:{key:"A2",name:"5x5 Rx 1er Infirmi\xe8re circulante",value:"0",expr:"0",readOnly:!0},B2:{key:"B2",name:"10x10 Rx 1er Infirmi\xe8re circulante",value:"0",expr:"0",readOnly:!0},C2:{key:"C2",name:"10x20 Rx 1er Infirmi\xe8re circulante",value:"0",expr:"0",readOnly:!0},D2:{key:"D2",name:"T\xe9tras 1er Infirmi\xe8re circulante",value:"0",expr:"0",readOnly:!0},E2:{key:"E2",name:"Tampons 1er Infirmi\xe8re circulante",value:"0",expr:"0",readOnly:!0},F2:{key:"F2",name:"Peanuts 1er Infirmi\xe8re circulante",value:"0",expr:"0",readOnly:!0},G2:{key:"G2",name:"Cotono\xefdes 1er Infirmi\xe8re circulante",value:"0",expr:"0",readOnly:!0},A3:{key:"A3",name:"5x5 Rx 1er Infirmi\xe8re instrumentiste",value:"0",expr:"0",readOnly:!0},B3:{key:"B3",name:"10x10 Rx 1er Infirmi\xe8re instrumentiste",value:"0",expr:"0",readOnly:!0},C3:{key:"C3",name:"10x20 Rx 1er Infirmi\xe8re instrumentiste",value:"0",expr:"0",readOnly:!0},D3:{key:"D3",name:"T\xe9tras 1er Infirmi\xe8re instrumentiste",value:"0",expr:"0",readOnly:!0},E3:{key:"E3",name:"Tampons 1er Infirmi\xe8re instrumentiste",value:"0",expr:"0",readOnly:!0},F3:{key:"F3",name:"Peanuts 1er Infirmi\xe8re instrumentiste",value:"0",expr:"0",readOnly:!0},G3:{key:"G3",name:"Cotono\xefdes 1er Infirmi\xe8re instrumentiste",value:"0",expr:"0",readOnly:!0},A4:{key:"A4",name:"5x5 Rx Compte avant fermeture",value:"0",expr:"=A2+A3",readOnly:!0},B4:{key:"B4",name:"10x10 Rx Compte avant fermeture",value:"0",expr:"=B2+B3",readOnly:!0},C4:{key:"C4",name:"10x20 Rx Compte avant fermeture",value:"0",expr:"=C2+C3",readOnly:!0},D4:{key:"D4",name:"T\xe9tras Compte avant fermeture",value:"0",expr:"=D2+D3",readOnly:!0},E4:{key:"E4",name:"Tampons Compte avant fermeture",value:"0",expr:"=E2+E3",readOnly:!0},F4:{key:"F4",name:"Peanuts Compte avant fermeture",value:"0",expr:"=F2+F3",readOnly:!0},G4:{key:"G4",name:"Cotono\xefdes Compte avant fermeture",value:"0",expr:"=G2+G3",readOnly:!0},A10:{key:"A10",name:"5x5 Rx Additionnel 1 Infirmi\xe8re circulante",value:"0",expr:"0",readOnly:!0},B10:{key:"B10",name:"10x10 Rx Additionnel 1 Infirmi\xe8re circulante",value:"0",expr:"0",readOnly:!0},C10:{key:"C10",name:"10x20 Rx Additionnel 1 Infirmi\xe8re circulante",value:"0",expr:"0",readOnly:!0},D10:{key:"D10",name:"T\xe9tras Additionnel 1 Infirmi\xe8re circulante",value:"0",expr:"0",readOnly:!0},E10:{key:"E10",name:"Tampons Additionnel 1 Infirmi\xe8re circulante",value:"0",expr:"0",readOnly:!0},F10:{key:"F10",name:"Peanuts Additionnel 1 Infirmi\xe8re circulante",value:"0",expr:"0",readOnly:!0},G10:{key:"G10",name:"Cotono\xefdes Additionnel 1 Infirmi\xe8re circulante",value:"0",expr:"0",readOnly:!0},A11:{key:"A11",name:"5x5 Rx Additionnel 1 Infirmi\xe8re instrumentiste",value:"0",expr:"0",readOnly:!0},B11:{key:"B11",name:"10x10 Rx Additionnel 1 Infirmi\xe8re instrumentiste",value:"0",expr:"0",readOnly:!0},C11:{key:"C11",name:"10x20 Rx Additionnel 1 Infirmi\xe8re instrumentiste",value:"0",expr:"0",readOnly:!0},D11:{key:"D11",name:"T\xe9tras Additionnel 1 Infirmi\xe8re instrumentiste",value:"0",expr:"0",readOnly:!0},E11:{key:"E11",name:"Tampons Additionnel 1 Infirmi\xe8re instrumentiste",value:"0",expr:"0",readOnly:!0},F11:{key:"F11",name:"Peanuts Additionnel 1 Infirmi\xe8re instrumentiste",value:"0",expr:"0",readOnly:!0},G11:{key:"G11",name:"Cotono\xefdes Additionnel 1 Infirmi\xe8re instrumentiste",value:"0",expr:"0",readOnly:!0},A12:{key:"A12",name:"5x5 Rx Compte Additionnel 1",value:"0",expr:"=A10+A11",readOnly:!0},B12:{key:"B12",name:"10x10 Rx Compte Additionnel 1",value:"0",expr:"=B10+B11",readOnly:!0},C12:{key:"C12",name:"10x20 Rx Compte Additionnel 1",value:"0",expr:"=C10+C11",readOnly:!0},D12:{key:"D12",name:"T\xe9tras Compte Additionnel 1",value:"0",expr:"=D10+D11",readOnly:!0},E12:{key:"E12",name:"Tampons Compte Additionnel 1",value:"0",expr:"=E10+E11",readOnly:!0},F12:{key:"F12",name:"Peanuts Compte Additionnel 1",value:"0",expr:"=F10+F11",readOnly:!0},G12:{key:"G12",name:"Cotono\xefdes Compte Additionnel 1",value:"0",expr:"=G10+G11",readOnly:!0},A14:{key:"A14",name:"5x5 Rx Additionnel 2 Infirmi\xe8re circulante",value:"0",expr:"0",readOnly:!0},B14:{key:"B14",name:"10x10 Rx Additionnel 2 Infirmi\xe8re circulante",value:"0",expr:"0",readOnly:!0},C14:{key:"C14",name:"10x20 Rx Additionnel 2 Infirmi\xe8re circulante",value:"0",expr:"0",readOnly:!0},D14:{key:"D14",name:"T\xe9tras Additionnel 2 Infirmi\xe8re circulante",value:"0",expr:"0",readOnly:!0},E14:{key:"E14",name:"Tampons Additionnel 2 Infirmi\xe8re circulante",value:"0",expr:"0",readOnly:!0},F14:{key:"F10",name:"Peanuts Additionnel 2 Infirmi\xe8re circulante",value:"0",expr:"0",readOnly:!0},G14:{key:"G14",name:"Cotono\xefdes Additionnel 2 Infirmi\xe8re circulante",value:"0",expr:"0",readOnly:!0},A15:{key:"A15",name:"5x5 Rx Additionnel 2 Infirmi\xe8re instrumentiste",value:"0",expr:"0",readOnly:!0},B15:{key:"B15",name:"10x10 Rx Additionnel 2 Infirmi\xe8re instrumentiste",value:"0",expr:"0",readOnly:!0},C15:{key:"C15",name:"10x20 Rx Additionnel 2 Infirmi\xe8re instrumentiste",value:"0",expr:"0",readOnly:!0},D15:{key:"D15",name:"T\xe9tras Additionnel 2 Infirmi\xe8re instrumentiste",value:"0",expr:"0",readOnly:!0},E15:{key:"E15",name:"Tampons Additionnel 2 Infirmi\xe8re instrumentiste",value:"0",expr:"0",readOnly:!0},F15:{key:"F15",name:"Peanuts Additionnel 2 Infirmi\xe8re instrumentiste",value:"0",expr:"0",readOnly:!0},G15:{key:"G15",name:"Cotono\xefdes Additionnel 2 Infirmi\xe8re instrumentiste",value:"0",expr:"0",readOnly:!0},A16:{key:"A16",name:"5x5 Rx Compte Additionnel 2",value:"0",expr:"=A14+A15",readOnly:!0},B16:{key:"B16",name:"10x10 Rx Compte Additionnel 2",value:"0",expr:"=B14+B15",readOnly:!0},C16:{key:"C16",name:"10x20 Rx Compte Additionnel 2",value:"0",expr:"=C14+C15",readOnly:!0},D16:{key:"D16",name:"T\xe9tras Compte Additionnel 2",value:"0",expr:"=D14+D15",readOnly:!0},E16:{key:"E16",name:"Tampons Compte Additionnel 2",value:"0",expr:"=E14+E15",readOnly:!0},F16:{key:"F16",name:"Peanuts Compte Additionnel 2",value:"0",expr:"=F14+F15",readOnly:!0},G16:{key:"G16",name:"Cotono\xefdes Compte Additionnel 2",value:"0",expr:"=G14+G15",readOnly:!0},A18:{key:"A18",name:"5x5 Rx Additionnel 3 Infirmi\xe8re circulante",value:"0",expr:"0",readOnly:!0},B18:{key:"B18",name:"10x10 Rx Additionnel 3 Infirmi\xe8re circulante",value:"0",expr:"0",readOnly:!0},C18:{key:"C18",name:"10x20 Rx Additionnel 3 Infirmi\xe8re circulante",value:"0",expr:"0",readOnly:!0},D18:{key:"D18",name:"T\xe9tras Additionnel 3 Infirmi\xe8re circulante",value:"0",expr:"0",readOnly:!0},E18:{key:"E18",name:"Tampons Additionnel 3 Infirmi\xe8re circulante",value:"0",expr:"0",readOnly:!0},F18:{key:"F18",name:"Peanuts Additionnel 3 Infirmi\xe8re circulante",value:"0",expr:"0",readOnly:!0},G18:{key:"G18",name:"Cotono\xefdes Additionnel 3 Infirmi\xe8re circulante",value:"0",expr:"0",readOnly:!0},A19:{key:"A19",name:"5x5 Rx Additionnel 3 Infirmi\xe8re instrumentiste",value:"0",expr:"0",readOnly:!0},B19:{key:"B19",name:"10x10 Rx Additionnel 3 Infirmi\xe8re instrumentiste",value:"0",expr:"0",readOnly:!0},C19:{key:"C19",name:"10x20 Rx Additionnel 3 Infirmi\xe8re instrumentiste",value:"0",expr:"0",readOnly:!0},D19:{key:"D19",name:"T\xe9tras Additionnel 3 Infirmi\xe8re instrumentiste",value:"0",expr:"0",readOnly:!0},E19:{key:"E19",name:"Tampons Additionnel 3 Infirmi\xe8re instrumentiste",value:"0",expr:"0",readOnly:!0},F19:{key:"F19",name:"Peanuts Additionnel 3 Infirmi\xe8re instrumentiste",value:"0",expr:"0",readOnly:!0},G19:{key:"G19",name:"Cotono\xefdes Additionnel 3 Infirmi\xe8re instrumentiste",value:"0",expr:"0",readOnly:!0},A20:{key:"A20",name:"5x5 Rx Compte Additionnel 3",value:"0",expr:"=A18+A19",readOnly:!0},B20:{key:"B20",name:"10x10 Rx Compte Additionnel 3",value:"0",expr:"=B18+B19",readOnly:!0},C20:{key:"C20",name:"10x20 Rx Compte Additionnel 3",value:"0",expr:"=C18+C19",readOnly:!0},D20:{key:"D20",name:"T\xe9tras Compte Additionnel 3",value:"0",expr:"=D18+D19",readOnly:!0},E20:{key:"E20",name:"Tampons Compte Additionnel 3",value:"0",expr:"=E18+E19",readOnly:!0},F20:{key:"F20",name:"Peanuts Compte Additionnel 3",value:"0",expr:"=F18+F19",readOnly:!0},G20:{key:"G20",name:"Cotono\xefdes Compte Additionnel 3",value:"0",expr:"=G18+G19",readOnly:!0},A5:{key:"A5",name:"5x5 Rx 2eme Infirmi\xe8re circulante",value:"0",expr:"0",readOnly:!0},B5:{key:"B5",name:"10x10 Rx 2eme Infirmi\xe8re circulante",value:"0",expr:"0",readOnly:!0},C5:{key:"C5",name:"10x20 Rx 2eme Infirmi\xe8re circulante",value:"0",expr:"0",readOnly:!0},D5:{key:"D5",name:"T\xe9tras 2eme Infirmi\xe8re circulante",value:"0",expr:"0",readOnly:!0},E5:{key:"E5",name:"Tampons 2eme Infirmi\xe8re circulante",value:"0",expr:"0",readOnly:!0},F5:{key:"F5",name:"Peanuts 2eme Infirmi\xe8re circulante",value:"0",expr:"0",readOnly:!0},G5:{key:"G5",name:"Cotono\xefdes 2eme Infirmi\xe8re circulante",value:"0",expr:"0",readOnly:!0},A6:{key:"A6",name:"5x5 Rx 2eme Infirmi\xe8re instrumentiste",value:"0",expr:"0",readOnly:!0},B6:{key:"B6",name:"10x10 Rx 2eme Infirmi\xe8re instrumentiste",value:"0",expr:"0",readOnly:!0},C6:{key:"C6",name:"10x20 Rx 2eme Infirmi\xe8re instrumentiste",value:"0",expr:"0",readOnly:!0},D6:{key:"D6",name:"T\xe9tras 2eme Infirmi\xe8re instrumentiste",value:"0",expr:"0",readOnly:!0},E6:{key:"E6",name:"Tampons 2eme Infirmi\xe8re instrumentiste",value:"0",expr:"0",readOnly:!0},F6:{key:"F6",name:"Peanuts 2eme Infirmi\xe8re instrumentiste",value:"0",expr:"0",readOnly:!0},G6:{key:"G6",name:"Cotono\xefdes 2eme Infirmi\xe8re instrumentiste",value:"0",expr:"0",readOnly:!0},A7:{key:"A7",name:"5x5 Rx Compte apr\xe8s fermeture",value:"0",expr:"=A5+A6",readOnly:!0},B7:{key:"B7",name:"10x10 Rx Compte apr\xe8s fermeture",value:"0",expr:"=B5+B6",readOnly:!0},C7:{key:"C7",name:"10x20 Rx Compte apr\xe8s fermeture",value:"0",expr:"=C5+C6",readOnly:!0},D7:{key:"D7",name:"T\xe9tras Compte apr\xe8s fermeture",value:"0",expr:"=D5+D6",readOnly:!0},E7:{key:"E7",name:"Tampons Compte apr\xe8s fermeture",value:"0",expr:"=E5+E6",readOnly:!0},F7:{key:"F7",name:"Peanuts Compte apr\xe8s fermeture",value:"0",expr:"=F5+F6",readOnly:!0},G7:{key:"G7",name:"Cotono\xefdes Compte apr\xe8s fermeture",value:"0",expr:"=G5+G6",readOnly:!0},A8:{key:"A8",value:"",expr:'=(A1 == A2+A3 ? "Correct" : "Incorr." )',readOnly:!0},B8:{key:"B8",value:"",expr:'=(B1 == B2+B3 ? "Correct" : "Incorr." )',readOnly:!0},C8:{key:"C8",value:"",expr:'=(C1 == C2+C3 ? "Correct" : "Incorr." )',readOnly:!0},D8:{key:"D8",value:"",expr:'=(D1 == D2+D3 ? "Correct" : "Incorr." )',readOnly:!0},E8:{key:"E8",value:"",expr:'=(E1 == E2+E3 ? "Correct" : "Incorr." )',readOnly:!0},F8:{key:"F8",value:"",expr:'=(F1 == F2+F3 ? "Correct" : "Incorr." )',readOnly:!0},G8:{key:"G8",value:"",expr:'=(G1 == G2+G3 ? "Correct" : "Incorr." )',readOnly:!0},H8:{key:"H8",value:"",expr:'=(H1 == H2+H3 ? "Correct" : "Incorr." )',readOnly:!0},A9:{key:"A9",value:"",expr:'=(A1 == A5+A6 ? "Correct" : "Incorr." )',readOnly:!0},B9:{key:"B9",value:"",expr:'=(B1 == B5+B6 ? "Correct" : "Incorr." )',readOnly:!0},C9:{key:"C9",value:"",expr:'=(C1 == C5+C6 ? "Correct" : "Incorr." )',readOnly:!0},D9:{key:"D9",value:"",expr:'=(D1 == D5+D6 ? "Correct" : "Incorr." )',readOnly:!0},E9:{key:"E9",value:"",expr:'=(E1 == E5+E6 ? "Correct" : "Incorr." )',readOnly:!0},F9:{key:"F9",value:"",expr:'=(F1 == F5+F6 ? "Correct" : "Incorr." )',readOnly:!0},G9:{key:"G9",value:"",expr:'=(G1 == G5+G6 ? "Correct" : "Incorr." )',readOnly:!0},H9:{key:"H9",value:"",expr:'=(H1 == H5+H6 ? "Correct" : "Incorr." )',readOnly:!0},A13:{key:"A13",value:"",expr:'=(A1 == A10+A11 ? "Correct" : "Incorr." )',readOnly:!0},B13:{key:"B13",value:"",expr:'=(B1 == B10+B11 ? "Correct" : "Incorr." )',readOnly:!0},C13:{key:"C13",value:"",expr:'=(C1 == C10+C11 ? "Correct" : "Incorr." )',readOnly:!0},D13:{key:"D13",value:"",expr:'=(D1 == D10+D11 ? "Correct" : "Incorr." )',readOnly:!0},E13:{key:"E13",value:"",expr:'=(E1 == E10+E11 ? "Correct" : "Incorr." )',readOnly:!0},F13:{key:"F13",value:"",expr:'=(F1 == F10+F11 ? "Correct" : "Incorr." )',readOnly:!0},G13:{key:"G13",value:"",expr:'=(G1 == G10+G11 ? "Correct" : "Incorr." )',readOnly:!0},H13:{key:"H13",value:"",expr:'=(H1 == H10+H11 ? "Correct" : "Incorr." )',readOnly:!0},A17:{key:"A17",value:"",expr:'=(A1 == A14+A15 ? "Correct" : "Incorr." )',readOnly:!0},B17:{key:"B17",value:"",expr:'=(B1 == B14+B15 ? "Correct" : "Incorr." )',readOnly:!0},C17:{key:"C17",value:"",expr:'=(C1 == C14+C15 ? "Correct" : "Incorr." )',readOnly:!0},D17:{key:"D17",value:"",expr:'=(D1 == D14+D15 ? "Correct" : "Incorr." )',readOnly:!0},E17:{key:"E17",value:"",expr:'=(E1 == E14+E15 ? "Correct" : "Incorr." )',readOnly:!0},F17:{key:"F17",value:"",expr:'=(F1 == F14+F15 ? "Correct" : "Incorr." )',readOnly:!0},G17:{key:"G17",value:"",expr:'=(G1 == G14+G15 ? "Correct" : "Incorr." )',readOnly:!0},H17:{key:"H17",value:"",expr:'=(H1 == H14+H15 ? "Correct" : "Incorr." )',readOnly:!0},A21:{key:"A21",value:"",expr:'=(A1 == A18+A19 ? "Correct" : "Incorr." )',readOnly:!0},B21:{key:"B21",value:"",expr:'=(B1 == B18+B19 ? "Correct" : "Incorr." )',readOnly:!0},C21:{key:"C21",value:"",expr:'=(C1 == C18+C19 ? "Correct" : "Incorr." )',readOnly:!0},D21:{key:"D21",value:"",expr:'=(D1 == D18+D19 ? "Correct" : "Incorr." )',readOnly:!0},E21:{key:"E21",value:"",expr:'=(E1 == E18+E19 ? "Correct" : "Incorr." )',readOnly:!0},F21:{key:"F21",value:"",expr:'=(F1 == F18+F19 ? "Correct" : "Incorr." )',readOnly:!0},G21:{key:"G21",value:"",expr:'=(G1 == G18+G19 ? "Correct" : "Incorr." )',readOnly:!0},H21:{key:"H21",value:"",expr:'=(H1 == H18+H19 ? "Correct" : "Incorr." )',readOnly:!0}},l}return Object(m.a)(n,[{key:"subElement",value:function(e,t){var n=Oe.a.assign({},this.state),l=this.cellUpdate,a=this.setState,i=this.setResult,s=n[e].value;s>=t&&l(n,{key:n[e].key,name:n[e].name,value:s,expr:s,readOnly:n[e].readOnly},JSON.stringify(parseInt(s)-t)),a(n);var r={};Object.keys(n).forEach((function(e,t){n[e].name&&n[e].name.length&&(r[t]={name:n[e].name,answer:n[e].value})})),i(r)}},{key:"generateGrid",value:function(){var e=this;console.log("generate grid");var t=[[{readOnly:!0,colSpan:7,value:Object(J.jsx)("div",{className:"bg-dark rounded text-white",children:"1er Compte"}),className:"grey"}],[{readOnly:!0,value:"Rx: 5x5"},{readOnly:!0,value:"10x10"},{readOnly:!0,value:"10x20"},{readOnly:!0,value:"T\xe9tras"},{readOnly:!0,value:"Tamp."},{readOnly:!0,value:"Peanuts"},{readOnly:!0,value:"Cotono."}],[{readOnly:!0,colSpan:7,value:"D\xe9part",className:"grey"}],["A","B","C","D","E","F","G"].map((function(t){return{readOnly:!0,value:e.generateButton(t+1,0,"A"===t?5:"B"===t||"C"===t?10:1),className:"button"}})),["A","B","C","D","E","F","G"].map((function(t){return e.state[t+1]})),[{readOnly:!0,colSpan:7,value:"Total infirmi\xe8re circulante",className:"grey"}],["A","B","C","D","E","F","G"].map((function(t){return{readOnly:!0,value:e.generateButton(t+2,0),className:"button"}})),["A","B","C","D","E","F","G"].map((function(t,n){return e.state[t+2]})),[{readOnly:!0,colSpan:7,value:"Total infirmi\xe8re instrumentiste ou chirurgien",className:"grey"}],["A","B","C","D","E","F","G"].map((function(t){return{readOnly:!0,value:e.generateButton(t+3,0),className:"button"}})),["A","B","C","D","E","F","G"].map((function(t,n){return e.state[t+3]})),[{readOnly:!0,colSpan:7,value:Object(J.jsx)("div",{className:"iq-bg-primary text-dark",children:"Compte interm\xe9diaire (avant fermeture)"}),className:"grey"}],["A","B","C","D","E","F","G"].map((function(t,n){return e.state[t+4]})),["A","B","C","D","E","F","G"].map((function(t,n){return e.state[t+8]})),[{readOnly:!0,colSpan:7,value:Object(J.jsx)("div",{className:"bg-dark rounded text-white",children:"2\xe8me Compte"}),className:"grey"}],[{readOnly:!0,colSpan:7,value:"Total infirmi\xe8re circulante",className:"grey"}],["A","B","C","D","E","F","G"].map((function(t){return{readOnly:!0,value:e.generateButton(t+5,0),className:"button"}})),["A","B","C","D","E","F","G"].map((function(t,n){return e.state[t+5]})),[{readOnly:!0,colSpan:7,value:"Total infirmi\xe8re instrumentiste ou chirurgien",className:"grey"}],["A","B","C","D","E","F","G"].map((function(t){return{readOnly:!0,value:e.generateButton(t+6,0),className:"button"}})),["A","B","C","D","E","F","G"].map((function(t,n){return e.state[t+6]})),[{readOnly:!0,colSpan:7,value:Object(J.jsx)("div",{className:"iq-bg-primary text-dark",children:"Compte total final (apr\xe8s fermeture)"}),className:"grey"}],["A","B","C","D","E","F","G"].map((function(t,n){return e.state[t+7]})),["A","B","C","D","E","F","G"].map((function(t,n){return e.state[t+9]}))];return this.state.number_additional>0&&t.push([{readOnly:!0,colSpan:7,value:Object(J.jsx)("div",{className:"bg-dark rounded text-white",children:"Compte additionnel 1"}),className:"grey"}],[{readOnly:!0,colSpan:7,value:"Total infirmi\xe8re circulante",className:"grey"}],["A","B","C","D","E","F","G"].map((function(t){return{readOnly:!0,value:e.generateButton(t+10,0),className:"button"}})),["A","B","C","D","E","F","G"].map((function(t,n){return e.state[t+10]})),[{readOnly:!0,colSpan:7,value:"Total infirmi\xe8re instrumentiste ou chirurgien",className:"grey"}],["A","B","C","D","E","F","G"].map((function(t){return{readOnly:!0,value:e.generateButton(t+11,0),className:"button"}})),["A","B","C","D","E","F","G"].map((function(t,n){return e.state[t+11]})),[{readOnly:!0,colSpan:7,value:Object(J.jsx)("div",{className:"iq-bg-primary text-dark",children:"Compte total additionnel 1"}),className:"grey"}],["A","B","C","D","E","F","G"].map((function(t,n){return e.state[t+12]})),["A","B","C","D","E","F","G"].map((function(t,n){return e.state[t+13]}))),this.state.number_additional>1&&t.push([{readOnly:!0,colSpan:7,value:Object(J.jsx)("div",{className:"bg-dark rounded text-white",children:"Compte additionnel 2"}),className:"grey"}],[{readOnly:!0,colSpan:7,value:"Total infirmi\xe8re circulante",className:"grey"}],["A","B","C","D","E","F","G"].map((function(t){return{readOnly:!0,value:e.generateButton(t+14,0),className:"button"}})),["A","B","C","D","E","F","G"].map((function(t,n){return e.state[t+14]})),[{readOnly:!0,colSpan:7,value:"Total infirmi\xe8re instrumentiste ou chirurgien",className:"grey"}],["A","B","C","D","E","F","G"].map((function(t){return{readOnly:!0,value:e.generateButton(t+15,0),className:"button"}})),["A","B","C","D","E","F","G"].map((function(t,n){return e.state[t+15]})),[{readOnly:!0,colSpan:7,value:Object(J.jsx)("div",{className:"iq-bg-primary text-dark",children:"Compte total additionnel 2"}),className:"grey"}],["A","B","C","D","E","F","G"].map((function(t,n){return e.state[t+16]})),["A","B","C","D","E","F","G"].map((function(t,n){return e.state[t+17]}))),this.state.number_additional>2&&t.push([{readOnly:!0,colSpan:7,value:Object(J.jsx)("div",{className:"bg-dark rounded text-white",children:"Compte additionnel 3"}),className:"grey"}],[{readOnly:!0,colSpan:7,value:"Total infirmi\xe8re circulante",className:"grey"}],["A","B","C","D","E","F","G"].map((function(t){return{readOnly:!0,value:e.generateButton(t+18,0),className:"button"}})),["A","B","C","D","E","F","G"].map((function(t,n){return e.state[t+18]})),[{readOnly:!0,colSpan:7,value:"Total infirmi\xe8re instrumentiste ou chirurgien",className:"grey"}],["A","B","C","D","E","F","G"].map((function(t){return{readOnly:!0,value:e.generateButton(t+19,0),className:"button"}})),["A","B","C","D","E","F","G"].map((function(t,n){return e.state[t+19]})),[{readOnly:!0,colSpan:7,value:Object(J.jsx)("div",{className:"iq-bg-primary text-dark",children:"Compte total additionnel 3"}),className:"grey"}],["A","B","C","D","E","F","G"].map((function(t,n){return e.state[t+20]})),["A","B","C","D","E","F","G"].map((function(t,n){return e.state[t+21]}))),console.log(t),t}},{key:"validateExp",value:function(e,t){var n=this,l=!0;return(t.match(/[A-Z][1-9]+/g)||[]).map((function(t){l=!(e.indexOf(t)>-1)&&n.validateExp([].concat(Object(he.a)(e),[t]),n.state[t].expr)})),l}},{key:"computeExpr",value:function(e,t,n,l){var a=null;if("="!==n.charAt(0))return{className:"",name:t,value:n,expr:n};try{a=fe.a(n.substring(1),l)}catch(i){a=null}return null!==a&&this.validateExp([e],n)?{className:" "+("Incorr."===a?"red":"Correct"===a?"green":""),name:t,value:a,expr:n}:{className:"error",name:t,value:"error",expr:""}}},{key:"cellUpdate",value:function(e,t,n){var l=this;console.log(e,t,n);var a=Oe.a.mapValues(e,(function(e){return isNaN(e.value)?0:parseFloat(e.value)})),i=Oe.a.assign({},t,this.computeExpr(t.key,t.name,n,a));return console.log(i),e[t.key]=i,Oe.a.each(e,(function(n,a){n.expr&&"="===n.expr.charAt(0)&&n.expr.indexOf(t.key)>-1&&a!==t.key&&(e=l.cellUpdate(e,n,n.expr))})),e}},{key:"onCellsChanged",value:function(e){var t=this;console.log(e);var n=Oe.a.assign({},this.state);e.forEach((function(e){var l=e.cell,a=e.value;t.cellUpdate(n,l,a)})),this.setState(n);var l={};Object.keys(n).forEach((function(e,t){n[e].name&&n[e].name.length&&(l[t]={name:n[e].name,answer:n[e].value})})),this.setState(l)}},{key:"switchMode",value:function(){var e=Oe.a.assign({},this.state),t=[1,2,3,5,6,10,11,14,15,18,19],n=["A","B","C","D","E","F","G"];!1===e.mode?(e.mode=!0,t.forEach((function(t,l){return n.map((function(n,l){e[n+t].readOnly=!1}))}))):(e.mode=!1,t.forEach((function(t,l){return n.map((function(n,l){e[n+t].readOnly=!0}))}))),this.setState(e)}},{key:"addAdditional",value:function(){var e=Oe.a.assign({},this.state);e.number_additional+=1,this.setState(e)}},{key:"render",value:function(){var e=this,t=["5x5 Rx","10x10Rx","10x20Rx","T\xe9tras","Tampons","Peanuts","Cotono."];return Object(J.jsx)("div",{children:Object(J.jsxs)("div",{className:"sheet-container",children:[Object(J.jsx)(ke.a,{data:this.generateGrid(),valueRenderer:function(e){return e.value},dataRenderer:function(e){return e.expr},onCellsChanged:this.onCellsChanged}),Object(J.jsx)("div",{className:"bg-white text-dark  text-center p-2 border-bottom",children:Object(J.jsxs)("label",{className:"m-0",children:["Authoriser la modification \xa0 ",Object(J.jsx)("input",{type:"checkbox",checked:this.state.mode,onChange:this.switchMode})]})}),Object(J.jsx)("div",{className:"bg-white text-dark  text-center p-2 border-bottom",children:Object(J.jsxs)("label",{className:"m-0",children:["Ajouter compte additionnel (3 max) \xa0 ",Object(J.jsx)("button",{className:"btn btn-warning btn-round mb-1 py-0",type:"button",onClick:this.addAdditional,children:" + "})]})}),Object(J.jsxs)("div",{className:"bg-white text-dark  text-center p-2",children:["Le compte d'un paquet n'est pas correct ?",Object(J.jsxs)("div",{className:"dropdown text-center mt-2",children:[Object(J.jsx)("button",{className:"btn btn-warning dropdown-toggle  ",type:"button",id:"dropdownMenuButton1","data-toggle":"dropdown","aria-expanded":"false",children:"Rejeter un paquet"}),Object(J.jsx)("ul",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:["A","B","C","D","E","F","G"].map((function(n,l){return Object(J.jsx)("li",{children:Object(J.jsx)("label",{className:"dropdown-item ",onClick:function(){return e.subElement(n+1,"A"===n?5:"B"===n||"C"===n?10:1)},children:t[l]})},l)}))})]})]})]})})}}]),n}(a.a.Component));function Ce(e){var t=e.props,n=t.userList,a=t.onNewScanResult,i=t.switchUser,s=t.currentUser,c=(t.is_local,t.setUserList),o=Object(l.useState)(null),d=Object(r.a)(o,2),u=d[0],m=d[1];return Object(l.useEffect)((function(){K(0,c,m)}),[]),Object(J.jsx)("div",{className:"container p-2 mt-2",children:Object(J.jsx)("div",{className:"iq-card bg-white col-sm-12 mx-auto mb-0 p-2 text-center shadow-sm border justify-content-center",children:Object(J.jsxs)("div",{className:"card-body col-sm-6 mx-auto",children:[Object(J.jsx)("h3",{className:"card-title text-dark",children:" Identification de l'utilisateur "}),Object(J.jsx)("div",{className:"align-items-center my-auto mx-auto",children:Object(J.jsxs)("div",{className:"dropdown text-center",children:[Object(J.jsx)("button",{className:"btn btn-primary btn-round dropdown-toggle",type:"button",id:"dropdownMenuButton1","data-toggle":"dropdown","aria-expanded":"false",children:"S\xe9lectionnez l'utilisateur"}),Object(J.jsxs)("ul",{className:"dropdown-menu dropdown-menu-custom","aria-labelledby":"dropdownMenuButton1",children:[n?t.userList.map((function(e,t){return Object(J.jsx)("li",{children:Object(J.jsxs)("label",{className:"dropdown-item ",onClick:function(){return i(e.id)},children:[e.firstname,"\xa0",e.lastname]})},t)})):Object(J.jsx)("li",{children:Object(J.jsx)("label",{className:"dropdown-item ",children:" Pas d'utilisateurs"})}),Object(J.jsx)("li",{children:Object(J.jsx)("label",{className:"dropdown-item text-center m-0 ",id:"dropdownMenuButton1","data-toggle":"dropdown",children:Object(J.jsx)("div",{"data-icon":"W",className:"icon"})})})]})]})}),Object(J.jsx)("button",{className:"btn btn-warning btn-round mt-2",type:"button",onClick:function(){K(0,c)},children:Object(J.jsx)("div",{"data-icon":"Z",className:"icon pt-1"})}),u?Object(J.jsx)("div",{className:"iq-card mx-auto text-center p-2 shadow-sm border justify-content-center mt-2",children:Object(J.jsxs)("h6",{className:"card-text text-danger m-0 p-0",children:[" ",Object(J.jsxs)("div",{"data-icon":"\ue063",className:"icon text-danger",children:[" Aucun utilisateur n'est trouv\xe9, probl\xe8me de connexion (\"",u,'") ']})]})}):null,s?Object(J.jsx)("h4",{className:"card-title text-secondary mt-4 mb-0",children:"Scannez le QR code correspondant"}):null,s?Object(J.jsx)("h4",{className:"card-title text-secondary",children:Object(J.jsx)("div",{"data-icon":"k",className:"icon"})}):null,s?Object(J.jsx)("button",{className:"btn btn-outline-primary btn-round m-2",onClick:function(){a(f[s.id].user_code)},children:"Passer Qr Code"}):null]})})})}function we(){var e=this,t=!1,n=Object(l.useReducer)((function(e){return e+1}),0),a=Object(r.a)(n,2)[1],i=Object(l.useState)({username:"theo.stassen@hepl.be",password:"Test123."}),s=Object(r.a)(i,2),c=s[0],o=s[1],d=Object(l.useState)(!1),u=Object(r.a)(d,2),m=u[0],p=u[1],b=Object(l.useState)([]),h=Object(r.a)(b,2),v=h[0],y=h[1],O=Object(l.useState)(null),g=Object(r.a)(O,2),k=(g[0],g[1]),C=Object(l.useState)(null),w=Object(r.a)(C,2),A=w[0],I=w[1],S=Object(l.useState)([]),B=Object(r.a)(S,2),E=B[0],D=B[1],q=Object(l.useState)(null),F=Object(r.a)(q,2),G=F[0],P=F[1],R=Object(l.useState)(-1),L=Object(r.a)(R,2),V=L[0],T=L[1],K=Object(l.useState)(-1),H=Object(r.a)(K,2),X=H[0],Z=H[1],te=Object(l.useState)(null),ne=Object(r.a)(te,2),ae=ne[0],ie=ne[1],se=Object(l.useState)(null),ce=Object(r.a)(se,2),pe=ce[0],he=ce[1],je=Object(l.useState)(null),xe=Object(r.a)(je,2),ve=xe[0],ye=xe[1],Oe=Object(l.useState)({}),fe=Object(r.a)(Oe,2),ge=fe[0],ke=fe[1],we=Object(l.useState)({}),Ae=Object(r.a)(we,2),Ie=Ae[0],Se=Ae[1],Be=Object(l.useState)({}),Ee=Object(r.a)(Be,2),De=Ee[0],qe=Ee[1],Fe=Object(l.useState)([]),Ge=Object(r.a)(Fe,2),Me=Ge[0],Pe=Ge[1],Re=Object(l.useState)([]),Le=Object(r.a)(Re,2),Ve=Le[0],Te=Le[1],Ue=Object(l.useState)(0),Ke=Object(r.a)(Ue,2),He=Ke[0],Qe=Ke[1],ze=Object(l.useState)(!0),Je=Object(r.a)(ze,2),We=Je[0],Xe=Je[1],Ze=Object(l.useState)(!1),Ye=Object(r.a)(Ze,2),$e=Ye[0],et=Ye[1],tt=Object(l.useState)(!1),nt=Object(r.a)(tt,2),lt=nt[0],at=nt[1],it=Object(l.useState)(!0),st=Object(r.a)(it,2),rt=st[0],ct=st[1],ot=Object(l.useState)(!1),dt=Object(r.a)(ot,2),ut=dt[0],mt=dt[1],pt=Object(l.useState)(!1),bt=Object(r.a)(pt,2),ht=bt[0],jt=bt[1],xt=Object(l.useState)(!0),vt=Object(r.a)(xt,2),yt=vt[0],Ot=(vt[1],Object(l.useState)(!1)),ft=Object(r.a)(Ot,2),gt=ft[0],kt=ft[1],Nt=Object(l.useState)(!1),Ct=Object(r.a)(Nt,2),wt=(Ct[0],Ct[1],Object(l.useState)(null)),_t=Object(r.a)(wt,2),At=_t[0],It=(_t[1],Object(l.useState)(null)),St=Object(r.a)(It,2),Bt=St[0],Et=St[1],Dt=Object(l.useState)(null),qt=Object(r.a)(Dt,2),Ft=qt[0],Gt=qt[1],Mt={};_.forEach((function(e){Mt[e]={0:!0}}));var Pt=Object(l.useState)(Mt),Rt=Object(r.a)(Pt,2),Lt=Rt[0],Vt=Rt[1],Tt={};if(G){for(var Ut=0,Kt=Object.entries(G);Ut<Kt.length;Ut++){var Ht=Object(r.a)(Kt[Ut],2),Qt=Ht[0],zt=Ht[1];if("object"===typeof zt)for(var Jt=0,Wt=Object.entries(zt);Jt<Wt.length;Jt++){var Xt=Object(r.a)(Wt[Jt],2),Zt=Xt[0],Yt=Xt[1];Tt[Zt]=Yt}else Tt[Qt]=zt}Tt.age=function(e){var t=e.split("-");return(new Date).getFullYear()-t[0]}(Tt.dateofbirth),console.log("numdict",Tt)}var $t=Object(l.useState)(null),en=Object(r.a)($t,2),tn=en[0],nn=en[1];function ln(){Qe(0),Se({}),qe({});var e={};_.forEach((function(t){e[t]={0:!0}})),Vt(e),Te([])}Object(l.useEffect)((function(){vn=vn.bind(e),U(t,c,o,p,nn),console.log(navigator)}),[]);var an=Object(l.useState)(null),sn=Object(r.a)(an,2),rn=(sn[0],sn[1]),cn=Object(l.useState)(null),on=Object(r.a)(cn,2),dn=on[0],un=on[1],mn=function(e){return function(e,t,n,l,a,i,s,r,c,o,d,u,m,p,b,h,v,y,O,f){(new j).get(e?"#":"http://checklists.metoui.be/api/checklist/"+t).then((function(s){console.log("checklist swap call response",s);var c=n,o=e?x[t-1]:s.data.data.items;console.log("checklist_array",o),l=M(o,t),console.log("checklist",l);var d=i.filter((function(e){return e.id===t}))[0];l.name=d.title,l.person=d.person,l.counter=d.counter,l.type=d.type,a(l),z(O,v,{},r,o),u(!1),m(t),p(l&&l.values.length?l.values[0]:null),u(c),b(!1),h(),console.log("switch checklist get call and set finished")})).catch((function(e){f(e.message),b(!1)}))}(t,e,$e,pe,he,ae,0,ke,0,0,0,et,T,ye,Xe,ln,X,0,rn,un),pe};function pn(){for(var e=[["id","name","answer","is_problematic"]],n=0,l=Object.entries(Ie);n<l.length;n++){var a=Object(r.a)(l[n],2),i=a[0],s=a[1];e.push([i,s.name,s.answer,De[i]?"yes":"no"])}for(var c=[],o=0,d=Object.entries(Ie);o<d.length;o++){var u=Object(r.a)(d[o],2),m=u[0],p=u[1];c.push({item_id:m,name:p.name,importance:p.importance,answer:JSON.stringify(p.answer),is_pb:!!De[m]})}var b=c.some((function(e){return 1===e.importance&&!0===e.is_pb})),h={checklist_id:V,journey_id:X,user_id:A.id,patient_id:G.id,answers:c,is_blocking:b};console.log(Ie,h),function(e,t){(new j).post(e?"#":"http://checklists.metoui.be/api/evaluation",t).then((function(e){console.log("evaluation post response",e)}))}(t,h)}var bn=Object(l.useState)(null),hn=Object(r.a)(bn,2),jn=hn[0],xn=hn[1];function vn(e){console.log(e,Bt),window.scrollTo(0,0),gt?G.patient_code===e?Q(t,G,P,Z,ie,xn):(ie([{}]),Gt(e),ie([])):A.user_code===e?kt(!0):Gt(e)}var yn=null;Me=[],pe&&pe.values&&(yn=_e(pe.values,Lt,Tt,$e)).forEach((function(e){return e.check.length?Me.push(e.id):null}));var On=[Lt,Vt,Tt,Ie,De,Se,qe,Ve,Te,Me,Pe,ut,rt],fn=yn?yn.filter((function(e){return!Ie[e.id]&&e.check.includes("scan")})):null,gn=fn&&fn.length?fn[0].id:null;return console.log("current user",A),console.log(dn),Object(J.jsx)("div",{children:Object(J.jsxs)("div",{className:"min-vh-100 content-page bg-color-custom",children:[Object(J.jsxs)("div",{children:[Object(J.jsx)(W,{props:{creationMode:$e,setCreationMode:et,creditMode:lt,setCreditMode:at,setCommentMode:ct,commentMode:rt,setDebugMode:mt,debugMode:ut,trimmedCanvasUrl:At,checklistList:ae,swapchecklist:mn,reset:ln,forceUpdate:a,import_result:pn,result:Ie,setCurrentQuestion:ye,checklist:pe,homeMode:We,setHomeMode:Xe,setChecklistList:ie,setScanValue:Et,setCurrentPatient:P,setUserCode:k,setScanValueError:Gt,setCurrentUser:I,setUserValidated:kt,is_local:t,currentPatient:G,setPathId:Z}}),m?Object(J.jsx)("div",{children:lt?Object(J.jsx)($,{props:null}):Object(J.jsxs)("div",{children:[$e?Object(J.jsx)(Y,{props:{checklist:pe,setChecklist:he,checklistList:ae,setChecklistList:ie,checklistId:V,setChecklistId:T,forceUpdate:a,currentQuestion:ve,setCurrentQuestion:ye,reset:ln,is_local:t}}):null,Object(J.jsx)("div",{children:We?Object(J.jsx)("div",{children:ae&&ae.length||jn?Object(J.jsx)(be,{checklistList:ae,swapchecklist:mn,scanValue:Bt,currentPatient:G,is_local:t,currentUser:A,pathId:X,numDict:Tt,journeyErrorCode:jn}):Object(J.jsx)("div",{children:gt?Object(J.jsxs)("div",{children:[Object(J.jsx)(ee,{props:{currentPatient:G,setCurrentPatient:P,setIsDict:Vt,setResult:Se,setIsPreCheckDone:Te,forceUpdate:a,patientList:E,switchPatient:function(e){!function(e,t,n,l){(new j).get(e?"#":"http://checklists.metoui.be/api/patient/"+t).then((function(a){console.log("get patient at id response",a.data),console.log("get patient at id temp",N[t]);var i=e?N[t]:a.data;n(i||null),l(null)}))}(t,e,P,Gt)},setChecklistList:ie,setPathId:Z,onNewScanResult:vn,is_local:t,numDict:Tt,setPatientList:D}}),G?Object(J.jsx)("div",{className:"container p-2",children:Object(J.jsx)(le,{fps:10,qrbox:250,disableFlip:!1,qrCodeSuccessCallback:vn,scanValueError:Ft,scanValue:null,is_home:!0})},G.id):null]}):Object(J.jsxs)("div",{children:[Object(J.jsx)(Ce,{props:{userList:v,onNewScanResult:vn,switchUser:function(e){!function(e,t,n,l){(new j).get("#").then((function(e){console.log("get user at id response",e.data),console.log("get user at id temp",f[t]),n(f[t]||null),l(null)}))}(0,e,I,Gt)},currentUser:A,is_local:t,setUserList:y}}),A?Object(J.jsx)("div",{className:"container p-2",children:Object(J.jsx)(le,{fps:10,qrbox:250,disableFlip:!1,qrCodeSuccessCallback:vn,scanValueError:Ft,scanValue:null,is_home:!0})},A.id):null]})})}):Object(J.jsxs)("div",{id:"title",children:[$e?null:Object(J.jsx)(me,{checklistList:ae,checklistId:V,numDict:Tt,currentPatient:G,forceValidationMode:ht,setForceValidationMode:jt,is_local:t}),$e?null:Object(J.jsx)("div",{children:ge&&Object.values(ge).length?Object(J.jsx)(ue,{alertList:ge}):null}),null===dn&&pe?Object(J.jsx)("div",{children:0!==pe.type?Object(J.jsx)("div",{className:"container p-0 border-bottom border shadow-sm rounded ",children:yn?yn.map((function(e,n){return Object(J.jsxs)("div",{children:[e.section_title?Object(J.jsx)(oe,{section_title:e.section_title,index:n}):Object(J.jsx)("div",{className:"bg-primary "+(n?" border-top":"")}),Object(J.jsx)("div",{className:"pb-3 px-3 pt-3 "+(n===yn.length-1?"rounded rounded-0-top ":null)+(n||e.section_title?"":" rounded rounded-0-bottom ")+(e.importance?" iq-bg-danger":" bg-color-custom"),children:Object(J.jsx)(re,{init_items:pe,item:e,dicts:On,forceUpdate:a,values_filter_cond:_e,creationMode:$e,currentId:ve?ve.id:null,warningId:He,precheckMode:yt,is_root:!0,alertList:ge,scan_bookmark:gn===e.id,checklist_name:pe.name,is_local:t},JSON.stringify(V)+e.id)})]})})):null}):Object(J.jsx)(Ne,{result:Ie,setResult:Se})}):Object(J.jsx)("div",{className:"container iq-card bg-white mx-auto mb-0 mt-2 p-2 text-center shadow-sm border justify-content-center ",children:Object(J.jsx)("div",{className:"card-body iq-card mx-auto my-3 text-center p-2 shadow-sm border justify-content-center",children:Object(J.jsxs)("h6",{className:"card-text text-danger m-0 p-0",children:[" ",Object(J.jsxs)("div",{"data-icon":"\ue063",className:"icon text-danger",children:[' La checklist est introuvable, probl\xe8me de connexion ("',dn,'") ']})]})})}),!$e&&null===dn&&pe?Object(J.jsx)(de,{visibleList:Me,result:Ie,import_result:pn,checklist:pe,setWarningId:Qe,checklistList:ae,setChecklistList:ie,checklistId:V,forceValidationMode:ht}):null]})})]})}):Object(J.jsx)("div",{children:tn?Object(J.jsx)("div",{className:"container iq-card bg-white mx-auto mb-0 mt-2 p-2 text-center shadow-sm border justify-content-center ",children:Object(J.jsx)("div",{className:"card-body iq-card mx-auto my-3 text-center p-2 shadow-sm border justify-content-center",children:Object(J.jsxs)("h6",{className:"card-text text-danger m-0 p-0",children:[" ",Object(J.jsxs)("div",{"data-icon":"\ue063",className:"icon text-danger",children:[' Impossible de se connecter ("',tn,'") ']})]})})}):null})]}),Object(J.jsx)("div",{children:Object(J.jsx)("nav",{className:"navbar",children:Object(J.jsx)("label",{className:"navbar-brand",children:null})})})]})})}function _e(e,t,n,l,a){return a?e:e.filter((function(e){return Object.keys(e.cond).every((function(n){return"num"===n||!e.cond[n]||e.cond[n].every((function(e){return t[n][e]}))}))&&(l||e.cond.num.every((function(e){return!n[e.var]||q(n[e.var],e.op,e.val)})))}))}var Ae=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,494)).then((function(t){var n=t.getCLS,l=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),l(e),a(e),i(e),s(e)}))};s.a.render(Object(J.jsx)(a.a.StrictMode,{children:Object(J.jsx)(we,{})}),document.getElementById("root")),Ae()}},[[488,1,2]]]);
//# sourceMappingURL=main.4117eb05.chunk.js.map